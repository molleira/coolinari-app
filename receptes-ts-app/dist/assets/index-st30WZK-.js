function mE(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function yE(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Km={exports:{}},Ma={},Wm={exports:{}},G={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _s=Symbol.for("react.element"),gE=Symbol.for("react.portal"),wE=Symbol.for("react.fragment"),EE=Symbol.for("react.strict_mode"),SE=Symbol.for("react.profiler"),_E=Symbol.for("react.provider"),IE=Symbol.for("react.context"),TE=Symbol.for("react.forward_ref"),kE=Symbol.for("react.suspense"),CE=Symbol.for("react.memo"),NE=Symbol.for("react.lazy"),rp=Symbol.iterator;function xE(e){return e===null||typeof e!="object"?null:(e=rp&&e[rp]||e["@@iterator"],typeof e=="function"?e:null)}var Hm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Gm=Object.assign,Qm={};function Xi(e,t,n){this.props=e,this.context=t,this.refs=Qm,this.updater=n||Hm}Xi.prototype.isReactComponent={};Xi.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Xi.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Ym(){}Ym.prototype=Xi.prototype;function Wf(e,t,n){this.props=e,this.context=t,this.refs=Qm,this.updater=n||Hm}var Hf=Wf.prototype=new Ym;Hf.constructor=Wf;Gm(Hf,Xi.prototype);Hf.isPureReactComponent=!0;var ip=Array.isArray,Xm=Object.prototype.hasOwnProperty,Gf={current:null},Jm={key:!0,ref:!0,__self:!0,__source:!0};function Zm(e,t,n){var r,i={},o=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(o=""+t.key),t)Xm.call(t,r)&&!Jm.hasOwnProperty(r)&&(i[r]=t[r]);var u=arguments.length-2;if(u===1)i.children=n;else if(1<u){for(var a=Array(u),l=0;l<u;l++)a[l]=arguments[l+2];i.children=a}if(e&&e.defaultProps)for(r in u=e.defaultProps,u)i[r]===void 0&&(i[r]=u[r]);return{$$typeof:_s,type:e,key:o,ref:s,props:i,_owner:Gf.current}}function bE(e,t){return{$$typeof:_s,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Qf(e){return typeof e=="object"&&e!==null&&e.$$typeof===_s}function DE(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var op=/\/+/g;function Dl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?DE(""+e.key):t.toString(36)}function Eu(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case _s:case gE:s=!0}}if(s)return s=e,i=i(s),e=r===""?"."+Dl(s,0):r,ip(i)?(n="",e!=null&&(n=e.replace(op,"$&/")+"/"),Eu(i,t,n,"",function(l){return l})):i!=null&&(Qf(i)&&(i=bE(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(op,"$&/")+"/")+e)),t.push(i)),1;if(s=0,r=r===""?".":r+":",ip(e))for(var u=0;u<e.length;u++){o=e[u];var a=r+Dl(o,u);s+=Eu(o,t,n,a,i)}else if(a=xE(e),typeof a=="function")for(e=a.call(e),u=0;!(o=e.next()).done;)o=o.value,a=r+Dl(o,u++),s+=Eu(o,t,n,a,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Gs(e,t,n){if(e==null)return e;var r=[],i=0;return Eu(e,r,"","",function(o){return t.call(n,o,i++)}),r}function AE(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var rt={current:null},Su={transition:null},PE={ReactCurrentDispatcher:rt,ReactCurrentBatchConfig:Su,ReactCurrentOwner:Gf};G.Children={map:Gs,forEach:function(e,t,n){Gs(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Gs(e,function(){t++}),t},toArray:function(e){return Gs(e,function(t){return t})||[]},only:function(e){if(!Qf(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};G.Component=Xi;G.Fragment=wE;G.Profiler=SE;G.PureComponent=Wf;G.StrictMode=EE;G.Suspense=kE;G.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=PE;G.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Gm({},e.props),i=e.key,o=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,s=Gf.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(a in t)Xm.call(t,a)&&!Jm.hasOwnProperty(a)&&(r[a]=t[a]===void 0&&u!==void 0?u[a]:t[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){u=Array(a);for(var l=0;l<a;l++)u[l]=arguments[l+2];r.children=u}return{$$typeof:_s,type:e.type,key:i,ref:o,props:r,_owner:s}};G.createContext=function(e){return e={$$typeof:IE,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:_E,_context:e},e.Consumer=e};G.createElement=Zm;G.createFactory=function(e){var t=Zm.bind(null,e);return t.type=e,t};G.createRef=function(){return{current:null}};G.forwardRef=function(e){return{$$typeof:TE,render:e}};G.isValidElement=Qf;G.lazy=function(e){return{$$typeof:NE,_payload:{_status:-1,_result:e},_init:AE}};G.memo=function(e,t){return{$$typeof:CE,type:e,compare:t===void 0?null:t}};G.startTransition=function(e){var t=Su.transition;Su.transition={};try{e()}finally{Su.transition=t}};G.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};G.useCallback=function(e,t){return rt.current.useCallback(e,t)};G.useContext=function(e){return rt.current.useContext(e)};G.useDebugValue=function(){};G.useDeferredValue=function(e){return rt.current.useDeferredValue(e)};G.useEffect=function(e,t){return rt.current.useEffect(e,t)};G.useId=function(){return rt.current.useId()};G.useImperativeHandle=function(e,t,n){return rt.current.useImperativeHandle(e,t,n)};G.useInsertionEffect=function(e,t){return rt.current.useInsertionEffect(e,t)};G.useLayoutEffect=function(e,t){return rt.current.useLayoutEffect(e,t)};G.useMemo=function(e,t){return rt.current.useMemo(e,t)};G.useReducer=function(e,t,n){return rt.current.useReducer(e,t,n)};G.useRef=function(e){return rt.current.useRef(e)};G.useState=function(e){return rt.current.useState(e)};G.useSyncExternalStore=function(e,t,n){return rt.current.useSyncExternalStore(e,t,n)};G.useTransition=function(){return rt.current.useTransition()};G.version="18.2.0";Wm.exports=G;var A=Wm.exports;const ey=yE(A),RE=mE({__proto__:null,default:ey},[A]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OE=A,LE=Symbol.for("react.element"),ME=Symbol.for("react.fragment"),FE=Object.prototype.hasOwnProperty,$E=OE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,UE={key:!0,ref:!0,__self:!0,__source:!0};function ty(e,t,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)FE.call(t,r)&&!UE.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:LE,type:e,key:o,ref:s,props:i,_owner:$E.current}}Ma.Fragment=ME;Ma.jsx=ty;Ma.jsxs=ty;Km.exports=Ma;var $=Km.exports,gc={},ny={exports:{}},Dt={},ry={exports:{}},iy={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(O,B){var K=O.length;O.push(B);e:for(;0<K;){var me=K-1>>>1,be=O[me];if(0<i(be,B))O[me]=B,O[K]=be,K=me;else break e}}function n(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var B=O[0],K=O.pop();if(K!==B){O[0]=K;e:for(var me=0,be=O.length,Ws=be>>>1;me<Ws;){var dr=2*(me+1)-1,bl=O[dr],pr=dr+1,Hs=O[pr];if(0>i(bl,K))pr<be&&0>i(Hs,bl)?(O[me]=Hs,O[pr]=K,me=pr):(O[me]=bl,O[dr]=K,me=dr);else if(pr<be&&0>i(Hs,K))O[me]=Hs,O[pr]=K,me=pr;else break e}}return B}function i(O,B){var K=O.sortIndex-B.sortIndex;return K!==0?K:O.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();e.unstable_now=function(){return s.now()-u}}var a=[],l=[],c=1,f=null,h=3,p=!1,m=!1,g=!1,w=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,d=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(O){for(var B=n(l);B!==null;){if(B.callback===null)r(l);else if(B.startTime<=O)r(l),B.sortIndex=B.expirationTime,t(a,B);else break;B=n(l)}}function E(O){if(g=!1,y(O),!m)if(n(a)!==null)m=!0,Nl(_);else{var B=n(l);B!==null&&xl(E,B.startTime-O)}}function _(O,B){m=!1,g&&(g=!1,v(F),F=-1),p=!0;var K=h;try{for(y(B),f=n(a);f!==null&&(!(f.expirationTime>B)||O&&!st());){var me=f.callback;if(typeof me=="function"){f.callback=null,h=f.priorityLevel;var be=me(f.expirationTime<=B);B=e.unstable_now(),typeof be=="function"?f.callback=be:f===n(a)&&r(a),y(B)}else r(a);f=n(a)}if(f!==null)var Ws=!0;else{var dr=n(l);dr!==null&&xl(E,dr.startTime-B),Ws=!1}return Ws}finally{f=null,h=K,p=!1}}var x=!1,D=null,F=-1,te=5,q=-1;function st(){return!(e.unstable_now()-q<te)}function lo(){if(D!==null){var O=e.unstable_now();q=O;var B=!0;try{B=D(!0,O)}finally{B?co():(x=!1,D=null)}}else x=!1}var co;if(typeof d=="function")co=function(){d(lo)};else if(typeof MessageChannel<"u"){var np=new MessageChannel,vE=np.port2;np.port1.onmessage=lo,co=function(){vE.postMessage(null)}}else co=function(){w(lo,0)};function Nl(O){D=O,x||(x=!0,co())}function xl(O,B){F=w(function(){O(e.unstable_now())},B)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(O){O.callback=null},e.unstable_continueExecution=function(){m||p||(m=!0,Nl(_))},e.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):te=0<O?Math.floor(1e3/O):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(a)},e.unstable_next=function(O){switch(h){case 1:case 2:case 3:var B=3;break;default:B=h}var K=h;h=B;try{return O()}finally{h=K}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(O,B){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var K=h;h=O;try{return B()}finally{h=K}},e.unstable_scheduleCallback=function(O,B,K){var me=e.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?me+K:me):K=me,O){case 1:var be=-1;break;case 2:be=250;break;case 5:be=1073741823;break;case 4:be=1e4;break;default:be=5e3}return be=K+be,O={id:c++,callback:B,priorityLevel:O,startTime:K,expirationTime:be,sortIndex:-1},K>me?(O.sortIndex=K,t(l,O),n(a)===null&&O===n(l)&&(g?(v(F),F=-1):g=!0,xl(E,K-me))):(O.sortIndex=be,t(a,O),m||p||(m=!0,Nl(_))),O},e.unstable_shouldYield=st,e.unstable_wrapCallback=function(O){var B=h;return function(){var K=h;h=B;try{return O.apply(this,arguments)}finally{h=K}}}})(iy);ry.exports=iy;var VE=ry.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oy=A,Ct=VE;function N(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var sy=new Set,Vo={};function jr(e,t){Ci(e,t),Ci(e+"Capture",t)}function Ci(e,t){for(Vo[e]=t,e=0;e<t.length;e++)sy.add(t[e])}var yn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wc=Object.prototype.hasOwnProperty,jE=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,sp={},up={};function zE(e){return wc.call(up,e)?!0:wc.call(sp,e)?!1:jE.test(e)?up[e]=!0:(sp[e]=!0,!1)}function BE(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function qE(e,t,n,r){if(t===null||typeof t>"u"||BE(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function it(e,t,n,r,i,o,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var Fe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Fe[e]=new it(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Fe[t]=new it(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Fe[e]=new it(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Fe[e]=new it(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Fe[e]=new it(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Fe[e]=new it(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Fe[e]=new it(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Fe[e]=new it(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Fe[e]=new it(e,5,!1,e.toLowerCase(),null,!1,!1)});var Yf=/[\-:]([a-z])/g;function Xf(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Yf,Xf);Fe[t]=new it(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Yf,Xf);Fe[t]=new it(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Yf,Xf);Fe[t]=new it(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Fe[e]=new it(e,1,!1,e.toLowerCase(),null,!1,!1)});Fe.xlinkHref=new it("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Fe[e]=new it(e,1,!1,e.toLowerCase(),null,!0,!0)});function Jf(e,t,n,r){var i=Fe.hasOwnProperty(t)?Fe[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(qE(t,n,i,r)&&(n=null),r||i===null?zE(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var _n=oy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Qs=Symbol.for("react.element"),ii=Symbol.for("react.portal"),oi=Symbol.for("react.fragment"),Zf=Symbol.for("react.strict_mode"),Ec=Symbol.for("react.profiler"),uy=Symbol.for("react.provider"),ay=Symbol.for("react.context"),eh=Symbol.for("react.forward_ref"),Sc=Symbol.for("react.suspense"),_c=Symbol.for("react.suspense_list"),th=Symbol.for("react.memo"),bn=Symbol.for("react.lazy"),ly=Symbol.for("react.offscreen"),ap=Symbol.iterator;function fo(e){return e===null||typeof e!="object"?null:(e=ap&&e[ap]||e["@@iterator"],typeof e=="function"?e:null)}var he=Object.assign,Al;function _o(e){if(Al===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Al=t&&t[1]||""}return`
`+Al+e}var Pl=!1;function Rl(e,t){if(!e||Pl)return"";Pl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&typeof l.stack=="string"){for(var i=l.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,u=o.length-1;1<=s&&0<=u&&i[s]!==o[u];)u--;for(;1<=s&&0<=u;s--,u--)if(i[s]!==o[u]){if(s!==1||u!==1)do if(s--,u--,0>u||i[s]!==o[u]){var a=`
`+i[s].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=s&&0<=u);break}}}finally{Pl=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?_o(e):""}function KE(e){switch(e.tag){case 5:return _o(e.type);case 16:return _o("Lazy");case 13:return _o("Suspense");case 19:return _o("SuspenseList");case 0:case 2:case 15:return e=Rl(e.type,!1),e;case 11:return e=Rl(e.type.render,!1),e;case 1:return e=Rl(e.type,!0),e;default:return""}}function Ic(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case oi:return"Fragment";case ii:return"Portal";case Ec:return"Profiler";case Zf:return"StrictMode";case Sc:return"Suspense";case _c:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ay:return(e.displayName||"Context")+".Consumer";case uy:return(e._context.displayName||"Context")+".Provider";case eh:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case th:return t=e.displayName||null,t!==null?t:Ic(e.type)||"Memo";case bn:t=e._payload,e=e._init;try{return Ic(e(t))}catch{}}return null}function WE(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ic(t);case 8:return t===Zf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Zn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function cy(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function HE(e){var t=cy(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ys(e){e._valueTracker||(e._valueTracker=HE(e))}function fy(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=cy(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function $u(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Tc(e,t){var n=t.checked;return he({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function lp(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Zn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function hy(e,t){t=t.checked,t!=null&&Jf(e,"checked",t,!1)}function kc(e,t){hy(e,t);var n=Zn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Cc(e,t.type,n):t.hasOwnProperty("defaultValue")&&Cc(e,t.type,Zn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function cp(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Cc(e,t,n){(t!=="number"||$u(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Io=Array.isArray;function gi(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Zn(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Nc(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(N(91));return he({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function fp(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(N(92));if(Io(n)){if(1<n.length)throw Error(N(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Zn(n)}}function dy(e,t){var n=Zn(t.value),r=Zn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function hp(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function py(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function xc(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?py(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Xs,vy=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Xs=Xs||document.createElement("div"),Xs.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Xs.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function jo(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var xo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},GE=["Webkit","ms","Moz","O"];Object.keys(xo).forEach(function(e){GE.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),xo[t]=xo[e]})});function my(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||xo.hasOwnProperty(e)&&xo[e]?(""+t).trim():t+"px"}function yy(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=my(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var QE=he({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function bc(e,t){if(t){if(QE[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(N(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(N(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(N(61))}if(t.style!=null&&typeof t.style!="object")throw Error(N(62))}}function Dc(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ac=null;function nh(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Pc=null,wi=null,Ei=null;function dp(e){if(e=ks(e)){if(typeof Pc!="function")throw Error(N(280));var t=e.stateNode;t&&(t=ja(t),Pc(e.stateNode,e.type,t))}}function gy(e){wi?Ei?Ei.push(e):Ei=[e]:wi=e}function wy(){if(wi){var e=wi,t=Ei;if(Ei=wi=null,dp(e),t)for(e=0;e<t.length;e++)dp(t[e])}}function Ey(e,t){return e(t)}function Sy(){}var Ol=!1;function _y(e,t,n){if(Ol)return e(t,n);Ol=!0;try{return Ey(e,t,n)}finally{Ol=!1,(wi!==null||Ei!==null)&&(Sy(),wy())}}function zo(e,t){var n=e.stateNode;if(n===null)return null;var r=ja(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(N(231,t,typeof n));return n}var Rc=!1;if(yn)try{var ho={};Object.defineProperty(ho,"passive",{get:function(){Rc=!0}}),window.addEventListener("test",ho,ho),window.removeEventListener("test",ho,ho)}catch{Rc=!1}function YE(e,t,n,r,i,o,s,u,a){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(c){this.onError(c)}}var bo=!1,Uu=null,Vu=!1,Oc=null,XE={onError:function(e){bo=!0,Uu=e}};function JE(e,t,n,r,i,o,s,u,a){bo=!1,Uu=null,YE.apply(XE,arguments)}function ZE(e,t,n,r,i,o,s,u,a){if(JE.apply(this,arguments),bo){if(bo){var l=Uu;bo=!1,Uu=null}else throw Error(N(198));Vu||(Vu=!0,Oc=l)}}function zr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Iy(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function pp(e){if(zr(e)!==e)throw Error(N(188))}function eS(e){var t=e.alternate;if(!t){if(t=zr(e),t===null)throw Error(N(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return pp(i),e;if(o===r)return pp(i),t;o=o.sibling}throw Error(N(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(N(189))}}if(n.alternate!==r)throw Error(N(190))}if(n.tag!==3)throw Error(N(188));return n.stateNode.current===n?e:t}function Ty(e){return e=eS(e),e!==null?ky(e):null}function ky(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=ky(e);if(t!==null)return t;e=e.sibling}return null}var Cy=Ct.unstable_scheduleCallback,vp=Ct.unstable_cancelCallback,tS=Ct.unstable_shouldYield,nS=Ct.unstable_requestPaint,ye=Ct.unstable_now,rS=Ct.unstable_getCurrentPriorityLevel,rh=Ct.unstable_ImmediatePriority,Ny=Ct.unstable_UserBlockingPriority,ju=Ct.unstable_NormalPriority,iS=Ct.unstable_LowPriority,xy=Ct.unstable_IdlePriority,Fa=null,tn=null;function oS(e){if(tn&&typeof tn.onCommitFiberRoot=="function")try{tn.onCommitFiberRoot(Fa,e,void 0,(e.current.flags&128)===128)}catch{}}var qt=Math.clz32?Math.clz32:aS,sS=Math.log,uS=Math.LN2;function aS(e){return e>>>=0,e===0?32:31-(sS(e)/uS|0)|0}var Js=64,Zs=4194304;function To(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function zu(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=n&268435455;if(s!==0){var u=s&~i;u!==0?r=To(u):(o&=s,o!==0&&(r=To(o)))}else s=n&~i,s!==0?r=To(s):o!==0&&(r=To(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-qt(t),i=1<<n,r|=e[n],t&=~i;return r}function lS(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cS(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-qt(o),u=1<<s,a=i[s];a===-1?(!(u&n)||u&r)&&(i[s]=lS(u,t)):a<=t&&(e.expiredLanes|=u),o&=~u}}function Lc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function by(){var e=Js;return Js<<=1,!(Js&4194240)&&(Js=64),e}function Ll(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Is(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-qt(t),e[t]=n}function fS(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-qt(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function ih(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-qt(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var ee=0;function Dy(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Ay,oh,Py,Ry,Oy,Mc=!1,eu=[],zn=null,Bn=null,qn=null,Bo=new Map,qo=new Map,Pn=[],hS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function mp(e,t){switch(e){case"focusin":case"focusout":zn=null;break;case"dragenter":case"dragleave":Bn=null;break;case"mouseover":case"mouseout":qn=null;break;case"pointerover":case"pointerout":Bo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":qo.delete(t.pointerId)}}function po(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=ks(t),t!==null&&oh(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function dS(e,t,n,r,i){switch(t){case"focusin":return zn=po(zn,e,t,n,r,i),!0;case"dragenter":return Bn=po(Bn,e,t,n,r,i),!0;case"mouseover":return qn=po(qn,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Bo.set(o,po(Bo.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,qo.set(o,po(qo.get(o)||null,e,t,n,r,i)),!0}return!1}function Ly(e){var t=wr(e.target);if(t!==null){var n=zr(t);if(n!==null){if(t=n.tag,t===13){if(t=Iy(n),t!==null){e.blockedOn=t,Oy(e.priority,function(){Py(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function _u(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Fc(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Ac=r,n.target.dispatchEvent(r),Ac=null}else return t=ks(n),t!==null&&oh(t),e.blockedOn=n,!1;t.shift()}return!0}function yp(e,t,n){_u(e)&&n.delete(t)}function pS(){Mc=!1,zn!==null&&_u(zn)&&(zn=null),Bn!==null&&_u(Bn)&&(Bn=null),qn!==null&&_u(qn)&&(qn=null),Bo.forEach(yp),qo.forEach(yp)}function vo(e,t){e.blockedOn===t&&(e.blockedOn=null,Mc||(Mc=!0,Ct.unstable_scheduleCallback(Ct.unstable_NormalPriority,pS)))}function Ko(e){function t(i){return vo(i,e)}if(0<eu.length){vo(eu[0],e);for(var n=1;n<eu.length;n++){var r=eu[n];r.blockedOn===e&&(r.blockedOn=null)}}for(zn!==null&&vo(zn,e),Bn!==null&&vo(Bn,e),qn!==null&&vo(qn,e),Bo.forEach(t),qo.forEach(t),n=0;n<Pn.length;n++)r=Pn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Pn.length&&(n=Pn[0],n.blockedOn===null);)Ly(n),n.blockedOn===null&&Pn.shift()}var Si=_n.ReactCurrentBatchConfig,Bu=!0;function vS(e,t,n,r){var i=ee,o=Si.transition;Si.transition=null;try{ee=1,sh(e,t,n,r)}finally{ee=i,Si.transition=o}}function mS(e,t,n,r){var i=ee,o=Si.transition;Si.transition=null;try{ee=4,sh(e,t,n,r)}finally{ee=i,Si.transition=o}}function sh(e,t,n,r){if(Bu){var i=Fc(e,t,n,r);if(i===null)Kl(e,t,r,qu,n),mp(e,r);else if(dS(i,e,t,n,r))r.stopPropagation();else if(mp(e,r),t&4&&-1<hS.indexOf(e)){for(;i!==null;){var o=ks(i);if(o!==null&&Ay(o),o=Fc(e,t,n,r),o===null&&Kl(e,t,r,qu,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Kl(e,t,r,null,n)}}var qu=null;function Fc(e,t,n,r){if(qu=null,e=nh(r),e=wr(e),e!==null)if(t=zr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Iy(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return qu=e,null}function My(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(rS()){case rh:return 1;case Ny:return 4;case ju:case iS:return 16;case xy:return 536870912;default:return 16}default:return 16}}var $n=null,uh=null,Iu=null;function Fy(){if(Iu)return Iu;var e,t=uh,n=t.length,r,i="value"in $n?$n.value:$n.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===i[o-r];r++);return Iu=i.slice(e,1<r?1-r:void 0)}function Tu(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function tu(){return!0}function gp(){return!1}function At(e){function t(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var u in e)e.hasOwnProperty(u)&&(n=e[u],this[u]=n?n(o):o[u]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?tu:gp,this.isPropagationStopped=gp,this}return he(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=tu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=tu)},persist:function(){},isPersistent:tu}),t}var Ji={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ah=At(Ji),Ts=he({},Ji,{view:0,detail:0}),yS=At(Ts),Ml,Fl,mo,$a=he({},Ts,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lh,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==mo&&(mo&&e.type==="mousemove"?(Ml=e.screenX-mo.screenX,Fl=e.screenY-mo.screenY):Fl=Ml=0,mo=e),Ml)},movementY:function(e){return"movementY"in e?e.movementY:Fl}}),wp=At($a),gS=he({},$a,{dataTransfer:0}),wS=At(gS),ES=he({},Ts,{relatedTarget:0}),$l=At(ES),SS=he({},Ji,{animationName:0,elapsedTime:0,pseudoElement:0}),_S=At(SS),IS=he({},Ji,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),TS=At(IS),kS=he({},Ji,{data:0}),Ep=At(kS),CS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},NS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bS(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=xS[e])?!!t[e]:!1}function lh(){return bS}var DS=he({},Ts,{key:function(e){if(e.key){var t=CS[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Tu(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?NS[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lh,charCode:function(e){return e.type==="keypress"?Tu(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Tu(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),AS=At(DS),PS=he({},$a,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Sp=At(PS),RS=he({},Ts,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lh}),OS=At(RS),LS=he({},Ji,{propertyName:0,elapsedTime:0,pseudoElement:0}),MS=At(LS),FS=he({},$a,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),$S=At(FS),US=[9,13,27,32],ch=yn&&"CompositionEvent"in window,Do=null;yn&&"documentMode"in document&&(Do=document.documentMode);var VS=yn&&"TextEvent"in window&&!Do,$y=yn&&(!ch||Do&&8<Do&&11>=Do),_p=" ",Ip=!1;function Uy(e,t){switch(e){case"keyup":return US.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vy(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var si=!1;function jS(e,t){switch(e){case"compositionend":return Vy(t);case"keypress":return t.which!==32?null:(Ip=!0,_p);case"textInput":return e=t.data,e===_p&&Ip?null:e;default:return null}}function zS(e,t){if(si)return e==="compositionend"||!ch&&Uy(e,t)?(e=Fy(),Iu=uh=$n=null,si=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return $y&&t.locale!=="ko"?null:t.data;default:return null}}var BS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!BS[e.type]:t==="textarea"}function jy(e,t,n,r){gy(r),t=Ku(t,"onChange"),0<t.length&&(n=new ah("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ao=null,Wo=null;function qS(e){Jy(e,0)}function Ua(e){var t=li(e);if(fy(t))return e}function KS(e,t){if(e==="change")return t}var zy=!1;if(yn){var Ul;if(yn){var Vl="oninput"in document;if(!Vl){var kp=document.createElement("div");kp.setAttribute("oninput","return;"),Vl=typeof kp.oninput=="function"}Ul=Vl}else Ul=!1;zy=Ul&&(!document.documentMode||9<document.documentMode)}function Cp(){Ao&&(Ao.detachEvent("onpropertychange",By),Wo=Ao=null)}function By(e){if(e.propertyName==="value"&&Ua(Wo)){var t=[];jy(t,Wo,e,nh(e)),_y(qS,t)}}function WS(e,t,n){e==="focusin"?(Cp(),Ao=t,Wo=n,Ao.attachEvent("onpropertychange",By)):e==="focusout"&&Cp()}function HS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ua(Wo)}function GS(e,t){if(e==="click")return Ua(t)}function QS(e,t){if(e==="input"||e==="change")return Ua(t)}function YS(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Qt=typeof Object.is=="function"?Object.is:YS;function Ho(e,t){if(Qt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!wc.call(t,i)||!Qt(e[i],t[i]))return!1}return!0}function Np(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function xp(e,t){var n=Np(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Np(n)}}function qy(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?qy(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ky(){for(var e=window,t=$u();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=$u(e.document)}return t}function fh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function XS(e){var t=Ky(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&qy(n.ownerDocument.documentElement,n)){if(r!==null&&fh(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=xp(n,o);var s=xp(n,r);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var JS=yn&&"documentMode"in document&&11>=document.documentMode,ui=null,$c=null,Po=null,Uc=!1;function bp(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Uc||ui==null||ui!==$u(r)||(r=ui,"selectionStart"in r&&fh(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Po&&Ho(Po,r)||(Po=r,r=Ku($c,"onSelect"),0<r.length&&(t=new ah("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ui)))}function nu(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ai={animationend:nu("Animation","AnimationEnd"),animationiteration:nu("Animation","AnimationIteration"),animationstart:nu("Animation","AnimationStart"),transitionend:nu("Transition","TransitionEnd")},jl={},Wy={};yn&&(Wy=document.createElement("div").style,"AnimationEvent"in window||(delete ai.animationend.animation,delete ai.animationiteration.animation,delete ai.animationstart.animation),"TransitionEvent"in window||delete ai.transitionend.transition);function Va(e){if(jl[e])return jl[e];if(!ai[e])return e;var t=ai[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Wy)return jl[e]=t[n];return e}var Hy=Va("animationend"),Gy=Va("animationiteration"),Qy=Va("animationstart"),Yy=Va("transitionend"),Xy=new Map,Dp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function or(e,t){Xy.set(e,t),jr(t,[e])}for(var zl=0;zl<Dp.length;zl++){var Bl=Dp[zl],ZS=Bl.toLowerCase(),e_=Bl[0].toUpperCase()+Bl.slice(1);or(ZS,"on"+e_)}or(Hy,"onAnimationEnd");or(Gy,"onAnimationIteration");or(Qy,"onAnimationStart");or("dblclick","onDoubleClick");or("focusin","onFocus");or("focusout","onBlur");or(Yy,"onTransitionEnd");Ci("onMouseEnter",["mouseout","mouseover"]);Ci("onMouseLeave",["mouseout","mouseover"]);Ci("onPointerEnter",["pointerout","pointerover"]);Ci("onPointerLeave",["pointerout","pointerover"]);jr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));jr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));jr("onBeforeInput",["compositionend","keypress","textInput","paste"]);jr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));jr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));jr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ko="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),t_=new Set("cancel close invalid load scroll toggle".split(" ").concat(ko));function Ap(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,ZE(r,t,void 0,e),e.currentTarget=null}function Jy(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var u=r[s],a=u.instance,l=u.currentTarget;if(u=u.listener,a!==o&&i.isPropagationStopped())break e;Ap(i,u,l),o=a}else for(s=0;s<r.length;s++){if(u=r[s],a=u.instance,l=u.currentTarget,u=u.listener,a!==o&&i.isPropagationStopped())break e;Ap(i,u,l),o=a}}}if(Vu)throw e=Oc,Vu=!1,Oc=null,e}function ie(e,t){var n=t[qc];n===void 0&&(n=t[qc]=new Set);var r=e+"__bubble";n.has(r)||(Zy(t,e,2,!1),n.add(r))}function ql(e,t,n){var r=0;t&&(r|=4),Zy(n,e,r,t)}var ru="_reactListening"+Math.random().toString(36).slice(2);function Go(e){if(!e[ru]){e[ru]=!0,sy.forEach(function(n){n!=="selectionchange"&&(t_.has(n)||ql(n,!1,e),ql(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ru]||(t[ru]=!0,ql("selectionchange",!1,t))}}function Zy(e,t,n,r){switch(My(t)){case 1:var i=vS;break;case 4:i=mS;break;default:i=sh}n=i.bind(null,t,n,e),i=void 0,!Rc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Kl(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var u=r.stateNode.containerInfo;if(u===i||u.nodeType===8&&u.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var a=s.tag;if((a===3||a===4)&&(a=s.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;s=s.return}for(;u!==null;){if(s=wr(u),s===null)return;if(a=s.tag,a===5||a===6){r=o=s;continue e}u=u.parentNode}}r=r.return}_y(function(){var l=o,c=nh(n),f=[];e:{var h=Xy.get(e);if(h!==void 0){var p=ah,m=e;switch(e){case"keypress":if(Tu(n)===0)break e;case"keydown":case"keyup":p=AS;break;case"focusin":m="focus",p=$l;break;case"focusout":m="blur",p=$l;break;case"beforeblur":case"afterblur":p=$l;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=wp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=wS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=OS;break;case Hy:case Gy:case Qy:p=_S;break;case Yy:p=MS;break;case"scroll":p=yS;break;case"wheel":p=$S;break;case"copy":case"cut":case"paste":p=TS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Sp}var g=(t&4)!==0,w=!g&&e==="scroll",v=g?h!==null?h+"Capture":null:h;g=[];for(var d=l,y;d!==null;){y=d;var E=y.stateNode;if(y.tag===5&&E!==null&&(y=E,v!==null&&(E=zo(d,v),E!=null&&g.push(Qo(d,E,y)))),w)break;d=d.return}0<g.length&&(h=new p(h,m,null,n,c),f.push({event:h,listeners:g}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&n!==Ac&&(m=n.relatedTarget||n.fromElement)&&(wr(m)||m[gn]))break e;if((p||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,p?(m=n.relatedTarget||n.toElement,p=l,m=m?wr(m):null,m!==null&&(w=zr(m),m!==w||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=l),p!==m)){if(g=wp,E="onMouseLeave",v="onMouseEnter",d="mouse",(e==="pointerout"||e==="pointerover")&&(g=Sp,E="onPointerLeave",v="onPointerEnter",d="pointer"),w=p==null?h:li(p),y=m==null?h:li(m),h=new g(E,d+"leave",p,n,c),h.target=w,h.relatedTarget=y,E=null,wr(c)===l&&(g=new g(v,d+"enter",m,n,c),g.target=y,g.relatedTarget=w,E=g),w=E,p&&m)t:{for(g=p,v=m,d=0,y=g;y;y=Jr(y))d++;for(y=0,E=v;E;E=Jr(E))y++;for(;0<d-y;)g=Jr(g),d--;for(;0<y-d;)v=Jr(v),y--;for(;d--;){if(g===v||v!==null&&g===v.alternate)break t;g=Jr(g),v=Jr(v)}g=null}else g=null;p!==null&&Pp(f,h,p,g,!1),m!==null&&w!==null&&Pp(f,w,m,g,!0)}}e:{if(h=l?li(l):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var _=KS;else if(Tp(h))if(zy)_=QS;else{_=HS;var x=WS}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(_=GS);if(_&&(_=_(e,l))){jy(f,_,n,c);break e}x&&x(e,h,l),e==="focusout"&&(x=h._wrapperState)&&x.controlled&&h.type==="number"&&Cc(h,"number",h.value)}switch(x=l?li(l):window,e){case"focusin":(Tp(x)||x.contentEditable==="true")&&(ui=x,$c=l,Po=null);break;case"focusout":Po=$c=ui=null;break;case"mousedown":Uc=!0;break;case"contextmenu":case"mouseup":case"dragend":Uc=!1,bp(f,n,c);break;case"selectionchange":if(JS)break;case"keydown":case"keyup":bp(f,n,c)}var D;if(ch)e:{switch(e){case"compositionstart":var F="onCompositionStart";break e;case"compositionend":F="onCompositionEnd";break e;case"compositionupdate":F="onCompositionUpdate";break e}F=void 0}else si?Uy(e,n)&&(F="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(F="onCompositionStart");F&&($y&&n.locale!=="ko"&&(si||F!=="onCompositionStart"?F==="onCompositionEnd"&&si&&(D=Fy()):($n=c,uh="value"in $n?$n.value:$n.textContent,si=!0)),x=Ku(l,F),0<x.length&&(F=new Ep(F,e,null,n,c),f.push({event:F,listeners:x}),D?F.data=D:(D=Vy(n),D!==null&&(F.data=D)))),(D=VS?jS(e,n):zS(e,n))&&(l=Ku(l,"onBeforeInput"),0<l.length&&(c=new Ep("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:l}),c.data=D))}Jy(f,t)})}function Qo(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ku(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=zo(e,n),o!=null&&r.unshift(Qo(e,o,i)),o=zo(e,t),o!=null&&r.push(Qo(e,o,i))),e=e.return}return r}function Jr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Pp(e,t,n,r,i){for(var o=t._reactName,s=[];n!==null&&n!==r;){var u=n,a=u.alternate,l=u.stateNode;if(a!==null&&a===r)break;u.tag===5&&l!==null&&(u=l,i?(a=zo(n,o),a!=null&&s.unshift(Qo(n,a,u))):i||(a=zo(n,o),a!=null&&s.push(Qo(n,a,u)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var n_=/\r\n?/g,r_=/\u0000|\uFFFD/g;function Rp(e){return(typeof e=="string"?e:""+e).replace(n_,`
`).replace(r_,"")}function iu(e,t,n){if(t=Rp(t),Rp(e)!==t&&n)throw Error(N(425))}function Wu(){}var Vc=null,jc=null;function zc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Bc=typeof setTimeout=="function"?setTimeout:void 0,i_=typeof clearTimeout=="function"?clearTimeout:void 0,Op=typeof Promise=="function"?Promise:void 0,o_=typeof queueMicrotask=="function"?queueMicrotask:typeof Op<"u"?function(e){return Op.resolve(null).then(e).catch(s_)}:Bc;function s_(e){setTimeout(function(){throw e})}function Wl(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Ko(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Ko(t)}function Kn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Lp(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Zi=Math.random().toString(36).slice(2),Zt="__reactFiber$"+Zi,Yo="__reactProps$"+Zi,gn="__reactContainer$"+Zi,qc="__reactEvents$"+Zi,u_="__reactListeners$"+Zi,a_="__reactHandles$"+Zi;function wr(e){var t=e[Zt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[gn]||n[Zt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Lp(e);e!==null;){if(n=e[Zt])return n;e=Lp(e)}return t}e=n,n=e.parentNode}return null}function ks(e){return e=e[Zt]||e[gn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function li(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(N(33))}function ja(e){return e[Yo]||null}var Kc=[],ci=-1;function sr(e){return{current:e}}function se(e){0>ci||(e.current=Kc[ci],Kc[ci]=null,ci--)}function ne(e,t){ci++,Kc[ci]=e.current,e.current=t}var er={},He=sr(er),ft=sr(!1),Dr=er;function Ni(e,t){var n=e.type.contextTypes;if(!n)return er;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function ht(e){return e=e.childContextTypes,e!=null}function Hu(){se(ft),se(He)}function Mp(e,t,n){if(He.current!==er)throw Error(N(168));ne(He,t),ne(ft,n)}function eg(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(N(108,WE(e)||"Unknown",i));return he({},n,r)}function Gu(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||er,Dr=He.current,ne(He,e),ne(ft,ft.current),!0}function Fp(e,t,n){var r=e.stateNode;if(!r)throw Error(N(169));n?(e=eg(e,t,Dr),r.__reactInternalMemoizedMergedChildContext=e,se(ft),se(He),ne(He,e)):se(ft),ne(ft,n)}var ln=null,za=!1,Hl=!1;function tg(e){ln===null?ln=[e]:ln.push(e)}function l_(e){za=!0,tg(e)}function ur(){if(!Hl&&ln!==null){Hl=!0;var e=0,t=ee;try{var n=ln;for(ee=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}ln=null,za=!1}catch(i){throw ln!==null&&(ln=ln.slice(e+1)),Cy(rh,ur),i}finally{ee=t,Hl=!1}}return null}var fi=[],hi=0,Qu=null,Yu=0,Pt=[],Rt=0,Ar=null,cn=1,fn="";function mr(e,t){fi[hi++]=Yu,fi[hi++]=Qu,Qu=e,Yu=t}function ng(e,t,n){Pt[Rt++]=cn,Pt[Rt++]=fn,Pt[Rt++]=Ar,Ar=e;var r=cn;e=fn;var i=32-qt(r)-1;r&=~(1<<i),n+=1;var o=32-qt(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,cn=1<<32-qt(t)+i|n<<i|r,fn=o+e}else cn=1<<o|n<<i|r,fn=e}function hh(e){e.return!==null&&(mr(e,1),ng(e,1,0))}function dh(e){for(;e===Qu;)Qu=fi[--hi],fi[hi]=null,Yu=fi[--hi],fi[hi]=null;for(;e===Ar;)Ar=Pt[--Rt],Pt[Rt]=null,fn=Pt[--Rt],Pt[Rt]=null,cn=Pt[--Rt],Pt[Rt]=null}var Tt=null,St=null,ue=!1,Bt=null;function rg(e,t){var n=Ot(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function $p(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Tt=e,St=Kn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Tt=e,St=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Ar!==null?{id:cn,overflow:fn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ot(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Tt=e,St=null,!0):!1;default:return!1}}function Wc(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Hc(e){if(ue){var t=St;if(t){var n=t;if(!$p(e,t)){if(Wc(e))throw Error(N(418));t=Kn(n.nextSibling);var r=Tt;t&&$p(e,t)?rg(r,n):(e.flags=e.flags&-4097|2,ue=!1,Tt=e)}}else{if(Wc(e))throw Error(N(418));e.flags=e.flags&-4097|2,ue=!1,Tt=e}}}function Up(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Tt=e}function ou(e){if(e!==Tt)return!1;if(!ue)return Up(e),ue=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!zc(e.type,e.memoizedProps)),t&&(t=St)){if(Wc(e))throw ig(),Error(N(418));for(;t;)rg(e,t),t=Kn(t.nextSibling)}if(Up(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(N(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){St=Kn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}St=null}}else St=Tt?Kn(e.stateNode.nextSibling):null;return!0}function ig(){for(var e=St;e;)e=Kn(e.nextSibling)}function xi(){St=Tt=null,ue=!1}function ph(e){Bt===null?Bt=[e]:Bt.push(e)}var c_=_n.ReactCurrentBatchConfig;function jt(e,t){if(e&&e.defaultProps){t=he({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var Xu=sr(null),Ju=null,di=null,vh=null;function mh(){vh=di=Ju=null}function yh(e){var t=Xu.current;se(Xu),e._currentValue=t}function Gc(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function _i(e,t){Ju=e,vh=di=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(lt=!0),e.firstContext=null)}function Mt(e){var t=e._currentValue;if(vh!==e)if(e={context:e,memoizedValue:t,next:null},di===null){if(Ju===null)throw Error(N(308));di=e,Ju.dependencies={lanes:0,firstContext:e}}else di=di.next=e;return t}var Er=null;function gh(e){Er===null?Er=[e]:Er.push(e)}function og(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,gh(t)):(n.next=i.next,i.next=n),t.interleaved=n,wn(e,r)}function wn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Dn=!1;function wh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function sg(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function dn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Wn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Y&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,wn(e,n)}return i=r.interleaved,i===null?(t.next=t,gh(r)):(t.next=i.next,i.next=t),r.interleaved=t,wn(e,n)}function ku(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ih(e,n)}}function Vp(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Zu(e,t,n,r){var i=e.updateQueue;Dn=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,u=i.shared.pending;if(u!==null){i.shared.pending=null;var a=u,l=a.next;a.next=null,s===null?o=l:s.next=l,s=a;var c=e.alternate;c!==null&&(c=c.updateQueue,u=c.lastBaseUpdate,u!==s&&(u===null?c.firstBaseUpdate=l:u.next=l,c.lastBaseUpdate=a))}if(o!==null){var f=i.baseState;s=0,c=l=a=null,u=o;do{var h=u.lane,p=u.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:p,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var m=e,g=u;switch(h=t,p=n,g.tag){case 1:if(m=g.payload,typeof m=="function"){f=m.call(p,f,h);break e}f=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=g.payload,h=typeof m=="function"?m.call(p,f,h):m,h==null)break e;f=he({},f,h);break e;case 2:Dn=!0}}u.callback!==null&&u.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[u]:h.push(u))}else p={eventTime:p,lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},c===null?(l=c=p,a=f):c=c.next=p,s|=h;if(u=u.next,u===null){if(u=i.shared.pending,u===null)break;h=u,u=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(c===null&&(a=f),i.baseState=a,i.firstBaseUpdate=l,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);Rr|=s,e.lanes=s,e.memoizedState=f}}function jp(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(N(191,i));i.call(r)}}}var ug=new oy.Component().refs;function Qc(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:he({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ba={isMounted:function(e){return(e=e._reactInternals)?zr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=nt(),i=Gn(e),o=dn(r,i);o.payload=t,n!=null&&(o.callback=n),t=Wn(e,o,i),t!==null&&(Kt(t,e,i,r),ku(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=nt(),i=Gn(e),o=dn(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Wn(e,o,i),t!==null&&(Kt(t,e,i,r),ku(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=nt(),r=Gn(e),i=dn(n,r);i.tag=2,t!=null&&(i.callback=t),t=Wn(e,i,r),t!==null&&(Kt(t,e,r,n),ku(t,e,r))}};function zp(e,t,n,r,i,o,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,s):t.prototype&&t.prototype.isPureReactComponent?!Ho(n,r)||!Ho(i,o):!0}function ag(e,t,n){var r=!1,i=er,o=t.contextType;return typeof o=="object"&&o!==null?o=Mt(o):(i=ht(t)?Dr:He.current,r=t.contextTypes,o=(r=r!=null)?Ni(e,i):er),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ba,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Bp(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ba.enqueueReplaceState(t,t.state,null)}function Yc(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=ug,wh(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=Mt(o):(o=ht(t)?Dr:He.current,i.context=Ni(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Qc(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Ba.enqueueReplaceState(i,i.state,null),Zu(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function yo(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(N(309));var r=n.stateNode}if(!r)throw Error(N(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(s){var u=i.refs;u===ug&&(u=i.refs={}),s===null?delete u[o]:u[o]=s},t._stringRef=o,t)}if(typeof e!="string")throw Error(N(284));if(!n._owner)throw Error(N(290,e))}return e}function su(e,t){throw e=Object.prototype.toString.call(t),Error(N(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function qp(e){var t=e._init;return t(e._payload)}function lg(e){function t(v,d){if(e){var y=v.deletions;y===null?(v.deletions=[d],v.flags|=16):y.push(d)}}function n(v,d){if(!e)return null;for(;d!==null;)t(v,d),d=d.sibling;return null}function r(v,d){for(v=new Map;d!==null;)d.key!==null?v.set(d.key,d):v.set(d.index,d),d=d.sibling;return v}function i(v,d){return v=Qn(v,d),v.index=0,v.sibling=null,v}function o(v,d,y){return v.index=y,e?(y=v.alternate,y!==null?(y=y.index,y<d?(v.flags|=2,d):y):(v.flags|=2,d)):(v.flags|=1048576,d)}function s(v){return e&&v.alternate===null&&(v.flags|=2),v}function u(v,d,y,E){return d===null||d.tag!==6?(d=ec(y,v.mode,E),d.return=v,d):(d=i(d,y),d.return=v,d)}function a(v,d,y,E){var _=y.type;return _===oi?c(v,d,y.props.children,E,y.key):d!==null&&(d.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===bn&&qp(_)===d.type)?(E=i(d,y.props),E.ref=yo(v,d,y),E.return=v,E):(E=Au(y.type,y.key,y.props,null,v.mode,E),E.ref=yo(v,d,y),E.return=v,E)}function l(v,d,y,E){return d===null||d.tag!==4||d.stateNode.containerInfo!==y.containerInfo||d.stateNode.implementation!==y.implementation?(d=tc(y,v.mode,E),d.return=v,d):(d=i(d,y.children||[]),d.return=v,d)}function c(v,d,y,E,_){return d===null||d.tag!==7?(d=Cr(y,v.mode,E,_),d.return=v,d):(d=i(d,y),d.return=v,d)}function f(v,d,y){if(typeof d=="string"&&d!==""||typeof d=="number")return d=ec(""+d,v.mode,y),d.return=v,d;if(typeof d=="object"&&d!==null){switch(d.$$typeof){case Qs:return y=Au(d.type,d.key,d.props,null,v.mode,y),y.ref=yo(v,null,d),y.return=v,y;case ii:return d=tc(d,v.mode,y),d.return=v,d;case bn:var E=d._init;return f(v,E(d._payload),y)}if(Io(d)||fo(d))return d=Cr(d,v.mode,y,null),d.return=v,d;su(v,d)}return null}function h(v,d,y,E){var _=d!==null?d.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return _!==null?null:u(v,d,""+y,E);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Qs:return y.key===_?a(v,d,y,E):null;case ii:return y.key===_?l(v,d,y,E):null;case bn:return _=y._init,h(v,d,_(y._payload),E)}if(Io(y)||fo(y))return _!==null?null:c(v,d,y,E,null);su(v,y)}return null}function p(v,d,y,E,_){if(typeof E=="string"&&E!==""||typeof E=="number")return v=v.get(y)||null,u(d,v,""+E,_);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Qs:return v=v.get(E.key===null?y:E.key)||null,a(d,v,E,_);case ii:return v=v.get(E.key===null?y:E.key)||null,l(d,v,E,_);case bn:var x=E._init;return p(v,d,y,x(E._payload),_)}if(Io(E)||fo(E))return v=v.get(y)||null,c(d,v,E,_,null);su(d,E)}return null}function m(v,d,y,E){for(var _=null,x=null,D=d,F=d=0,te=null;D!==null&&F<y.length;F++){D.index>F?(te=D,D=null):te=D.sibling;var q=h(v,D,y[F],E);if(q===null){D===null&&(D=te);break}e&&D&&q.alternate===null&&t(v,D),d=o(q,d,F),x===null?_=q:x.sibling=q,x=q,D=te}if(F===y.length)return n(v,D),ue&&mr(v,F),_;if(D===null){for(;F<y.length;F++)D=f(v,y[F],E),D!==null&&(d=o(D,d,F),x===null?_=D:x.sibling=D,x=D);return ue&&mr(v,F),_}for(D=r(v,D);F<y.length;F++)te=p(D,v,F,y[F],E),te!==null&&(e&&te.alternate!==null&&D.delete(te.key===null?F:te.key),d=o(te,d,F),x===null?_=te:x.sibling=te,x=te);return e&&D.forEach(function(st){return t(v,st)}),ue&&mr(v,F),_}function g(v,d,y,E){var _=fo(y);if(typeof _!="function")throw Error(N(150));if(y=_.call(y),y==null)throw Error(N(151));for(var x=_=null,D=d,F=d=0,te=null,q=y.next();D!==null&&!q.done;F++,q=y.next()){D.index>F?(te=D,D=null):te=D.sibling;var st=h(v,D,q.value,E);if(st===null){D===null&&(D=te);break}e&&D&&st.alternate===null&&t(v,D),d=o(st,d,F),x===null?_=st:x.sibling=st,x=st,D=te}if(q.done)return n(v,D),ue&&mr(v,F),_;if(D===null){for(;!q.done;F++,q=y.next())q=f(v,q.value,E),q!==null&&(d=o(q,d,F),x===null?_=q:x.sibling=q,x=q);return ue&&mr(v,F),_}for(D=r(v,D);!q.done;F++,q=y.next())q=p(D,v,F,q.value,E),q!==null&&(e&&q.alternate!==null&&D.delete(q.key===null?F:q.key),d=o(q,d,F),x===null?_=q:x.sibling=q,x=q);return e&&D.forEach(function(lo){return t(v,lo)}),ue&&mr(v,F),_}function w(v,d,y,E){if(typeof y=="object"&&y!==null&&y.type===oi&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Qs:e:{for(var _=y.key,x=d;x!==null;){if(x.key===_){if(_=y.type,_===oi){if(x.tag===7){n(v,x.sibling),d=i(x,y.props.children),d.return=v,v=d;break e}}else if(x.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===bn&&qp(_)===x.type){n(v,x.sibling),d=i(x,y.props),d.ref=yo(v,x,y),d.return=v,v=d;break e}n(v,x);break}else t(v,x);x=x.sibling}y.type===oi?(d=Cr(y.props.children,v.mode,E,y.key),d.return=v,v=d):(E=Au(y.type,y.key,y.props,null,v.mode,E),E.ref=yo(v,d,y),E.return=v,v=E)}return s(v);case ii:e:{for(x=y.key;d!==null;){if(d.key===x)if(d.tag===4&&d.stateNode.containerInfo===y.containerInfo&&d.stateNode.implementation===y.implementation){n(v,d.sibling),d=i(d,y.children||[]),d.return=v,v=d;break e}else{n(v,d);break}else t(v,d);d=d.sibling}d=tc(y,v.mode,E),d.return=v,v=d}return s(v);case bn:return x=y._init,w(v,d,x(y._payload),E)}if(Io(y))return m(v,d,y,E);if(fo(y))return g(v,d,y,E);su(v,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,d!==null&&d.tag===6?(n(v,d.sibling),d=i(d,y),d.return=v,v=d):(n(v,d),d=ec(y,v.mode,E),d.return=v,v=d),s(v)):n(v,d)}return w}var bi=lg(!0),cg=lg(!1),Cs={},nn=sr(Cs),Xo=sr(Cs),Jo=sr(Cs);function Sr(e){if(e===Cs)throw Error(N(174));return e}function Eh(e,t){switch(ne(Jo,t),ne(Xo,e),ne(nn,Cs),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:xc(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=xc(t,e)}se(nn),ne(nn,t)}function Di(){se(nn),se(Xo),se(Jo)}function fg(e){Sr(Jo.current);var t=Sr(nn.current),n=xc(t,e.type);t!==n&&(ne(Xo,e),ne(nn,n))}function Sh(e){Xo.current===e&&(se(nn),se(Xo))}var le=sr(0);function ea(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Gl=[];function _h(){for(var e=0;e<Gl.length;e++)Gl[e]._workInProgressVersionPrimary=null;Gl.length=0}var Cu=_n.ReactCurrentDispatcher,Ql=_n.ReactCurrentBatchConfig,Pr=0,fe=null,Te=null,Ae=null,ta=!1,Ro=!1,Zo=0,f_=0;function $e(){throw Error(N(321))}function Ih(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Qt(e[n],t[n]))return!1;return!0}function Th(e,t,n,r,i,o){if(Pr=o,fe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Cu.current=e===null||e.memoizedState===null?v_:m_,e=n(r,i),Ro){o=0;do{if(Ro=!1,Zo=0,25<=o)throw Error(N(301));o+=1,Ae=Te=null,t.updateQueue=null,Cu.current=y_,e=n(r,i)}while(Ro)}if(Cu.current=na,t=Te!==null&&Te.next!==null,Pr=0,Ae=Te=fe=null,ta=!1,t)throw Error(N(300));return e}function kh(){var e=Zo!==0;return Zo=0,e}function Xt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?fe.memoizedState=Ae=e:Ae=Ae.next=e,Ae}function Ft(){if(Te===null){var e=fe.alternate;e=e!==null?e.memoizedState:null}else e=Te.next;var t=Ae===null?fe.memoizedState:Ae.next;if(t!==null)Ae=t,Te=e;else{if(e===null)throw Error(N(310));Te=e,e={memoizedState:Te.memoizedState,baseState:Te.baseState,baseQueue:Te.baseQueue,queue:Te.queue,next:null},Ae===null?fe.memoizedState=Ae=e:Ae=Ae.next=e}return Ae}function es(e,t){return typeof t=="function"?t(e):t}function Yl(e){var t=Ft(),n=t.queue;if(n===null)throw Error(N(311));n.lastRenderedReducer=e;var r=Te,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var u=s=null,a=null,l=o;do{var c=l.lane;if((Pr&c)===c)a!==null&&(a=a.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var f={lane:c,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};a===null?(u=a=f,s=r):a=a.next=f,fe.lanes|=c,Rr|=c}l=l.next}while(l!==null&&l!==o);a===null?s=r:a.next=u,Qt(r,t.memoizedState)||(lt=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=a,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,fe.lanes|=o,Rr|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Xl(e){var t=Ft(),n=t.queue;if(n===null)throw Error(N(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=e(o,s.action),s=s.next;while(s!==i);Qt(o,t.memoizedState)||(lt=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function hg(){}function dg(e,t){var n=fe,r=Ft(),i=t(),o=!Qt(r.memoizedState,i);if(o&&(r.memoizedState=i,lt=!0),r=r.queue,Ch(mg.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||Ae!==null&&Ae.memoizedState.tag&1){if(n.flags|=2048,ts(9,vg.bind(null,n,r,i,t),void 0,null),Pe===null)throw Error(N(349));Pr&30||pg(n,t,i)}return i}function pg(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=fe.updateQueue,t===null?(t={lastEffect:null,stores:null},fe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function vg(e,t,n,r){t.value=n,t.getSnapshot=r,yg(t)&&gg(e)}function mg(e,t,n){return n(function(){yg(t)&&gg(e)})}function yg(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Qt(e,n)}catch{return!0}}function gg(e){var t=wn(e,1);t!==null&&Kt(t,e,1,-1)}function Kp(e){var t=Xt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:es,lastRenderedState:e},t.queue=e,e=e.dispatch=p_.bind(null,fe,e),[t.memoizedState,e]}function ts(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=fe.updateQueue,t===null?(t={lastEffect:null,stores:null},fe.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function wg(){return Ft().memoizedState}function Nu(e,t,n,r){var i=Xt();fe.flags|=e,i.memoizedState=ts(1|t,n,void 0,r===void 0?null:r)}function qa(e,t,n,r){var i=Ft();r=r===void 0?null:r;var o=void 0;if(Te!==null){var s=Te.memoizedState;if(o=s.destroy,r!==null&&Ih(r,s.deps)){i.memoizedState=ts(t,n,o,r);return}}fe.flags|=e,i.memoizedState=ts(1|t,n,o,r)}function Wp(e,t){return Nu(8390656,8,e,t)}function Ch(e,t){return qa(2048,8,e,t)}function Eg(e,t){return qa(4,2,e,t)}function Sg(e,t){return qa(4,4,e,t)}function _g(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Ig(e,t,n){return n=n!=null?n.concat([e]):null,qa(4,4,_g.bind(null,t,e),n)}function Nh(){}function Tg(e,t){var n=Ft();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ih(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function kg(e,t){var n=Ft();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ih(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Cg(e,t,n){return Pr&21?(Qt(n,t)||(n=by(),fe.lanes|=n,Rr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,lt=!0),e.memoizedState=n)}function h_(e,t){var n=ee;ee=n!==0&&4>n?n:4,e(!0);var r=Ql.transition;Ql.transition={};try{e(!1),t()}finally{ee=n,Ql.transition=r}}function Ng(){return Ft().memoizedState}function d_(e,t,n){var r=Gn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},xg(e))bg(t,n);else if(n=og(e,t,n,r),n!==null){var i=nt();Kt(n,e,r,i),Dg(n,t,r)}}function p_(e,t,n){var r=Gn(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(xg(e))bg(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var s=t.lastRenderedState,u=o(s,n);if(i.hasEagerState=!0,i.eagerState=u,Qt(u,s)){var a=t.interleaved;a===null?(i.next=i,gh(t)):(i.next=a.next,a.next=i),t.interleaved=i;return}}catch{}finally{}n=og(e,t,i,r),n!==null&&(i=nt(),Kt(n,e,r,i),Dg(n,t,r))}}function xg(e){var t=e.alternate;return e===fe||t!==null&&t===fe}function bg(e,t){Ro=ta=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Dg(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ih(e,n)}}var na={readContext:Mt,useCallback:$e,useContext:$e,useEffect:$e,useImperativeHandle:$e,useInsertionEffect:$e,useLayoutEffect:$e,useMemo:$e,useReducer:$e,useRef:$e,useState:$e,useDebugValue:$e,useDeferredValue:$e,useTransition:$e,useMutableSource:$e,useSyncExternalStore:$e,useId:$e,unstable_isNewReconciler:!1},v_={readContext:Mt,useCallback:function(e,t){return Xt().memoizedState=[e,t===void 0?null:t],e},useContext:Mt,useEffect:Wp,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Nu(4194308,4,_g.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Nu(4194308,4,e,t)},useInsertionEffect:function(e,t){return Nu(4,2,e,t)},useMemo:function(e,t){var n=Xt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Xt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=d_.bind(null,fe,e),[r.memoizedState,e]},useRef:function(e){var t=Xt();return e={current:e},t.memoizedState=e},useState:Kp,useDebugValue:Nh,useDeferredValue:function(e){return Xt().memoizedState=e},useTransition:function(){var e=Kp(!1),t=e[0];return e=h_.bind(null,e[1]),Xt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=fe,i=Xt();if(ue){if(n===void 0)throw Error(N(407));n=n()}else{if(n=t(),Pe===null)throw Error(N(349));Pr&30||pg(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Wp(mg.bind(null,r,o,e),[e]),r.flags|=2048,ts(9,vg.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Xt(),t=Pe.identifierPrefix;if(ue){var n=fn,r=cn;n=(r&~(1<<32-qt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Zo++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=f_++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},m_={readContext:Mt,useCallback:Tg,useContext:Mt,useEffect:Ch,useImperativeHandle:Ig,useInsertionEffect:Eg,useLayoutEffect:Sg,useMemo:kg,useReducer:Yl,useRef:wg,useState:function(){return Yl(es)},useDebugValue:Nh,useDeferredValue:function(e){var t=Ft();return Cg(t,Te.memoizedState,e)},useTransition:function(){var e=Yl(es)[0],t=Ft().memoizedState;return[e,t]},useMutableSource:hg,useSyncExternalStore:dg,useId:Ng,unstable_isNewReconciler:!1},y_={readContext:Mt,useCallback:Tg,useContext:Mt,useEffect:Ch,useImperativeHandle:Ig,useInsertionEffect:Eg,useLayoutEffect:Sg,useMemo:kg,useReducer:Xl,useRef:wg,useState:function(){return Xl(es)},useDebugValue:Nh,useDeferredValue:function(e){var t=Ft();return Te===null?t.memoizedState=e:Cg(t,Te.memoizedState,e)},useTransition:function(){var e=Xl(es)[0],t=Ft().memoizedState;return[e,t]},useMutableSource:hg,useSyncExternalStore:dg,useId:Ng,unstable_isNewReconciler:!1};function Ai(e,t){try{var n="",r=t;do n+=KE(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function Jl(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Xc(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var g_=typeof WeakMap=="function"?WeakMap:Map;function Ag(e,t,n){n=dn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ia||(ia=!0,af=r),Xc(e,t)},n}function Pg(e,t,n){n=dn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Xc(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Xc(e,t),typeof r!="function"&&(Hn===null?Hn=new Set([this]):Hn.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function Hp(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new g_;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=P_.bind(null,e,t,n),t.then(e,e))}function Gp(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Qp(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=dn(-1,1),t.tag=2,Wn(n,t,1))),n.lanes|=1),e)}var w_=_n.ReactCurrentOwner,lt=!1;function Ye(e,t,n,r){t.child=e===null?cg(t,null,n,r):bi(t,e.child,n,r)}function Yp(e,t,n,r,i){n=n.render;var o=t.ref;return _i(t,i),r=Th(e,t,n,r,o,i),n=kh(),e!==null&&!lt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,En(e,t,i)):(ue&&n&&hh(t),t.flags|=1,Ye(e,t,r,i),t.child)}function Xp(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!Lh(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,Rg(e,t,o,r,i)):(e=Au(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Ho,n(s,r)&&e.ref===t.ref)return En(e,t,i)}return t.flags|=1,e=Qn(o,r),e.ref=t.ref,e.return=t,t.child=e}function Rg(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(Ho(o,r)&&e.ref===t.ref)if(lt=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(lt=!0);else return t.lanes=e.lanes,En(e,t,i)}return Jc(e,t,n,r,i)}function Og(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ne(vi,yt),yt|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ne(vi,yt),yt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,ne(vi,yt),yt|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,ne(vi,yt),yt|=r;return Ye(e,t,i,n),t.child}function Lg(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Jc(e,t,n,r,i){var o=ht(n)?Dr:He.current;return o=Ni(t,o),_i(t,i),n=Th(e,t,n,r,o,i),r=kh(),e!==null&&!lt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,En(e,t,i)):(ue&&r&&hh(t),t.flags|=1,Ye(e,t,n,i),t.child)}function Jp(e,t,n,r,i){if(ht(n)){var o=!0;Gu(t)}else o=!1;if(_i(t,i),t.stateNode===null)xu(e,t),ag(t,n,r),Yc(t,n,r,i),r=!0;else if(e===null){var s=t.stateNode,u=t.memoizedProps;s.props=u;var a=s.context,l=n.contextType;typeof l=="object"&&l!==null?l=Mt(l):(l=ht(n)?Dr:He.current,l=Ni(t,l));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(u!==r||a!==l)&&Bp(t,s,r,l),Dn=!1;var h=t.memoizedState;s.state=h,Zu(t,r,s,i),a=t.memoizedState,u!==r||h!==a||ft.current||Dn?(typeof c=="function"&&(Qc(t,n,c,r),a=t.memoizedState),(u=Dn||zp(t,n,u,r,h,a,l))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),s.props=r,s.state=a,s.context=l,r=u):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,sg(e,t),u=t.memoizedProps,l=t.type===t.elementType?u:jt(t.type,u),s.props=l,f=t.pendingProps,h=s.context,a=n.contextType,typeof a=="object"&&a!==null?a=Mt(a):(a=ht(n)?Dr:He.current,a=Ni(t,a));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(u!==f||h!==a)&&Bp(t,s,r,a),Dn=!1,h=t.memoizedState,s.state=h,Zu(t,r,s,i);var m=t.memoizedState;u!==f||h!==m||ft.current||Dn?(typeof p=="function"&&(Qc(t,n,p,r),m=t.memoizedState),(l=Dn||zp(t,n,l,r,h,m,a)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,m,a),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,m,a)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=m),s.props=r,s.state=m,s.context=a,r=l):(typeof s.componentDidUpdate!="function"||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Zc(e,t,n,r,o,i)}function Zc(e,t,n,r,i,o){Lg(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return i&&Fp(t,n,!1),En(e,t,o);r=t.stateNode,w_.current=t;var u=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=bi(t,e.child,null,o),t.child=bi(t,null,u,o)):Ye(e,t,u,o),t.memoizedState=r.state,i&&Fp(t,n,!0),t.child}function Mg(e){var t=e.stateNode;t.pendingContext?Mp(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Mp(e,t.context,!1),Eh(e,t.containerInfo)}function Zp(e,t,n,r,i){return xi(),ph(i),t.flags|=256,Ye(e,t,n,r),t.child}var ef={dehydrated:null,treeContext:null,retryLane:0};function tf(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fg(e,t,n){var r=t.pendingProps,i=le.current,o=!1,s=(t.flags&128)!==0,u;if((u=s)||(u=e!==null&&e.memoizedState===null?!1:(i&2)!==0),u?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),ne(le,i&1),e===null)return Hc(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,o?(r=t.mode,o=t.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Ha(s,r,0,null),e=Cr(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=tf(n),t.memoizedState=ef,e):xh(t,s));if(i=e.memoizedState,i!==null&&(u=i.dehydrated,u!==null))return E_(e,t,s,r,u,i,n);if(o){o=r.fallback,s=t.mode,i=e.child,u=i.sibling;var a={mode:"hidden",children:r.children};return!(s&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=a,t.deletions=null):(r=Qn(i,a),r.subtreeFlags=i.subtreeFlags&14680064),u!==null?o=Qn(u,o):(o=Cr(o,s,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,s=e.child.memoizedState,s=s===null?tf(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=e.childLanes&~n,t.memoizedState=ef,r}return o=e.child,e=o.sibling,r=Qn(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function xh(e,t){return t=Ha({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function uu(e,t,n,r){return r!==null&&ph(r),bi(t,e.child,null,n),e=xh(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function E_(e,t,n,r,i,o,s){if(n)return t.flags&256?(t.flags&=-257,r=Jl(Error(N(422))),uu(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Ha({mode:"visible",children:r.children},i,0,null),o=Cr(o,i,s,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&bi(t,e.child,null,s),t.child.memoizedState=tf(s),t.memoizedState=ef,o);if(!(t.mode&1))return uu(e,t,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var u=r.dgst;return r=u,o=Error(N(419)),r=Jl(o,r,void 0),uu(e,t,s,r)}if(u=(s&e.childLanes)!==0,lt||u){if(r=Pe,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,wn(e,i),Kt(r,e,i,-1))}return Oh(),r=Jl(Error(N(421))),uu(e,t,s,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=R_.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,St=Kn(i.nextSibling),Tt=t,ue=!0,Bt=null,e!==null&&(Pt[Rt++]=cn,Pt[Rt++]=fn,Pt[Rt++]=Ar,cn=e.id,fn=e.overflow,Ar=t),t=xh(t,r.children),t.flags|=4096,t)}function ev(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Gc(e.return,t,n)}function Zl(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function $g(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Ye(e,t,r.children,n),r=le.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ev(e,n,t);else if(e.tag===19)ev(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ne(le,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&ea(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Zl(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&ea(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Zl(t,!0,n,null,o);break;case"together":Zl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function xu(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function En(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Rr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(N(153));if(t.child!==null){for(e=t.child,n=Qn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Qn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function S_(e,t,n){switch(t.tag){case 3:Mg(t),xi();break;case 5:fg(t);break;case 1:ht(t.type)&&Gu(t);break;case 4:Eh(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;ne(Xu,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ne(le,le.current&1),t.flags|=128,null):n&t.child.childLanes?Fg(e,t,n):(ne(le,le.current&1),e=En(e,t,n),e!==null?e.sibling:null);ne(le,le.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return $g(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ne(le,le.current),r)break;return null;case 22:case 23:return t.lanes=0,Og(e,t,n)}return En(e,t,n)}var Ug,nf,Vg,jg;Ug=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};nf=function(){};Vg=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Sr(nn.current);var o=null;switch(n){case"input":i=Tc(e,i),r=Tc(e,r),o=[];break;case"select":i=he({},i,{value:void 0}),r=he({},r,{value:void 0}),o=[];break;case"textarea":i=Nc(e,i),r=Nc(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Wu)}bc(n,r);var s;n=null;for(l in i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&i[l]!=null)if(l==="style"){var u=i[l];for(s in u)u.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Vo.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var a=r[l];if(u=i!=null?i[l]:void 0,r.hasOwnProperty(l)&&a!==u&&(a!=null||u!=null))if(l==="style")if(u){for(s in u)!u.hasOwnProperty(s)||a&&a.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in a)a.hasOwnProperty(s)&&u[s]!==a[s]&&(n||(n={}),n[s]=a[s])}else n||(o||(o=[]),o.push(l,n)),n=a;else l==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,u=u?u.__html:void 0,a!=null&&u!==a&&(o=o||[]).push(l,a)):l==="children"?typeof a!="string"&&typeof a!="number"||(o=o||[]).push(l,""+a):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(Vo.hasOwnProperty(l)?(a!=null&&l==="onScroll"&&ie("scroll",e),o||u===a||(o=[])):(o=o||[]).push(l,a))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}};jg=function(e,t,n,r){n!==r&&(t.flags|=4)};function go(e,t){if(!ue)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ue(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function __(e,t,n){var r=t.pendingProps;switch(dh(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ue(t),null;case 1:return ht(t.type)&&Hu(),Ue(t),null;case 3:return r=t.stateNode,Di(),se(ft),se(He),_h(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ou(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Bt!==null&&(ff(Bt),Bt=null))),nf(e,t),Ue(t),null;case 5:Sh(t);var i=Sr(Jo.current);if(n=t.type,e!==null&&t.stateNode!=null)Vg(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(N(166));return Ue(t),null}if(e=Sr(nn.current),ou(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Zt]=t,r[Yo]=o,e=(t.mode&1)!==0,n){case"dialog":ie("cancel",r),ie("close",r);break;case"iframe":case"object":case"embed":ie("load",r);break;case"video":case"audio":for(i=0;i<ko.length;i++)ie(ko[i],r);break;case"source":ie("error",r);break;case"img":case"image":case"link":ie("error",r),ie("load",r);break;case"details":ie("toggle",r);break;case"input":lp(r,o),ie("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},ie("invalid",r);break;case"textarea":fp(r,o),ie("invalid",r)}bc(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var u=o[s];s==="children"?typeof u=="string"?r.textContent!==u&&(o.suppressHydrationWarning!==!0&&iu(r.textContent,u,e),i=["children",u]):typeof u=="number"&&r.textContent!==""+u&&(o.suppressHydrationWarning!==!0&&iu(r.textContent,u,e),i=["children",""+u]):Vo.hasOwnProperty(s)&&u!=null&&s==="onScroll"&&ie("scroll",r)}switch(n){case"input":Ys(r),cp(r,o,!0);break;case"textarea":Ys(r),hp(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Wu)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=py(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[Zt]=t,e[Yo]=r,Ug(e,t,!1,!1),t.stateNode=e;e:{switch(s=Dc(n,r),n){case"dialog":ie("cancel",e),ie("close",e),i=r;break;case"iframe":case"object":case"embed":ie("load",e),i=r;break;case"video":case"audio":for(i=0;i<ko.length;i++)ie(ko[i],e);i=r;break;case"source":ie("error",e),i=r;break;case"img":case"image":case"link":ie("error",e),ie("load",e),i=r;break;case"details":ie("toggle",e),i=r;break;case"input":lp(e,r),i=Tc(e,r),ie("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=he({},r,{value:void 0}),ie("invalid",e);break;case"textarea":fp(e,r),i=Nc(e,r),ie("invalid",e);break;default:i=r}bc(n,i),u=i;for(o in u)if(u.hasOwnProperty(o)){var a=u[o];o==="style"?yy(e,a):o==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&vy(e,a)):o==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&jo(e,a):typeof a=="number"&&jo(e,""+a):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Vo.hasOwnProperty(o)?a!=null&&o==="onScroll"&&ie("scroll",e):a!=null&&Jf(e,o,a,s))}switch(n){case"input":Ys(e),cp(e,r,!1);break;case"textarea":Ys(e),hp(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Zn(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?gi(e,!!r.multiple,o,!1):r.defaultValue!=null&&gi(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Wu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ue(t),null;case 6:if(e&&t.stateNode!=null)jg(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(N(166));if(n=Sr(Jo.current),Sr(nn.current),ou(t)){if(r=t.stateNode,n=t.memoizedProps,r[Zt]=t,(o=r.nodeValue!==n)&&(e=Tt,e!==null))switch(e.tag){case 3:iu(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&iu(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Zt]=t,t.stateNode=r}return Ue(t),null;case 13:if(se(le),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ue&&St!==null&&t.mode&1&&!(t.flags&128))ig(),xi(),t.flags|=98560,o=!1;else if(o=ou(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(N(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(N(317));o[Zt]=t}else xi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ue(t),o=!1}else Bt!==null&&(ff(Bt),Bt=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||le.current&1?Ce===0&&(Ce=3):Oh())),t.updateQueue!==null&&(t.flags|=4),Ue(t),null);case 4:return Di(),nf(e,t),e===null&&Go(t.stateNode.containerInfo),Ue(t),null;case 10:return yh(t.type._context),Ue(t),null;case 17:return ht(t.type)&&Hu(),Ue(t),null;case 19:if(se(le),o=t.memoizedState,o===null)return Ue(t),null;if(r=(t.flags&128)!==0,s=o.rendering,s===null)if(r)go(o,!1);else{if(Ce!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=ea(e),s!==null){for(t.flags|=128,go(o,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ne(le,le.current&1|2),t.child}e=e.sibling}o.tail!==null&&ye()>Pi&&(t.flags|=128,r=!0,go(o,!1),t.lanes=4194304)}else{if(!r)if(e=ea(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),go(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!ue)return Ue(t),null}else 2*ye()-o.renderingStartTime>Pi&&n!==1073741824&&(t.flags|=128,r=!0,go(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(n=o.last,n!==null?n.sibling=s:t.child=s,o.last=s)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=ye(),t.sibling=null,n=le.current,ne(le,r?n&1|2:n&1),t):(Ue(t),null);case 22:case 23:return Rh(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?yt&1073741824&&(Ue(t),t.subtreeFlags&6&&(t.flags|=8192)):Ue(t),null;case 24:return null;case 25:return null}throw Error(N(156,t.tag))}function I_(e,t){switch(dh(t),t.tag){case 1:return ht(t.type)&&Hu(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Di(),se(ft),se(He),_h(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Sh(t),null;case 13:if(se(le),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(N(340));xi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return se(le),null;case 4:return Di(),null;case 10:return yh(t.type._context),null;case 22:case 23:return Rh(),null;case 24:return null;default:return null}}var au=!1,je=!1,T_=typeof WeakSet=="function"?WeakSet:Set,R=null;function pi(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){de(e,t,r)}else n.current=null}function rf(e,t,n){try{n()}catch(r){de(e,t,r)}}var tv=!1;function k_(e,t){if(Vc=Bu,e=Ky(),fh(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,u=-1,a=-1,l=0,c=0,f=e,h=null;t:for(;;){for(var p;f!==n||i!==0&&f.nodeType!==3||(u=s+i),f!==o||r!==0&&f.nodeType!==3||(a=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===n&&++l===i&&(u=s),h===o&&++c===r&&(a=s),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}n=u===-1||a===-1?null:{start:u,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(jc={focusedElem:e,selectionRange:n},Bu=!1,R=t;R!==null;)if(t=R,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,R=e;else for(;R!==null;){t=R;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var g=m.memoizedProps,w=m.memoizedState,v=t.stateNode,d=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:jt(t.type,g),w);v.__reactInternalSnapshotBeforeUpdate=d}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(N(163))}}catch(E){de(t,t.return,E)}if(e=t.sibling,e!==null){e.return=t.return,R=e;break}R=t.return}return m=tv,tv=!1,m}function Oo(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&rf(t,n,o)}i=i.next}while(i!==r)}}function Ka(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function of(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function zg(e){var t=e.alternate;t!==null&&(e.alternate=null,zg(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Zt],delete t[Yo],delete t[qc],delete t[u_],delete t[a_])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Bg(e){return e.tag===5||e.tag===3||e.tag===4}function nv(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Bg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function sf(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Wu));else if(r!==4&&(e=e.child,e!==null))for(sf(e,t,n),e=e.sibling;e!==null;)sf(e,t,n),e=e.sibling}function uf(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(uf(e,t,n),e=e.sibling;e!==null;)uf(e,t,n),e=e.sibling}var Re=null,zt=!1;function Tn(e,t,n){for(n=n.child;n!==null;)qg(e,t,n),n=n.sibling}function qg(e,t,n){if(tn&&typeof tn.onCommitFiberUnmount=="function")try{tn.onCommitFiberUnmount(Fa,n)}catch{}switch(n.tag){case 5:je||pi(n,t);case 6:var r=Re,i=zt;Re=null,Tn(e,t,n),Re=r,zt=i,Re!==null&&(zt?(e=Re,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Re.removeChild(n.stateNode));break;case 18:Re!==null&&(zt?(e=Re,n=n.stateNode,e.nodeType===8?Wl(e.parentNode,n):e.nodeType===1&&Wl(e,n),Ko(e)):Wl(Re,n.stateNode));break;case 4:r=Re,i=zt,Re=n.stateNode.containerInfo,zt=!0,Tn(e,t,n),Re=r,zt=i;break;case 0:case 11:case 14:case 15:if(!je&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&rf(n,t,s),i=i.next}while(i!==r)}Tn(e,t,n);break;case 1:if(!je&&(pi(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){de(n,t,u)}Tn(e,t,n);break;case 21:Tn(e,t,n);break;case 22:n.mode&1?(je=(r=je)||n.memoizedState!==null,Tn(e,t,n),je=r):Tn(e,t,n);break;default:Tn(e,t,n)}}function rv(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new T_),t.forEach(function(r){var i=O_.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Ut(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,u=s;e:for(;u!==null;){switch(u.tag){case 5:Re=u.stateNode,zt=!1;break e;case 3:Re=u.stateNode.containerInfo,zt=!0;break e;case 4:Re=u.stateNode.containerInfo,zt=!0;break e}u=u.return}if(Re===null)throw Error(N(160));qg(o,s,i),Re=null,zt=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(l){de(i,t,l)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Kg(t,e),t=t.sibling}function Kg(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ut(t,e),Yt(e),r&4){try{Oo(3,e,e.return),Ka(3,e)}catch(g){de(e,e.return,g)}try{Oo(5,e,e.return)}catch(g){de(e,e.return,g)}}break;case 1:Ut(t,e),Yt(e),r&512&&n!==null&&pi(n,n.return);break;case 5:if(Ut(t,e),Yt(e),r&512&&n!==null&&pi(n,n.return),e.flags&32){var i=e.stateNode;try{jo(i,"")}catch(g){de(e,e.return,g)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,s=n!==null?n.memoizedProps:o,u=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{u==="input"&&o.type==="radio"&&o.name!=null&&hy(i,o),Dc(u,s);var l=Dc(u,o);for(s=0;s<a.length;s+=2){var c=a[s],f=a[s+1];c==="style"?yy(i,f):c==="dangerouslySetInnerHTML"?vy(i,f):c==="children"?jo(i,f):Jf(i,c,f,l)}switch(u){case"input":kc(i,o);break;case"textarea":dy(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?gi(i,!!o.multiple,p,!1):h!==!!o.multiple&&(o.defaultValue!=null?gi(i,!!o.multiple,o.defaultValue,!0):gi(i,!!o.multiple,o.multiple?[]:"",!1))}i[Yo]=o}catch(g){de(e,e.return,g)}}break;case 6:if(Ut(t,e),Yt(e),r&4){if(e.stateNode===null)throw Error(N(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(g){de(e,e.return,g)}}break;case 3:if(Ut(t,e),Yt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ko(t.containerInfo)}catch(g){de(e,e.return,g)}break;case 4:Ut(t,e),Yt(e);break;case 13:Ut(t,e),Yt(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Ah=ye())),r&4&&rv(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(je=(l=je)||c,Ut(t,e),je=l):Ut(t,e),Yt(e),r&8192){if(l=e.memoizedState!==null,(e.stateNode.isHidden=l)&&!c&&e.mode&1)for(R=e,c=e.child;c!==null;){for(f=R=c;R!==null;){switch(h=R,p=h.child,h.tag){case 0:case 11:case 14:case 15:Oo(4,h,h.return);break;case 1:pi(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){de(r,n,g)}}break;case 5:pi(h,h.return);break;case 22:if(h.memoizedState!==null){ov(f);continue}}p!==null?(p.return=h,R=p):ov(f)}c=c.sibling}e:for(c=null,f=e;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,l?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(u=f.stateNode,a=f.memoizedProps.style,s=a!=null&&a.hasOwnProperty("display")?a.display:null,u.style.display=my("display",s))}catch(g){de(e,e.return,g)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=l?"":f.memoizedProps}catch(g){de(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Ut(t,e),Yt(e),r&4&&rv(e);break;case 21:break;default:Ut(t,e),Yt(e)}}function Yt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Bg(n)){var r=n;break e}n=n.return}throw Error(N(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(jo(i,""),r.flags&=-33);var o=nv(e);uf(e,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,u=nv(e);sf(e,u,s);break;default:throw Error(N(161))}}catch(a){de(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function C_(e,t,n){R=e,Wg(e)}function Wg(e,t,n){for(var r=(e.mode&1)!==0;R!==null;){var i=R,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||au;if(!s){var u=i.alternate,a=u!==null&&u.memoizedState!==null||je;u=au;var l=je;if(au=s,(je=a)&&!l)for(R=i;R!==null;)s=R,a=s.child,s.tag===22&&s.memoizedState!==null?sv(i):a!==null?(a.return=s,R=a):sv(i);for(;o!==null;)R=o,Wg(o),o=o.sibling;R=i,au=u,je=l}iv(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,R=o):iv(e)}}function iv(e){for(;R!==null;){var t=R;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:je||Ka(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!je)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:jt(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&jp(t,o,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}jp(t,s,n)}break;case 5:var u=t.stateNode;if(n===null&&t.flags&4){n=u;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var l=t.alternate;if(l!==null){var c=l.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&Ko(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(N(163))}je||t.flags&512&&of(t)}catch(h){de(t,t.return,h)}}if(t===e){R=null;break}if(n=t.sibling,n!==null){n.return=t.return,R=n;break}R=t.return}}function ov(e){for(;R!==null;){var t=R;if(t===e){R=null;break}var n=t.sibling;if(n!==null){n.return=t.return,R=n;break}R=t.return}}function sv(e){for(;R!==null;){var t=R;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ka(4,t)}catch(a){de(t,n,a)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(a){de(t,i,a)}}var o=t.return;try{of(t)}catch(a){de(t,o,a)}break;case 5:var s=t.return;try{of(t)}catch(a){de(t,s,a)}}}catch(a){de(t,t.return,a)}if(t===e){R=null;break}var u=t.sibling;if(u!==null){u.return=t.return,R=u;break}R=t.return}}var N_=Math.ceil,ra=_n.ReactCurrentDispatcher,bh=_n.ReactCurrentOwner,Lt=_n.ReactCurrentBatchConfig,Y=0,Pe=null,Ee=null,Le=0,yt=0,vi=sr(0),Ce=0,ns=null,Rr=0,Wa=0,Dh=0,Lo=null,ut=null,Ah=0,Pi=1/0,an=null,ia=!1,af=null,Hn=null,lu=!1,Un=null,oa=0,Mo=0,lf=null,bu=-1,Du=0;function nt(){return Y&6?ye():bu!==-1?bu:bu=ye()}function Gn(e){return e.mode&1?Y&2&&Le!==0?Le&-Le:c_.transition!==null?(Du===0&&(Du=by()),Du):(e=ee,e!==0||(e=window.event,e=e===void 0?16:My(e.type)),e):1}function Kt(e,t,n,r){if(50<Mo)throw Mo=0,lf=null,Error(N(185));Is(e,n,r),(!(Y&2)||e!==Pe)&&(e===Pe&&(!(Y&2)&&(Wa|=n),Ce===4&&Rn(e,Le)),dt(e,r),n===1&&Y===0&&!(t.mode&1)&&(Pi=ye()+500,za&&ur()))}function dt(e,t){var n=e.callbackNode;cS(e,t);var r=zu(e,e===Pe?Le:0);if(r===0)n!==null&&vp(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&vp(n),t===1)e.tag===0?l_(uv.bind(null,e)):tg(uv.bind(null,e)),o_(function(){!(Y&6)&&ur()}),n=null;else{switch(Dy(r)){case 1:n=rh;break;case 4:n=Ny;break;case 16:n=ju;break;case 536870912:n=xy;break;default:n=ju}n=e0(n,Hg.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Hg(e,t){if(bu=-1,Du=0,Y&6)throw Error(N(327));var n=e.callbackNode;if(Ii()&&e.callbackNode!==n)return null;var r=zu(e,e===Pe?Le:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=sa(e,r);else{t=r;var i=Y;Y|=2;var o=Qg();(Pe!==e||Le!==t)&&(an=null,Pi=ye()+500,kr(e,t));do try{D_();break}catch(u){Gg(e,u)}while(!0);mh(),ra.current=o,Y=i,Ee!==null?t=0:(Pe=null,Le=0,t=Ce)}if(t!==0){if(t===2&&(i=Lc(e),i!==0&&(r=i,t=cf(e,i))),t===1)throw n=ns,kr(e,0),Rn(e,r),dt(e,ye()),n;if(t===6)Rn(e,r);else{if(i=e.current.alternate,!(r&30)&&!x_(i)&&(t=sa(e,r),t===2&&(o=Lc(e),o!==0&&(r=o,t=cf(e,o))),t===1))throw n=ns,kr(e,0),Rn(e,r),dt(e,ye()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(N(345));case 2:yr(e,ut,an);break;case 3:if(Rn(e,r),(r&130023424)===r&&(t=Ah+500-ye(),10<t)){if(zu(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){nt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Bc(yr.bind(null,e,ut,an),t);break}yr(e,ut,an);break;case 4:if(Rn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-qt(r);o=1<<s,s=t[s],s>i&&(i=s),r&=~o}if(r=i,r=ye()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*N_(r/1960))-r,10<r){e.timeoutHandle=Bc(yr.bind(null,e,ut,an),r);break}yr(e,ut,an);break;case 5:yr(e,ut,an);break;default:throw Error(N(329))}}}return dt(e,ye()),e.callbackNode===n?Hg.bind(null,e):null}function cf(e,t){var n=Lo;return e.current.memoizedState.isDehydrated&&(kr(e,t).flags|=256),e=sa(e,t),e!==2&&(t=ut,ut=n,t!==null&&ff(t)),e}function ff(e){ut===null?ut=e:ut.push.apply(ut,e)}function x_(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Qt(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Rn(e,t){for(t&=~Dh,t&=~Wa,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-qt(t),r=1<<n;e[n]=-1,t&=~r}}function uv(e){if(Y&6)throw Error(N(327));Ii();var t=zu(e,0);if(!(t&1))return dt(e,ye()),null;var n=sa(e,t);if(e.tag!==0&&n===2){var r=Lc(e);r!==0&&(t=r,n=cf(e,r))}if(n===1)throw n=ns,kr(e,0),Rn(e,t),dt(e,ye()),n;if(n===6)throw Error(N(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,yr(e,ut,an),dt(e,ye()),null}function Ph(e,t){var n=Y;Y|=1;try{return e(t)}finally{Y=n,Y===0&&(Pi=ye()+500,za&&ur())}}function Or(e){Un!==null&&Un.tag===0&&!(Y&6)&&Ii();var t=Y;Y|=1;var n=Lt.transition,r=ee;try{if(Lt.transition=null,ee=1,e)return e()}finally{ee=r,Lt.transition=n,Y=t,!(Y&6)&&ur()}}function Rh(){yt=vi.current,se(vi)}function kr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,i_(n)),Ee!==null)for(n=Ee.return;n!==null;){var r=n;switch(dh(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Hu();break;case 3:Di(),se(ft),se(He),_h();break;case 5:Sh(r);break;case 4:Di();break;case 13:se(le);break;case 19:se(le);break;case 10:yh(r.type._context);break;case 22:case 23:Rh()}n=n.return}if(Pe=e,Ee=e=Qn(e.current,null),Le=yt=t,Ce=0,ns=null,Dh=Wa=Rr=0,ut=Lo=null,Er!==null){for(t=0;t<Er.length;t++)if(n=Er[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}Er=null}return e}function Gg(e,t){do{var n=Ee;try{if(mh(),Cu.current=na,ta){for(var r=fe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}ta=!1}if(Pr=0,Ae=Te=fe=null,Ro=!1,Zo=0,bh.current=null,n===null||n.return===null){Ce=1,ns=t,Ee=null;break}e:{var o=e,s=n.return,u=n,a=t;if(t=Le,u.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var l=a,c=u,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=Gp(s);if(p!==null){p.flags&=-257,Qp(p,s,u,o,t),p.mode&1&&Hp(o,l,t),t=p,a=l;var m=t.updateQueue;if(m===null){var g=new Set;g.add(a),t.updateQueue=g}else m.add(a);break e}else{if(!(t&1)){Hp(o,l,t),Oh();break e}a=Error(N(426))}}else if(ue&&u.mode&1){var w=Gp(s);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Qp(w,s,u,o,t),ph(Ai(a,u));break e}}o=a=Ai(a,u),Ce!==4&&(Ce=2),Lo===null?Lo=[o]:Lo.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var v=Ag(o,a,t);Vp(o,v);break e;case 1:u=a;var d=o.type,y=o.stateNode;if(!(o.flags&128)&&(typeof d.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Hn===null||!Hn.has(y)))){o.flags|=65536,t&=-t,o.lanes|=t;var E=Pg(o,u,t);Vp(o,E);break e}}o=o.return}while(o!==null)}Xg(n)}catch(_){t=_,Ee===n&&n!==null&&(Ee=n=n.return);continue}break}while(!0)}function Qg(){var e=ra.current;return ra.current=na,e===null?na:e}function Oh(){(Ce===0||Ce===3||Ce===2)&&(Ce=4),Pe===null||!(Rr&268435455)&&!(Wa&268435455)||Rn(Pe,Le)}function sa(e,t){var n=Y;Y|=2;var r=Qg();(Pe!==e||Le!==t)&&(an=null,kr(e,t));do try{b_();break}catch(i){Gg(e,i)}while(!0);if(mh(),Y=n,ra.current=r,Ee!==null)throw Error(N(261));return Pe=null,Le=0,Ce}function b_(){for(;Ee!==null;)Yg(Ee)}function D_(){for(;Ee!==null&&!tS();)Yg(Ee)}function Yg(e){var t=Zg(e.alternate,e,yt);e.memoizedProps=e.pendingProps,t===null?Xg(e):Ee=t,bh.current=null}function Xg(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=I_(n,t),n!==null){n.flags&=32767,Ee=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ce=6,Ee=null;return}}else if(n=__(n,t,yt),n!==null){Ee=n;return}if(t=t.sibling,t!==null){Ee=t;return}Ee=t=e}while(t!==null);Ce===0&&(Ce=5)}function yr(e,t,n){var r=ee,i=Lt.transition;try{Lt.transition=null,ee=1,A_(e,t,n,r)}finally{Lt.transition=i,ee=r}return null}function A_(e,t,n,r){do Ii();while(Un!==null);if(Y&6)throw Error(N(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(N(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(fS(e,o),e===Pe&&(Ee=Pe=null,Le=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||lu||(lu=!0,e0(ju,function(){return Ii(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Lt.transition,Lt.transition=null;var s=ee;ee=1;var u=Y;Y|=4,bh.current=null,k_(e,n),Kg(n,e),XS(jc),Bu=!!Vc,jc=Vc=null,e.current=n,C_(n),nS(),Y=u,ee=s,Lt.transition=o}else e.current=n;if(lu&&(lu=!1,Un=e,oa=i),o=e.pendingLanes,o===0&&(Hn=null),oS(n.stateNode),dt(e,ye()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(ia)throw ia=!1,e=af,af=null,e;return oa&1&&e.tag!==0&&Ii(),o=e.pendingLanes,o&1?e===lf?Mo++:(Mo=0,lf=e):Mo=0,ur(),null}function Ii(){if(Un!==null){var e=Dy(oa),t=Lt.transition,n=ee;try{if(Lt.transition=null,ee=16>e?16:e,Un===null)var r=!1;else{if(e=Un,Un=null,oa=0,Y&6)throw Error(N(331));var i=Y;for(Y|=4,R=e.current;R!==null;){var o=R,s=o.child;if(R.flags&16){var u=o.deletions;if(u!==null){for(var a=0;a<u.length;a++){var l=u[a];for(R=l;R!==null;){var c=R;switch(c.tag){case 0:case 11:case 15:Oo(8,c,o)}var f=c.child;if(f!==null)f.return=c,R=f;else for(;R!==null;){c=R;var h=c.sibling,p=c.return;if(zg(c),c===l){R=null;break}if(h!==null){h.return=p,R=h;break}R=p}}}var m=o.alternate;if(m!==null){var g=m.child;if(g!==null){m.child=null;do{var w=g.sibling;g.sibling=null,g=w}while(g!==null)}}R=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,R=s;else e:for(;R!==null;){if(o=R,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Oo(9,o,o.return)}var v=o.sibling;if(v!==null){v.return=o.return,R=v;break e}R=o.return}}var d=e.current;for(R=d;R!==null;){s=R;var y=s.child;if(s.subtreeFlags&2064&&y!==null)y.return=s,R=y;else e:for(s=d;R!==null;){if(u=R,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:Ka(9,u)}}catch(_){de(u,u.return,_)}if(u===s){R=null;break e}var E=u.sibling;if(E!==null){E.return=u.return,R=E;break e}R=u.return}}if(Y=i,ur(),tn&&typeof tn.onPostCommitFiberRoot=="function")try{tn.onPostCommitFiberRoot(Fa,e)}catch{}r=!0}return r}finally{ee=n,Lt.transition=t}}return!1}function av(e,t,n){t=Ai(n,t),t=Ag(e,t,1),e=Wn(e,t,1),t=nt(),e!==null&&(Is(e,1,t),dt(e,t))}function de(e,t,n){if(e.tag===3)av(e,e,n);else for(;t!==null;){if(t.tag===3){av(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Hn===null||!Hn.has(r))){e=Ai(n,e),e=Pg(t,e,1),t=Wn(t,e,1),e=nt(),t!==null&&(Is(t,1,e),dt(t,e));break}}t=t.return}}function P_(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=nt(),e.pingedLanes|=e.suspendedLanes&n,Pe===e&&(Le&n)===n&&(Ce===4||Ce===3&&(Le&130023424)===Le&&500>ye()-Ah?kr(e,0):Dh|=n),dt(e,t)}function Jg(e,t){t===0&&(e.mode&1?(t=Zs,Zs<<=1,!(Zs&130023424)&&(Zs=4194304)):t=1);var n=nt();e=wn(e,t),e!==null&&(Is(e,t,n),dt(e,n))}function R_(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Jg(e,n)}function O_(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(N(314))}r!==null&&r.delete(t),Jg(e,n)}var Zg;Zg=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||ft.current)lt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return lt=!1,S_(e,t,n);lt=!!(e.flags&131072)}else lt=!1,ue&&t.flags&1048576&&ng(t,Yu,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;xu(e,t),e=t.pendingProps;var i=Ni(t,He.current);_i(t,n),i=Th(null,t,r,e,i,n);var o=kh();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ht(r)?(o=!0,Gu(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,wh(t),i.updater=Ba,t.stateNode=i,i._reactInternals=t,Yc(t,r,e,n),t=Zc(null,t,r,!0,o,n)):(t.tag=0,ue&&o&&hh(t),Ye(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(xu(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=M_(r),e=jt(r,e),i){case 0:t=Jc(null,t,r,e,n);break e;case 1:t=Jp(null,t,r,e,n);break e;case 11:t=Yp(null,t,r,e,n);break e;case 14:t=Xp(null,t,r,jt(r.type,e),n);break e}throw Error(N(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:jt(r,i),Jc(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:jt(r,i),Jp(e,t,r,i,n);case 3:e:{if(Mg(t),e===null)throw Error(N(387));r=t.pendingProps,o=t.memoizedState,i=o.element,sg(e,t),Zu(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=Ai(Error(N(423)),t),t=Zp(e,t,r,n,i);break e}else if(r!==i){i=Ai(Error(N(424)),t),t=Zp(e,t,r,n,i);break e}else for(St=Kn(t.stateNode.containerInfo.firstChild),Tt=t,ue=!0,Bt=null,n=cg(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(xi(),r===i){t=En(e,t,n);break e}Ye(e,t,r,n)}t=t.child}return t;case 5:return fg(t),e===null&&Hc(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,s=i.children,zc(r,i)?s=null:o!==null&&zc(r,o)&&(t.flags|=32),Lg(e,t),Ye(e,t,s,n),t.child;case 6:return e===null&&Hc(t),null;case 13:return Fg(e,t,n);case 4:return Eh(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=bi(t,null,r,n):Ye(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:jt(r,i),Yp(e,t,r,i,n);case 7:return Ye(e,t,t.pendingProps,n),t.child;case 8:return Ye(e,t,t.pendingProps.children,n),t.child;case 12:return Ye(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,ne(Xu,r._currentValue),r._currentValue=s,o!==null)if(Qt(o.value,s)){if(o.children===i.children&&!ft.current){t=En(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var u=o.dependencies;if(u!==null){s=o.child;for(var a=u.firstContext;a!==null;){if(a.context===r){if(o.tag===1){a=dn(-1,n&-n),a.tag=2;var l=o.updateQueue;if(l!==null){l=l.shared;var c=l.pending;c===null?a.next=a:(a.next=c.next,c.next=a),l.pending=a}}o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Gc(o.return,n,t),u.lanes|=n;break}a=a.next}}else if(o.tag===10)s=o.type===t.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(N(341));s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),Gc(s,n,t),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===t){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Ye(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,_i(t,n),i=Mt(i),r=r(i),t.flags|=1,Ye(e,t,r,n),t.child;case 14:return r=t.type,i=jt(r,t.pendingProps),i=jt(r.type,i),Xp(e,t,r,i,n);case 15:return Rg(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:jt(r,i),xu(e,t),t.tag=1,ht(r)?(e=!0,Gu(t)):e=!1,_i(t,n),ag(t,r,i),Yc(t,r,i,n),Zc(null,t,r,!0,e,n);case 19:return $g(e,t,n);case 22:return Og(e,t,n)}throw Error(N(156,t.tag))};function e0(e,t){return Cy(e,t)}function L_(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ot(e,t,n,r){return new L_(e,t,n,r)}function Lh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function M_(e){if(typeof e=="function")return Lh(e)?1:0;if(e!=null){if(e=e.$$typeof,e===eh)return 11;if(e===th)return 14}return 2}function Qn(e,t){var n=e.alternate;return n===null?(n=Ot(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Au(e,t,n,r,i,o){var s=2;if(r=e,typeof e=="function")Lh(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case oi:return Cr(n.children,i,o,t);case Zf:s=8,i|=8;break;case Ec:return e=Ot(12,n,t,i|2),e.elementType=Ec,e.lanes=o,e;case Sc:return e=Ot(13,n,t,i),e.elementType=Sc,e.lanes=o,e;case _c:return e=Ot(19,n,t,i),e.elementType=_c,e.lanes=o,e;case ly:return Ha(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case uy:s=10;break e;case ay:s=9;break e;case eh:s=11;break e;case th:s=14;break e;case bn:s=16,r=null;break e}throw Error(N(130,e==null?e:typeof e,""))}return t=Ot(s,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function Cr(e,t,n,r){return e=Ot(7,e,r,t),e.lanes=n,e}function Ha(e,t,n,r){return e=Ot(22,e,r,t),e.elementType=ly,e.lanes=n,e.stateNode={isHidden:!1},e}function ec(e,t,n){return e=Ot(6,e,null,t),e.lanes=n,e}function tc(e,t,n){return t=Ot(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function F_(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ll(0),this.expirationTimes=Ll(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ll(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Mh(e,t,n,r,i,o,s,u,a){return e=new F_(e,t,n,u,a),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Ot(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},wh(o),e}function $_(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ii,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function t0(e){if(!e)return er;e=e._reactInternals;e:{if(zr(e)!==e||e.tag!==1)throw Error(N(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ht(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(N(171))}if(e.tag===1){var n=e.type;if(ht(n))return eg(e,n,t)}return t}function n0(e,t,n,r,i,o,s,u,a){return e=Mh(n,r,!0,e,i,o,s,u,a),e.context=t0(null),n=e.current,r=nt(),i=Gn(n),o=dn(r,i),o.callback=t??null,Wn(n,o,i),e.current.lanes=i,Is(e,i,r),dt(e,r),e}function Ga(e,t,n,r){var i=t.current,o=nt(),s=Gn(i);return n=t0(n),t.context===null?t.context=n:t.pendingContext=n,t=dn(o,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Wn(i,t,s),e!==null&&(Kt(e,i,s,o),ku(e,i,s)),s}function ua(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function lv(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Fh(e,t){lv(e,t),(e=e.alternate)&&lv(e,t)}function U_(){return null}var r0=typeof reportError=="function"?reportError:function(e){console.error(e)};function $h(e){this._internalRoot=e}Qa.prototype.render=$h.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(N(409));Ga(e,t,null,null)};Qa.prototype.unmount=$h.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Or(function(){Ga(null,e,null,null)}),t[gn]=null}};function Qa(e){this._internalRoot=e}Qa.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ry();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pn.length&&t!==0&&t<Pn[n].priority;n++);Pn.splice(n,0,e),n===0&&Ly(e)}};function Uh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ya(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function cv(){}function V_(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var l=ua(s);o.call(l)}}var s=n0(t,r,e,0,null,!1,!1,"",cv);return e._reactRootContainer=s,e[gn]=s.current,Go(e.nodeType===8?e.parentNode:e),Or(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var u=r;r=function(){var l=ua(a);u.call(l)}}var a=Mh(e,0,!1,null,null,!1,!1,"",cv);return e._reactRootContainer=a,e[gn]=a.current,Go(e.nodeType===8?e.parentNode:e),Or(function(){Ga(t,a,n,r)}),a}function Xa(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var u=i;i=function(){var a=ua(s);u.call(a)}}Ga(t,s,e,i)}else s=V_(n,t,e,i,r);return ua(s)}Ay=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=To(t.pendingLanes);n!==0&&(ih(t,n|1),dt(t,ye()),!(Y&6)&&(Pi=ye()+500,ur()))}break;case 13:Or(function(){var r=wn(e,1);if(r!==null){var i=nt();Kt(r,e,1,i)}}),Fh(e,1)}};oh=function(e){if(e.tag===13){var t=wn(e,134217728);if(t!==null){var n=nt();Kt(t,e,134217728,n)}Fh(e,134217728)}};Py=function(e){if(e.tag===13){var t=Gn(e),n=wn(e,t);if(n!==null){var r=nt();Kt(n,e,t,r)}Fh(e,t)}};Ry=function(){return ee};Oy=function(e,t){var n=ee;try{return ee=e,t()}finally{ee=n}};Pc=function(e,t,n){switch(t){case"input":if(kc(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ja(r);if(!i)throw Error(N(90));fy(r),kc(r,i)}}}break;case"textarea":dy(e,n);break;case"select":t=n.value,t!=null&&gi(e,!!n.multiple,t,!1)}};Ey=Ph;Sy=Or;var j_={usingClientEntryPoint:!1,Events:[ks,li,ja,gy,wy,Ph]},wo={findFiberByHostInstance:wr,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},z_={bundleType:wo.bundleType,version:wo.version,rendererPackageName:wo.rendererPackageName,rendererConfig:wo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_n.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Ty(e),e===null?null:e.stateNode},findFiberByHostInstance:wo.findFiberByHostInstance||U_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cu.isDisabled&&cu.supportsFiber)try{Fa=cu.inject(z_),tn=cu}catch{}}Dt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=j_;Dt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Uh(t))throw Error(N(200));return $_(e,t,null,n)};Dt.createRoot=function(e,t){if(!Uh(e))throw Error(N(299));var n=!1,r="",i=r0;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Mh(e,1,!1,null,null,n,!1,r,i),e[gn]=t.current,Go(e.nodeType===8?e.parentNode:e),new $h(t)};Dt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(N(188)):(e=Object.keys(e).join(","),Error(N(268,e)));return e=Ty(t),e=e===null?null:e.stateNode,e};Dt.flushSync=function(e){return Or(e)};Dt.hydrate=function(e,t,n){if(!Ya(t))throw Error(N(200));return Xa(null,e,t,!0,n)};Dt.hydrateRoot=function(e,t,n){if(!Uh(e))throw Error(N(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=r0;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=n0(t,null,e,1,n??null,i,!1,o,s),e[gn]=t.current,Go(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Qa(t)};Dt.render=function(e,t,n){if(!Ya(t))throw Error(N(200));return Xa(null,e,t,!1,n)};Dt.unmountComponentAtNode=function(e){if(!Ya(e))throw Error(N(40));return e._reactRootContainer?(Or(function(){Xa(null,null,e,!1,function(){e._reactRootContainer=null,e[gn]=null})}),!0):!1};Dt.unstable_batchedUpdates=Ph;Dt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ya(n))throw Error(N(200));if(e==null||e._reactInternals===void 0)throw Error(N(38));return Xa(e,t,n,!1,r)};Dt.version="18.2.0-next-9e3b772b8-20220608";function i0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i0)}catch(e){console.error(e)}}i0(),ny.exports=Dt;var B_=ny.exports,fv=B_;gc.createRoot=fv.createRoot,gc.hydrateRoot=fv.hydrateRoot;/**
 * @remix-run/router v1.15.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rs(){return rs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rs.apply(this,arguments)}var Vn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Vn||(Vn={}));const hv="popstate";function q_(e){e===void 0&&(e={});function t(r,i){let{pathname:o,search:s,hash:u}=r.location;return hf("",{pathname:o,search:s,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:aa(i)}return W_(t,n,null,e)}function _e(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function o0(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function K_(){return Math.random().toString(36).substr(2,8)}function dv(e,t){return{usr:e.state,key:e.key,idx:t}}function hf(e,t,n,r){return n===void 0&&(n=null),rs({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?eo(t):t,{state:n,key:t&&t.key||r||K_()})}function aa(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function eo(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function W_(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,u=Vn.Pop,a=null,l=c();l==null&&(l=0,s.replaceState(rs({},s.state,{idx:l}),""));function c(){return(s.state||{idx:null}).idx}function f(){u=Vn.Pop;let w=c(),v=w==null?null:w-l;l=w,a&&a({action:u,location:g.location,delta:v})}function h(w,v){u=Vn.Push;let d=hf(g.location,w,v);n&&n(d,w),l=c()+1;let y=dv(d,l),E=g.createHref(d);try{s.pushState(y,"",E)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;i.location.assign(E)}o&&a&&a({action:u,location:g.location,delta:1})}function p(w,v){u=Vn.Replace;let d=hf(g.location,w,v);n&&n(d,w),l=c();let y=dv(d,l),E=g.createHref(d);s.replaceState(y,"",E),o&&a&&a({action:u,location:g.location,delta:0})}function m(w){let v=i.location.origin!=="null"?i.location.origin:i.location.href,d=typeof w=="string"?w:aa(w);return d=d.replace(/ $/,"%20"),_e(v,"No window.location.(origin|href) available to create URL for href: "+d),new URL(d,v)}let g={get action(){return u},get location(){return e(i,s)},listen(w){if(a)throw new Error("A history only accepts one active listener");return i.addEventListener(hv,f),a=w,()=>{i.removeEventListener(hv,f),a=null}},createHref(w){return t(i,w)},createURL:m,encodeLocation(w){let v=m(w);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:h,replace:p,go(w){return s.go(w)}};return g}var pv;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(pv||(pv={}));function H_(e,t,n){n===void 0&&(n="/");let r=typeof t=="string"?eo(t):t,i=Vh(r.pathname||"/",n);if(i==null)return null;let o=s0(e);G_(o);let s=null;for(let u=0;s==null&&u<o.length;++u){let a=sI(i);s=rI(o[u],a)}return s}function s0(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,u)=>{let a={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};a.relativePath.startsWith("/")&&(_e(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),a.relativePath=a.relativePath.slice(r.length));let l=Yn([r,a.relativePath]),c=n.concat(a);o.children&&o.children.length>0&&(_e(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+l+'".')),s0(o.children,t,c,l)),!(o.path==null&&!o.index)&&t.push({path:l,score:tI(l,o.index),routesMeta:c})};return e.forEach((o,s)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))i(o,s);else for(let a of u0(o.path))i(o,s,a)}),t}function u0(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=u0(r.join("/")),u=[];return u.push(...s.map(a=>a===""?o:[o,a].join("/"))),i&&u.push(...s),u.map(a=>e.startsWith("/")&&a===""?"/":a)}function G_(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:nI(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Q_=/^:[\w-]+$/,Y_=3,X_=2,J_=1,Z_=10,eI=-2,vv=e=>e==="*";function tI(e,t){let n=e.split("/"),r=n.length;return n.some(vv)&&(r+=eI),t&&(r+=X_),n.filter(i=>!vv(i)).reduce((i,o)=>i+(Q_.test(o)?Y_:o===""?J_:Z_),r)}function nI(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function rI(e,t){let{routesMeta:n}=e,r={},i="/",o=[];for(let s=0;s<n.length;++s){let u=n[s],a=s===n.length-1,l=i==="/"?t:t.slice(i.length)||"/",c=iI({path:u.relativePath,caseSensitive:u.caseSensitive,end:a},l);if(!c)return null;Object.assign(r,c.params);let f=u.route;o.push({params:r,pathname:Yn([i,c.pathname]),pathnameBase:cI(Yn([i,c.pathnameBase])),route:f}),c.pathnameBase!=="/"&&(i=Yn([i,c.pathnameBase]))}return o}function iI(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=oI(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((l,c,f)=>{let{paramName:h,isOptional:p}=c;if(h==="*"){let g=u[f]||"";s=o.slice(0,o.length-g.length).replace(/(.)\/+$/,"$1")}const m=u[f];return p&&!m?l[h]=void 0:l[h]=(m||"").replace(/%2F/g,"/"),l},{}),pathname:o,pathnameBase:s,pattern:e}}function oI(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),o0(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,u,a)=>(r.push({paramName:u,isOptional:a!=null}),a?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function sI(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return o0(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Vh(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function uI(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?eo(e):e;return{pathname:n?n.startsWith("/")?n:aI(n,t):t,search:fI(r),hash:hI(i)}}function aI(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function nc(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function lI(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function a0(e,t){let n=lI(e);return t?n.map((r,i)=>i===e.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function l0(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=eo(e):(i=rs({},e),_e(!i.pathname||!i.pathname.includes("?"),nc("?","pathname","search",i)),_e(!i.pathname||!i.pathname.includes("#"),nc("#","pathname","hash",i)),_e(!i.search||!i.search.includes("#"),nc("#","search","hash",i)));let o=e===""||i.pathname==="",s=o?"/":i.pathname,u;if(s==null)u=n;else{let f=t.length-1;if(!r&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}u=f>=0?t[f]:"/"}let a=uI(i,u),l=s&&s!=="/"&&s.endsWith("/"),c=(o||s===".")&&n.endsWith("/");return!a.pathname.endsWith("/")&&(l||c)&&(a.pathname+="/"),a}const Yn=e=>e.join("/").replace(/\/\/+/g,"/"),cI=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),fI=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,hI=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function dI(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const c0=["post","put","patch","delete"];new Set(c0);const pI=["get",...c0];new Set(pI);/**
 * React Router v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function is(){return is=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},is.apply(this,arguments)}const jh=A.createContext(null),vI=A.createContext(null),Br=A.createContext(null),Ja=A.createContext(null),qr=A.createContext({outlet:null,matches:[],isDataRoute:!1}),f0=A.createContext(null);function mI(e,t){let{relative:n}=t===void 0?{}:t;Ns()||_e(!1);let{basename:r,navigator:i}=A.useContext(Br),{hash:o,pathname:s,search:u}=p0(e,{relative:n}),a=s;return r!=="/"&&(a=s==="/"?r:Yn([r,s])),i.createHref({pathname:a,search:u,hash:o})}function Ns(){return A.useContext(Ja)!=null}function Za(){return Ns()||_e(!1),A.useContext(Ja).location}function h0(e){A.useContext(Br).static||A.useLayoutEffect(e)}function d0(){let{isDataRoute:e}=A.useContext(qr);return e?bI():yI()}function yI(){Ns()||_e(!1);let e=A.useContext(jh),{basename:t,future:n,navigator:r}=A.useContext(Br),{matches:i}=A.useContext(qr),{pathname:o}=Za(),s=JSON.stringify(a0(i,n.v7_relativeSplatPath)),u=A.useRef(!1);return h0(()=>{u.current=!0}),A.useCallback(function(l,c){if(c===void 0&&(c={}),!u.current)return;if(typeof l=="number"){r.go(l);return}let f=l0(l,JSON.parse(s),o,c.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Yn([t,f.pathname])),(c.replace?r.replace:r.push)(f,c.state,c)},[t,r,s,o,e])}function p0(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=A.useContext(Br),{matches:i}=A.useContext(qr),{pathname:o}=Za(),s=JSON.stringify(a0(i,r.v7_relativeSplatPath));return A.useMemo(()=>l0(e,JSON.parse(s),o,n==="path"),[e,s,o,n])}function gI(e,t){return wI(e,t)}function wI(e,t,n,r){Ns()||_e(!1);let{navigator:i}=A.useContext(Br),{matches:o}=A.useContext(qr),s=o[o.length-1],u=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let l=Za(),c;if(t){var f;let w=typeof t=="string"?eo(t):t;a==="/"||(f=w.pathname)!=null&&f.startsWith(a)||_e(!1),c=w}else c=l;let h=c.pathname||"/",p=h;if(a!=="/"){let w=a.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(w.length).join("/")}let m=H_(e,{pathname:p}),g=TI(m&&m.map(w=>Object.assign({},w,{params:Object.assign({},u,w.params),pathname:Yn([a,i.encodeLocation?i.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?a:Yn([a,i.encodeLocation?i.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),o,n,r);return t&&g?A.createElement(Ja.Provider,{value:{location:is({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Vn.Pop}},g):g}function EI(){let e=xI(),t=dI(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},t),n?A.createElement("pre",{style:i},n):null,null)}const SI=A.createElement(EI,null);class _I extends A.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?A.createElement(qr.Provider,{value:this.props.routeContext},A.createElement(f0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function II(e){let{routeContext:t,match:n,children:r}=e,i=A.useContext(jh);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),A.createElement(qr.Provider,{value:t},r)}function TI(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var o;if((o=n)!=null&&o.errors)e=n.matches;else return null}let s=e,u=(i=n)==null?void 0:i.errors;if(u!=null){let c=s.findIndex(f=>f.route.id&&(u==null?void 0:u[f.route.id]));c>=0||_e(!1),s=s.slice(0,Math.min(s.length,c+1))}let a=!1,l=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<s.length;c++){let f=s[c];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(l=c),f.route.id){let{loaderData:h,errors:p}=n,m=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||m){a=!0,l>=0?s=s.slice(0,l+1):s=[s[0]];break}}}return s.reduceRight((c,f,h)=>{let p,m=!1,g=null,w=null;n&&(p=u&&f.route.id?u[f.route.id]:void 0,g=f.route.errorElement||SI,a&&(l<0&&h===0?(DI("route-fallback",!1),m=!0,w=null):l===h&&(m=!0,w=f.route.hydrateFallbackElement||null)));let v=t.concat(s.slice(0,h+1)),d=()=>{let y;return p?y=g:m?y=w:f.route.Component?y=A.createElement(f.route.Component,null):f.route.element?y=f.route.element:y=c,A.createElement(II,{match:f,routeContext:{outlet:c,matches:v,isDataRoute:n!=null},children:y})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?A.createElement(_I,{location:n.location,revalidation:n.revalidation,component:g,error:p,children:d(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):d()},null)}var v0=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(v0||{}),la=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(la||{});function kI(e){let t=A.useContext(jh);return t||_e(!1),t}function CI(e){let t=A.useContext(vI);return t||_e(!1),t}function NI(e){let t=A.useContext(qr);return t||_e(!1),t}function m0(e){let t=NI(),n=t.matches[t.matches.length-1];return n.route.id||_e(!1),n.route.id}function xI(){var e;let t=A.useContext(f0),n=CI(la.UseRouteError),r=m0(la.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function bI(){let{router:e}=kI(v0.UseNavigateStable),t=m0(la.UseNavigateStable),n=A.useRef(!1);return h0(()=>{n.current=!0}),A.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,is({fromRouteId:t},o)))},[e,t])}const mv={};function DI(e,t,n){!t&&!mv[e]&&(mv[e]=!0)}function df(e){_e(!1)}function AI(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Vn.Pop,navigator:o,static:s=!1,future:u}=e;Ns()&&_e(!1);let a=t.replace(/^\/*/,"/"),l=A.useMemo(()=>({basename:a,navigator:o,static:s,future:is({v7_relativeSplatPath:!1},u)}),[a,u,o,s]);typeof r=="string"&&(r=eo(r));let{pathname:c="/",search:f="",hash:h="",state:p=null,key:m="default"}=r,g=A.useMemo(()=>{let w=Vh(c,a);return w==null?null:{location:{pathname:w,search:f,hash:h,state:p,key:m},navigationType:i}},[a,c,f,h,p,m,i]);return g==null?null:A.createElement(Br.Provider,{value:l},A.createElement(Ja.Provider,{children:n,value:g}))}function PI(e){let{children:t,location:n}=e;return gI(pf(t),n)}new Promise(()=>{});function pf(e,t){t===void 0&&(t=[]);let n=[];return A.Children.forEach(e,(r,i)=>{if(!A.isValidElement(r))return;let o=[...t,i];if(r.type===A.Fragment){n.push.apply(n,pf(r.props.children,o));return}r.type!==df&&_e(!1),!r.props.index||!r.props.children||_e(!1);let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=pf(r.props.children,o)),n.push(s)}),n}/**
 * React Router DOM v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vf(){return vf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vf.apply(this,arguments)}function RI(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function OI(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function LI(e,t){return e.button===0&&(!t||t==="_self")&&!OI(e)}const MI=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],FI="6";try{window.__reactRouterVersion=FI}catch{}const $I="startTransition",yv=RE[$I];function UI(e){let{basename:t,children:n,future:r,window:i}=e,o=A.useRef();o.current==null&&(o.current=q_({window:i,v5Compat:!0}));let s=o.current,[u,a]=A.useState({action:s.action,location:s.location}),{v7_startTransition:l}=r||{},c=A.useCallback(f=>{l&&yv?yv(()=>a(f)):a(f)},[a,l]);return A.useLayoutEffect(()=>s.listen(c),[s,c]),A.createElement(AI,{basename:t,children:n,location:u.location,navigationType:u.action,navigator:s,future:r})}const VI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",jI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gv=A.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:o,replace:s,state:u,target:a,to:l,preventScrollReset:c,unstable_viewTransition:f}=t,h=RI(t,MI),{basename:p}=A.useContext(Br),m,g=!1;if(typeof l=="string"&&jI.test(l)&&(m=l,VI))try{let y=new URL(window.location.href),E=l.startsWith("//")?new URL(y.protocol+l):new URL(l),_=Vh(E.pathname,p);E.origin===y.origin&&_!=null?l=_+E.search+E.hash:g=!0}catch{}let w=mI(l,{relative:i}),v=zI(l,{replace:s,state:u,target:a,preventScrollReset:c,relative:i,unstable_viewTransition:f});function d(y){r&&r(y),y.defaultPrevented||v(y)}return A.createElement("a",vf({},h,{href:m||w,onClick:g||o?r:d,ref:n,target:a}))});var wv;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(wv||(wv={}));var Ev;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Ev||(Ev={}));function zI(e,t){let{target:n,replace:r,state:i,preventScrollReset:o,relative:s,unstable_viewTransition:u}=t===void 0?{}:t,a=d0(),l=Za(),c=p0(e,{relative:s});return A.useCallback(f=>{if(LI(f,n)){f.preventDefault();let h=r!==void 0?r:aa(l)===aa(c);a(e,{replace:h,state:i,preventScrollReset:o,relative:s,unstable_viewTransition:u})}},[l,a,c,r,i,n,e,o,s,u])}var mf=function(e,t){return mf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},mf(e,t)};function V(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");mf(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Ri=function(){return Ri=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Ri.apply(this,arguments)};function T(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function u(c){try{l(r.next(c))}catch(f){s(f)}}function a(c){try{l(r.throw(c))}catch(f){s(f)}}function l(c){c.done?o(c.value):i(c.value).then(u,a)}l((r=r.apply(e,t||[])).next())})}function I(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function u(l){return function(c){return a([l,c])}}function a(l){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,l[0]&&(n=0)),n;)try{if(r=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){n.label=l[1];break}if(l[0]===6&&n.label<o[1]){n.label=o[1],o=l;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(l);break}o[2]&&n.ops.pop(),n.trys.pop();continue}l=t.call(e,n)}catch(c){l=[6,c],i=0}finally{r=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function rc(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function fu(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(u){s={error:u}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o}function ve(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var BI=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},qI=function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=e[n++];t[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){var o=e[n++],s=e[n++],u=e[n++],a=((i&7)<<18|(o&63)<<12|(s&63)<<6|u&63)-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(a&1023))}else{var o=e[n++],s=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return t.join("")},Sv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var o=e[i],s=i+1<e.length,u=s?e[i+1]:0,a=i+2<e.length,l=a?e[i+2]:0,c=o>>2,f=(o&3)<<4|u>>4,h=(u&15)<<2|l>>6,p=l&63;a||(p=64,s||(h=64)),r.push(n[c],n[f],n[h],n[p])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(BI(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):qI(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],s=i<e.length,u=s?n[e.charAt(i)]:0;++i;var a=i<e.length,l=a?n[e.charAt(i)]:64;++i;var c=i<e.length,f=c?n[e.charAt(i)]:64;if(++i,o==null||u==null||l==null||f==null)throw Error();var h=o<<2|u>>4;if(r.push(h),l!==64){var p=u<<4&240|l>>2;if(r.push(p),f!==64){var m=l<<6&192|f;r.push(m)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KI(e){return os(void 0,e)}function os(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:var n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(var r in t)!t.hasOwnProperty(r)||!WI(r)||(e[r]=os(e[r],t[r]));return e}function WI(e){return e!=="__proto__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var HI=function(){function e(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(n,r){t.resolve=n,t.reject=r})}return e.prototype.wrapCallback=function(t){var n=this;return function(r,i){r?n.reject(r):n.resolve(i),typeof t=="function"&&(n.promise.catch(function(){}),t.length===1?t(r):t(r,i))}},e}();/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GI(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var s=Ri({iss:"https://securetoken.google.com/"+r,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e),u="";return[Sv.encodeString(JSON.stringify(n),!1),Sv.encodeString(JSON.stringify(s),!1),u].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function QI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Lr())}function YI(){try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function XI(){return typeof self=="object"&&self.self===self}function JI(){var e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function ZI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function eT(){return Lr().indexOf("Electron/")>=0}function tT(){var e=Lr();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function nT(){return Lr().indexOf("MSAppHost/")>=0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rT="FirebaseError",iT=function(e){V(t,e);function t(n,r,i){var o=e.call(this,r)||this;return o.code=n,o.customData=i,o.name=rT,Object.setPrototypeOf(o,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,zh.prototype.create),o}return t}(Error),zh=function(){function e(t,n,r){this.service=t,this.serviceName=n,this.errors=r}return e.prototype.create=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=n[0]||{},o=this.service+"/"+t,s=this.errors[t],u=s?oT(s,i):"Error",a=this.serviceName+": "+u+" ("+o+").",l=new iT(o,a,i);return l},e}();function oT(e,t){return e.replace(sT,function(n,r){var i=t[r];return i!=null?String(i):"<"+r+"?>"})}var sT=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _v(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function uT(e,t){var n=new aT(e,t);return n.subscribe.bind(n)}var aT=function(){function e(t,n){var r=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(function(){t(r)}).catch(function(i){r.error(i)})}return e.prototype.next=function(t){this.forEachObserver(function(n){n.next(t)})},e.prototype.error=function(t){this.forEachObserver(function(n){n.error(t)}),this.close(t)},e.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},e.prototype.subscribe=function(t,n,r){var i=this,o;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");lT(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:r},o.next===void 0&&(o.next=ic),o.error===void 0&&(o.error=ic),o.complete===void 0&&(o.complete=ic);var s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?o.error(i.finalError):o.complete()}catch{}}),this.observers.push(o),s},e.prototype.unsubscribeOne=function(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))},e.prototype.forEachObserver=function(t){if(!this.finalized)for(var n=0;n<this.observers.length;n++)this.sendOne(n,t)},e.prototype.sendOne=function(t,n){var r=this;this.task.then(function(){if(r.observers!==void 0&&r.observers[t]!==void 0)try{n(r.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})},e.prototype.close=function(t){var n=this;this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(function(){n.observers=void 0,n.onNoObservers=void 0}))},e}();function lT(e,t){if(typeof e!="object"||e===null)return!1;for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i in e&&typeof e[i]=="function")return!0}return!1}function ic(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ie(e){return e&&e._delegate?e._delegate:e}var el=function(){function e(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},e.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},e.prototype.setServiceProps=function(t){return this.serviceProps=t,this},e.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xn="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cT=function(){function e(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Set}return e.prototype.get=function(t){t===void 0&&(t=xn);var n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){var r=new HI;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{var i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise},e.prototype.getImmediate=function(t){var n=Ri({identifier:xn,optional:!1},t),r=n.identifier,i=n.optional,o=this.normalizeInstanceIdentifier(r);if(this.isInitialized(o)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:o})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error("Service "+this.name+" is not available")}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(t){var n,r;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,!!this.shouldAutoInitialize()){if(hT(t))try{this.getOrInitializeService({instanceIdentifier:xn})}catch{}try{for(var i=rc(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var s=fu(o.value,2),u=s[0],a=s[1],l=this.normalizeInstanceIdentifier(u);try{var c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}catch(f){n={error:f}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}},e.prototype.clearInstance=function(t){t===void 0&&(t=xn),this.instancesDeferred.delete(t),this.instances.delete(t)},e.prototype.delete=function(){return T(this,void 0,void 0,function(){var t;return I(this,function(n){switch(n.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(ve(ve([],fu(t.filter(function(r){return"INTERNAL"in r}).map(function(r){return r.INTERNAL.delete()}))),fu(t.filter(function(r){return"_delete"in r}).map(function(r){return r._delete()}))))];case 1:return n.sent(),[2]}})})},e.prototype.isComponentSet=function(){return this.component!=null},e.prototype.isInitialized=function(t){return t===void 0&&(t=xn),this.instances.has(t)},e.prototype.initialize=function(t){var n,r;t===void 0&&(t={});var i=t.instanceIdentifier,o=i===void 0?xn:i,s=t.options,u=s===void 0?{}:s,a=this.normalizeInstanceIdentifier(o);if(this.isInitialized(a))throw Error(this.name+"("+a+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var l=this.getOrInitializeService({instanceIdentifier:a,options:u});try{for(var c=rc(this.instancesDeferred.entries()),f=c.next();!f.done;f=c.next()){var h=fu(f.value,2),p=h[0],m=h[1],g=this.normalizeInstanceIdentifier(p);a===g&&m.resolve(l)}}catch(w){n={error:w}}finally{try{f&&!f.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}return this.invokeOnInitCallbacks(l,a),l},e.prototype.onInit=function(t){var n=this;return this.onInitCallbacks.add(t),function(){n.onInitCallbacks.delete(t)}},e.prototype.invokeOnInitCallbacks=function(t,n){var r,i;try{for(var o=rc(this.onInitCallbacks),s=o.next();!s.done;s=o.next()){var u=s.value;try{u(t,n)}catch{}}}catch(a){r={error:a}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}},e.prototype.getOrInitializeService=function(t){var n=t.instanceIdentifier,r=t.options,i=r===void 0?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:fT(n),options:i}),this.instances.set(n,o),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch{}return o||null},e.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:xn:t},e.prototype.shouldAutoInitialize=function(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"},e}();function fT(e){return e===xn?void 0:e}function hT(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dT=function(){function e(t){this.name=t,this.providers=new Map}return e.prototype.addComponent=function(t){var n=this.getProvider(t.name);if(n.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);n.setComponent(t)},e.prototype.addOrOverwriteComponent=function(t){var n=this.getProvider(t.name);n.isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},e.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var n=new cT(t,this);return this.providers.set(t,n),n},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function Vt(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var o=arguments[t],s=0,u=o.length;s<u;s++,i++)r[i]=o[s];return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vr,Bh=[],X;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(X||(X={}));var y0={debug:X.DEBUG,verbose:X.VERBOSE,info:X.INFO,warn:X.WARN,error:X.ERROR,silent:X.SILENT},pT=X.INFO,vT=(vr={},vr[X.DEBUG]="log",vr[X.VERBOSE]="log",vr[X.INFO]="info",vr[X.WARN]="warn",vr[X.ERROR]="error",vr),mT=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(t<e.logLevel)){var i=new Date().toISOString(),o=vT[t];if(o)console[o].apply(console,Vt(["["+i+"]  "+e.name+":"],n));else throw new Error("Attempted to log a message with an invalid logType (value: "+t+")")}},g0=function(){function e(t){this.name=t,this._logLevel=pT,this._logHandler=mT,this._userLogHandler=null,Bh.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in X))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(t){this._logLevel=typeof t=="string"?y0[t]:t},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Vt([this,X.DEBUG],t)),this._logHandler.apply(this,Vt([this,X.DEBUG],t))},e.prototype.log=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Vt([this,X.VERBOSE],t)),this._logHandler.apply(this,Vt([this,X.VERBOSE],t))},e.prototype.info=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Vt([this,X.INFO],t)),this._logHandler.apply(this,Vt([this,X.INFO],t))},e.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Vt([this,X.WARN],t)),this._logHandler.apply(this,Vt([this,X.WARN],t))},e.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Vt([this,X.ERROR],t)),this._logHandler.apply(this,Vt([this,X.ERROR],t))},e}();function yT(e){Bh.forEach(function(t){t.setLogLevel(e)})}function gT(e,t){for(var n=function(s){var u=null;t&&t.level&&(u=y0[t.level]),e===null?s.userLogHandler=null:s.userLogHandler=function(a,l){for(var c=[],f=2;f<arguments.length;f++)c[f-2]=arguments[f];var h=c.map(function(p){if(p==null)return null;if(typeof p=="string")return p;if(typeof p=="number"||typeof p=="boolean")return p.toString();if(p instanceof Error)return p.message;try{return JSON.stringify(p)}catch{return null}}).filter(function(p){return p}).join(" ");l>=(u??a.logLevel)&&e({level:X[l].toLowerCase(),message:h,args:c,type:a.name})}},r=0,i=Bh;r<i.length;r++){var o=i[r];n(o)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kn,wT=(kn={},kn["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",kn["bad-app-name"]="Illegal App name: '{$appName}",kn["duplicate-app"]="Firebase App named '{$appName}' already exists",kn["app-deleted"]="Firebase App named '{$appName}' already deleted",kn["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",kn["invalid-log-argument"]="First argument to `onLog` must be null or a function.",kn),ti=new zh("app","Firebase",wT),w0="@firebase/app",ET="0.6.21",ST="@firebase/analytics",_T="@firebase/app-check",IT="@firebase/auth",TT="@firebase/database",kT="@firebase/functions",CT="@firebase/installations",NT="@firebase/messaging",xT="@firebase/performance",bT="@firebase/remote-config",DT="@firebase/storage",AT="@firebase/firestore",PT="firebase-wrapper";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve,ca="[DEFAULT]",RT=(Ve={},Ve[w0]="fire-core",Ve[ST]="fire-analytics",Ve[_T]="fire-app-check",Ve[IT]="fire-auth",Ve[TT]="fire-rtdb",Ve[kT]="fire-fn",Ve[CT]="fire-iid",Ve[NT]="fire-fcm",Ve[xT]="fire-perf",Ve[bT]="fire-rc",Ve[DT]="fire-gcs",Ve[AT]="fire-fst",Ve["fire-js"]="fire-js",Ve[PT]="fire-js-all",Ve);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oi=new g0("@firebase/app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pu=function(){function e(t,n,r){var i=this;this.firebase_=r,this.isDeleted_=!1,this.name_=n.name,this.automaticDataCollectionEnabled_=n.automaticDataCollectionEnabled||!1,this.options_=KI(t),this.container=new dT(n.name),this._addComponent(new el("app",function(){return i},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(o){return i._addComponent(o)})}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var t=this;return new Promise(function(n){t.checkDestroyed_(),n()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(n){return n.delete()}))}).then(function(){t.isDeleted_=!0})},e.prototype._getService=function(t,n){return n===void 0&&(n=ca),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:n})},e.prototype._removeServiceInstance=function(t,n){n===void 0&&(n=ca),this.container.getProvider(t).clearInstance(n)},e.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(n){Oi.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,n)}},e.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw ti.create("app-deleted",{appName:this.name_})},e}();Pu.prototype.name&&Pu.prototype.options||Pu.prototype.delete||console.log("dc");var OT="8.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LT(e){var t={},n=new Map,r={__esModule:!0,initializeApp:s,app:o,registerVersion:l,setLogLevel:yT,onLog:c,apps:null,SDK_VERSION:OT,INTERNAL:{registerComponent:a,removeApp:i,components:n,useAsService:f}};r.default=r,Object.defineProperty(r,"apps",{get:u});function i(h){delete t[h]}function o(h){if(h=h||ca,!_v(t,h))throw ti.create("no-app",{appName:h});return t[h]}o.App=e;function s(h,p){if(p===void 0&&(p={}),typeof p!="object"||p===null){var m=p;p={name:m}}var g=p;g.name===void 0&&(g.name=ca);var w=g.name;if(typeof w!="string"||!w)throw ti.create("bad-app-name",{appName:String(w)});if(_v(t,w))throw ti.create("duplicate-app",{appName:w});var v=new e(h,g,r);return t[w]=v,v}function u(){return Object.keys(t).map(function(h){return t[h]})}function a(h){var p=h.name;if(n.has(p))return Oi.debug("There were multiple attempts to register component "+p+"."),h.type==="PUBLIC"?r[p]:null;if(n.set(p,h),h.type==="PUBLIC"){var m=function(d){if(d===void 0&&(d=o()),typeof d[p]!="function")throw ti.create("invalid-app-argument",{appName:p});return d[p]()};h.serviceProps!==void 0&&os(m,h.serviceProps),r[p]=m,e.prototype[p]=function(){for(var d=[],y=0;y<arguments.length;y++)d[y]=arguments[y];var E=this._getService.bind(this,p);return E.apply(this,h.multipleInstances?d:[])}}for(var g=0,w=Object.keys(t);g<w.length;g++){var v=w[g];t[v]._addComponent(h)}return h.type==="PUBLIC"?r[p]:null}function l(h,p,m){var g,w=(g=RT[h])!==null&&g!==void 0?g:h;m&&(w+="-"+m);var v=w.match(/\s|\//),d=p.match(/\s|\//);if(v||d){var y=['Unable to register library "'+w+'" with version "'+p+'":'];v&&y.push('library name "'+w+'" contains illegal characters (whitespace or "/")'),v&&d&&y.push("and"),d&&y.push('version name "'+p+'" contains illegal characters (whitespace or "/")'),Oi.warn(y.join(" "));return}a(new el(w+"-version",function(){return{library:w,version:p}},"VERSION"))}function c(h,p){if(h!==null&&typeof h!="function")throw ti.create("invalid-log-argument");gT(h,p)}function f(h,p){if(p==="serverAuth")return null;var m=p;return m}return r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E0(){var e=LT(Pu);e.INTERNAL=Ri(Ri({},e.INTERNAL),{createFirebaseNamespace:E0,extendNamespace:t,createSubscribe:uT,ErrorFactory:zh,deepExtend:os});function t(n){os(e,n)}return e}var qh=E0();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var MT=function(){function e(t){this.container=t}return e.prototype.getPlatformInfoString=function(){var t=this.container.getProviders();return t.map(function(n){if(FT(n)){var r=n.getImmediate();return r.library+"/"+r.version}else return null}).filter(function(n){return n}).join(" ")},e}();function FT(e){var t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $T(e,t){e.INTERNAL.registerComponent(new el("platform-logger",function(n){return new MT(n)},"PRIVATE")),e.registerVersion(w0,ET,t),e.registerVersion("fire-js","")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(XI()&&self.firebase!==void 0){Oi.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);var Iv=self.firebase.SDK_VERSION;Iv&&Iv.indexOf("LITE")>=0&&Oi.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}var UT=qh.initializeApp;qh.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return YI()&&Oi.warn(`
      Warning: This is a browser-targeted Firebase bundle but it appears it is being
      run in a Node environment.  If running in a Node environment, make sure you
      are using the bundle specified by the "main" field in package.json.
      
      If you are using Webpack, you can specify "main" as the first item in
      "resolve.mainFields":
      https://webpack.js.org/configuration/resolve/#resolvemainfields
      
      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"
      as the first item in "mainFields", e.g. ['main', 'module'].
      https://github.com/rollup/@rollup/plugin-node-resolve
      `),UT.apply(void 0,e)};var xs=qh;$T(xs);var VT="firebase",jT="8.5.0";/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xs.registerVersion(VT,jT,"app");/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var yf=function(e,t){return yf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},yf(e,t)};function zT(e,t){yf(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function S0(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var BT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},L,Kh=Kh||{},z=BT||self;function fa(){}function gf(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function bs(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function qT(e){return Object.prototype.hasOwnProperty.call(e,oc)&&e[oc]||(e[oc]=++KT)}var oc="closure_uid_"+(1e9*Math.random()>>>0),KT=0;function WT(e,t,n){return e.call.apply(e.bind,arguments)}function HT(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),e.apply(t,i)}}return function(){return e.apply(t,arguments)}}function Ke(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Ke=WT:Ke=HT,Ke.apply(null,arguments)}function hu(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),e.apply(this,r)}}function un(){return Date.now()}function ot(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Kb=function(r,i,o){for(var s=Array(arguments.length-2),u=2;u<arguments.length;u++)s[u-2]=arguments[u];return t.prototype[i].apply(r,s)}}function ar(){this.j=this.j,this.i=this.i}var GT=0;ar.prototype.j=!1;ar.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),GT!=0)&&qT(this)};ar.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var _0=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},I0=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i=typeof e=="string"?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};function QT(e){e:{for(var t=$k,n=e.length,r=typeof e=="string"?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:typeof e=="string"?e.charAt(t):e[t]}function Tv(e){return Array.prototype.concat.apply([],arguments)}function Wh(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function ha(e){return/^[\s\xa0]*$/.test(e)}var kv=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Je(e,t){return e.indexOf(t)!=-1}function sc(e,t){return e<t?-1:e>t?1:0}var Ze;e:{var Cv=z.navigator;if(Cv){var Nv=Cv.userAgent;if(Nv){Ze=Nv;break e}}Ze=""}function Hh(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function T0(e){var t={};for(var n in e)t[n]=e[n];return t}var xv="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k0(e,t){for(var n,r,i=1;i<arguments.length;i++){r=arguments[i];for(n in r)e[n]=r[n];for(var o=0;o<xv.length;o++)n=xv[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Gh(e){return Gh[" "](e),e}Gh[" "]=fa;function YT(e,t){var n=ZT;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}var XT=Je(Ze,"Opera"),tr=Je(Ze,"Trident")||Je(Ze,"MSIE"),C0=Je(Ze,"Edge"),wf=C0||tr,N0=Je(Ze,"Gecko")&&!(Je(Ze.toLowerCase(),"webkit")&&!Je(Ze,"Edge"))&&!(Je(Ze,"Trident")||Je(Ze,"MSIE"))&&!Je(Ze,"Edge"),JT=Je(Ze.toLowerCase(),"webkit")&&!Je(Ze,"Edge");function x0(){var e=z.document;return e?e.documentMode:void 0}var da;e:{var uc="",ac=function(){var e=Ze;if(N0)return/rv:([^\);]+)(\)|;)/.exec(e);if(C0)return/Edge\/([\d\.]+)/.exec(e);if(tr)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(JT)return/WebKit\/(\S+)/.exec(e);if(XT)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(ac&&(uc=ac?ac[1]:""),tr){var lc=x0();if(lc!=null&&lc>parseFloat(uc)){da=String(lc);break e}}da=uc}var ZT={};function b0(e){return YT(e,function(){for(var t=0,n=kv(String(da)).split("."),r=kv(String(e)).split("."),i=Math.max(n.length,r.length),o=0;t==0&&o<i;o++){var s=n[o]||"",u=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],s[0].length==0&&u[0].length==0)break;t=sc(s[1].length==0?0:parseInt(s[1],10),u[1].length==0?0:parseInt(u[1],10))||sc(s[2].length==0,u[2].length==0)||sc(s[2],u[2]),s=s[3],u=u[3]}while(t==0)}return 0<=t})}var Ef;if(z.document&&tr){var bv=x0();Ef=bv||parseInt(da,10)||void 0}else Ef=void 0;var D0=Ef,Qh=!tr||9<=Number(D0),ek=tr&&!b0("9"),tk=function(){if(!z.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{z.addEventListener("test",fa,t),z.removeEventListener("test",fa,t)}catch{}return e}();function We(e,t){this.type=e,this.a=this.target=t,this.defaultPrevented=!1}We.prototype.b=function(){this.defaultPrevented=!0};function ss(e,t){if(We.call(this,e?e.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.a=t,t=e.relatedTarget){if(N0){e:{try{Gh(t.nodeName);var i=!0;break e}catch{}i=!1}i||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:nk[e.pointerType]||"",this.c=e,e.defaultPrevented&&this.b()}}ot(ss,We);var nk={2:"touch",3:"pen",4:"mouse"};ss.prototype.b=function(){ss.X.b.call(this);var e=this.c;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,ek)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch{}};var Ds="closure_listenable_"+(1e6*Math.random()|0),rk=0;function ik(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ca=i,this.key=++rk,this.Y=this.Z=!1}function tl(e){e.Y=!0,e.listener=null,e.proxy=null,e.src=null,e.ca=null}function nl(e){this.src=e,this.a={},this.b=0}nl.prototype.add=function(e,t,n,r,i){var o=e.toString();e=this.a[o],e||(e=this.a[o]=[],this.b++);var s=_f(e,t,r,i);return-1<s?(t=e[s],n||(t.Z=!1)):(t=new ik(t,this.src,o,!!r,i),t.Z=n,e.push(t)),t};function Sf(e,t){var n=t.type;if(n in e.a){var r=e.a[n],i=_0(r,t),o;(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(tl(t),e.a[n].length==0&&(delete e.a[n],e.b--))}}function _f(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.Y&&o.listener==t&&o.capture==!!n&&o.ca==r)return i}return-1}var Yh="closure_lm_"+(1e6*Math.random()|0),cc={};function Xh(e,t,n,r,i){if(r&&r.once)return P0(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)Xh(e,t[o],n,r,i);return null}return n=ed(n),e&&e[Ds]?e.va(t,n,bs(r)?!!r.capture:!!r,i):A0(e,t,n,!1,r,i)}function A0(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var s=bs(i)?!!i.capture:!!i;if(s&&!Qh)return null;var u=Zh(e);if(u||(e[Yh]=u=new nl(e)),n=u.add(t,n,r,s,o),n.proxy)return n;if(r=ok(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)tk||(i=s),i===void 0&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(O0(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function ok(){var e=sk,t=Qh?function(n){return e.call(t.src,t.listener,n)}:function(n){if(n=e.call(t.src,t.listener,n),!n)return n};return t}function P0(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)P0(e,t[o],n,r,i);return null}return n=ed(n),e&&e[Ds]?e.wa(t,n,bs(r)?!!r.capture:!!r,i):A0(e,t,n,!0,r,i)}function R0(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)R0(e,t[o],n,r,i);else r=bs(r)?!!r.capture:!!r,n=ed(n),e&&e[Ds]?(e=e.c,t=String(t).toString(),t in e.a&&(o=e.a[t],n=_f(o,n,r,i),-1<n&&(tl(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete e.a[t],e.b--)))):e&&(e=Zh(e))&&(t=e.a[t.toString()],e=-1,t&&(e=_f(t,n,r,i)),(n=-1<e?t[e]:null)&&Jh(n))}function Jh(e){if(typeof e!="number"&&e&&!e.Y){var t=e.src;if(t&&t[Ds])Sf(t.c,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(O0(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Zh(t))?(Sf(n,e),n.b==0&&(n.src=null,t[Yh]=null)):tl(e)}}}function O0(e){return e in cc?cc[e]:cc[e]="on"+e}function Dv(e,t){var n=e.listener,r=e.ca||e.src;return e.Z&&Jh(e),n.call(r,t)}function sk(e,t){if(e.Y)return!0;if(!Qh){if(!t)e:{t=["window","event"];for(var n=z,r=0;r<t.length;r++)if(n=n[t[r]],n==null){t=null;break e}t=n}return t=new ss(t,this),Dv(e,t)}return Dv(e,new ss(t,this))}function Zh(e){return e=e[Yh],e instanceof nl?e:null}var fc="__closure_events_fn_"+(1e9*Math.random()>>>0);function ed(e){return typeof e=="function"?e:(e[fc]||(e[fc]=function(t){return e.handleEvent(t)}),e[fc])}function Nt(){ar.call(this),this.c=new nl(this),this.J=this,this.C=null}ot(Nt,ar);Nt.prototype[Ds]=!0;L=Nt.prototype;L.addEventListener=function(e,t,n,r){Xh(this,e,t,n,r)};L.removeEventListener=function(e,t,n,r){R0(this,e,t,n,r)};function Me(e,t){var n,r=e.C;if(r)for(n=[];r;r=r.C)n.push(r);if(e=e.J,r=t.type||t,typeof t=="string")t=new We(t,e);else if(t instanceof We)t.target=t.target||e;else{var i=t;t=new We(r,e),k0(t,i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=t.a=n[o];i=du(s,r,!0,t)&&i}if(s=t.a=e,i=du(s,r,!0,t)&&i,i=du(s,r,!1,t)&&i,n)for(o=0;o<n.length;o++)s=t.a=n[o],i=du(s,r,!1,t)&&i}L.G=function(){if(Nt.X.G.call(this),this.c){var e=this.c,t;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)tl(n[r]);delete e.a[t],e.b--}}this.C=null};L.va=function(e,t,n,r){return this.c.add(String(e),t,!1,n,r)};L.wa=function(e,t,n,r){return this.c.add(String(e),t,!0,n,r)};function du(e,t,n,r){if(t=e.c.a[String(t)],!t)return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var s=t[o];if(s&&!s.Y&&s.capture==n){var u=s.listener,a=s.ca||s.src;s.Z&&Sf(e.c,s),i=u.call(a,r)!==!1&&i}}return i&&!r.defaultPrevented}var td=z.JSON.stringify;function L0(){this.b=this.a=null}var M0=new(function(){function e(t,n){this.c=t,this.f=n,this.b=0,this.a=null}return e.prototype.get=function(){var t;return 0<this.b?(this.b--,t=this.a,this.a=t.next,t.next=null):t=this.c(),t},e}())(function(){return new nd},function(e){e.reset()});L0.prototype.add=function(e,t){var n=M0.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n};function uk(){var e=$0,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.b=null),t.next=null),t}function nd(){this.next=this.b=this.a=null}nd.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null};nd.prototype.reset=function(){this.next=this.b=this.a=null};function ak(e){z.setTimeout(function(){throw e},0)}function F0(e,t){If||lk(),Tf||(If(),Tf=!0),$0.add(e,t)}var If;function lk(){var e=z.Promise.resolve(void 0);If=function(){e.then(ck)}}var Tf=!1,$0=new L0;function ck(){for(var e;e=uk();){try{e.a.call(e.b)}catch(n){ak(n)}var t=M0;t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}Tf=!1}function rl(e,t){Nt.call(this),this.b=e||1,this.a=t||z,this.f=Ke(this.Za,this),this.g=un()}ot(rl,Nt);L=rl.prototype;L.aa=!1;L.M=null;L.Za=function(){if(this.aa){var e=un()-this.g;0<e&&e<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-e):(this.M&&(this.a.clearTimeout(this.M),this.M=null),Me(this,"tick"),this.aa&&(rd(this),this.start()))}};L.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=un())};function rd(e){e.aa=!1,e.M&&(e.a.clearTimeout(e.M),e.M=null)}L.G=function(){rl.X.G.call(this),rd(this),delete this.a};function id(e,t,n){if(typeof e=="function")n&&(e=Ke(e,n));else if(e&&typeof e.handleEvent=="function")e=Ke(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:z.setTimeout(e,t||0)}function U0(e){e.a=id(function(){e.a=null,e.c&&(e.c=!1,U0(e))},e.h);var t=e.b;e.b=null,e.g.apply(null,t)}var fk=function(e){zT(t,e);function t(n,r){var i=e.call(this)||this;return i.g=n,i.h=r,i.b=null,i.c=!1,i.a=null,i}return t.prototype.f=function(n){this.b=arguments,this.a?this.c=!0:U0(this)},t.prototype.G=function(){e.prototype.G.call(this),this.a&&(z.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},t}(ar);function us(e){ar.call(this),this.b=e,this.a={}}ot(us,ar);var Av=[];function V0(e,t,n,r){Array.isArray(n)||(n&&(Av[0]=n.toString()),n=Av);for(var i=0;i<n.length;i++){var o=Xh(t,n[i],r||e.handleEvent,!1,e.b||e);if(!o)break;e.a[o.key]=o}}function j0(e){Hh(e.a,function(t,n){this.a.hasOwnProperty(n)&&Jh(t)},e),e.a={}}us.prototype.G=function(){us.X.G.call(this),j0(this)};us.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function od(){this.a=!0}function hk(e,t,n,r,i,o){e.info(function(){if(e.a)if(o)for(var s="",u=o.split("&"),a=0;a<u.length;a++){var l=u[a].split("=");if(1<l.length){var c=l[0];l=l[1];var f=c.split("_");s=2<=f.length&&f[1]=="type"?s+(c+"="+l+"&"):s+(c+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+`
`+n+`
`+s})}function dk(e,t,n,r,i,o,s){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+`
`+n+`
`+o+" "+s})}function mi(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+vk(e,n)+(r?" "+r:"")})}function pk(e,t){e.info(function(){return"TIMEOUT: "+t})}od.prototype.info=function(){};function vk(e,t){if(!e.a)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if(o!="noop"&&o!="stop"&&o!="close")for(var s=1;s<i.length;s++)i[s]=""}}}}return td(n)}catch{return t}}var Kr={},Pv=null;function il(){return Pv=Pv||new Nt}Kr.Fa="serverreachability";function z0(e){We.call(this,Kr.Fa,e)}ot(z0,We);function as(e){var t=il();Me(t,new z0(t))}Kr.STAT_EVENT="statevent";function B0(e,t){We.call(this,Kr.STAT_EVENT,e),this.stat=t}ot(B0,We);function et(e){var t=il();Me(t,new B0(t,e))}Kr.Ga="timingevent";function q0(e){We.call(this,Kr.Ga,e)}ot(q0,We);function As(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return z.setTimeout(function(){e()},t)}var ol={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},K0={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function W0(){}W0.prototype.a=null;function Rv(e){var t;return(t=e.a)||(t=e.a={}),t}function H0(){}var Ps={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function sd(){We.call(this,"d")}ot(sd,We);function ud(){We.call(this,"c")}ot(ud,We);var G0;function Q0(){}ot(Q0,W0);G0=new Q0;function Rs(e,t,n,r){this.g=e,this.c=t,this.f=n,this.S=r||1,this.J=new us(this),this.P=mk,e=wf?125:void 0,this.R=new rl(e),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}var mk=45e3,Y0={},kf={};L=Rs.prototype;L.setTimeout=function(e){this.P=e};function Cf(e,t,n){e.H=1,e.i=ul(Sn(t)),e.j=n,e.I=!0,X0(e,null)}function X0(e,t){e.u=un(),Os(e),e.l=Sn(e.i);var n=e.l,r=e.S;Array.isArray(r)||(r=[String(r)]),rw(n.b,"t",r),e.D=0,e.a=Sw(e.g,e.g.C?t:null),0<e.O&&(e.F=new fk(Ke(e.Ca,e,e.a),e.O)),V0(e.J,e.a,"readystatechange",e.Xa),t=e.B?T0(e.B):{},e.j?(e.m||(e.m="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.a.ba(e.l,e.m,e.j,t)):(e.m="GET",e.a.ba(e.l,e.m,null,t)),as(),hk(e.c,e.m,e.l,e.f,e.S,e.j)}L.Xa=function(e){e=e.target;var t=this.F;t&&jn(e)==3?t.f():this.Ca(e)};L.Ca=function(e){try{if(e==this.a)e:{var t=jn(this.a),n=this.a.ua(),r=this.a.W();if(!(3>t||t==3&&!wf&&!this.a.$())){this.A||t!=4||n==7||(n==8||0>=r?as(3):as(2)),sl(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=i==200,dk(this.c,this.m,this.l,this.f,this.S,t,i),this.b){if(this.U&&!this.C){t:{if(this.a){var s,u=this.a;if((s=u.a?u.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ha(s)){var a=s;break t}}a=null}if(a)mi(this.c,this.f,a,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Nf(this,a);else{this.b=!1,this.h=3,et(12),Ti(this),pa(this);break e}}this.I?(J0(this,t,o),wf&&this.b&&t==3&&(V0(this.J,this.R,"tick",this.Wa),this.R.start())):(mi(this.c,this.f,o,null),Nf(this,o)),t==4&&Ti(this),this.b&&!this.A&&(t==4?yw(this.g,this):(this.b=!1,Os(this)))}else i==400&&0<o.indexOf("Unknown SID")?(this.h=3,et(12)):(this.h=0,et(13)),Ti(this),pa(this)}}}catch{}finally{}};function J0(e,t,n){for(var r=!0;!e.A&&e.D<n.length;){var i=yk(e,n);if(i==kf){t==4&&(e.h=4,et(14),r=!1),mi(e.c,e.f,null,"[Incomplete Response]");break}else if(i==Y0){e.h=4,et(15),mi(e.c,e.f,n,"[Invalid Chunk]"),r=!1;break}else mi(e.c,e.f,i,null),Nf(e,i)}t==4&&n.length==0&&(e.h=1,et(16),r=!1),e.b=e.b&&r,r?0<n.length&&!e.V&&(e.V=!0,t=e.g,t.a==e&&t.U&&!t.F&&(t.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),vd(t),t.F=!0,et(11))):(mi(e.c,e.f,n,"[Invalid Chunked Response]"),Ti(e),pa(e))}L.Wa=function(){if(this.a){var e=jn(this.a),t=this.a.$();this.D<t.length&&(sl(this),J0(this,e,t),this.b&&e!=4&&Os(this))}};function yk(e,t){var n=e.D,r=t.indexOf(`
`,n);return r==-1?kf:(n=Number(t.substring(n,r)),isNaN(n)?Y0:(r+=1,r+n>t.length?kf:(t=t.substr(r,n),e.D=r+n,t)))}L.cancel=function(){this.A=!0,Ti(this)};function Os(e){e.T=un()+e.P,Z0(e,e.P)}function Z0(e,t){if(e.o!=null)throw Error("WatchDog timer not null");e.o=As(Ke(e.Va,e),t)}function sl(e){e.o&&(z.clearTimeout(e.o),e.o=null)}L.Va=function(){this.o=null;var e=un();0<=e-this.T?(pk(this.c,this.l),this.H!=2&&(as(),et(17)),Ti(this),this.h=2,pa(this)):Z0(this,this.T-e)};function pa(e){e.g.v==0||e.A||yw(e.g,e)}function Ti(e){sl(e);var t=e.F;t&&typeof t.ja=="function"&&t.ja(),e.F=null,rd(e.R),j0(e.J),e.a&&(t=e.a,e.a=null,t.abort(),t.ja())}function Nf(e,t){try{var n=e.g;if(n.v!=0&&(n.a==e||xf(n.b,e))){if(n.I=e.N,!e.C&&xf(n.b,e)&&n.v==3){try{var r=n.ka.a.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.j){if(n.a)if(n.a.u+3e3<e.u)ga(n),ll(n);else break e;pd(n),et(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&n.o==0&&!n.m&&(n.m=As(Ke(n.Sa,n),6e3));if(1>=sw(n.b)&&n.ea){try{n.ea()}catch{}n.ea=void 0}}else _r(n,11)}else if((e.C||n.a==e)&&ga(n),!ha(t))for(t=r=n.ka.a.parse(t),r=0;r<t.length;r++)if(i=t[r],n.P=i[0],i=i[1],n.v==2)if(i[0]=="c"){n.J=i[1],n.ga=i[2];var o=i[3];o!=null&&(n.ha=o,n.c.info("VER="+n.ha));var s=i[4];s!=null&&(n.pa=s,n.c.info("SVER="+n.pa));var u=i[5];if(u!=null&&typeof u=="number"&&0<u){var a=1.5*u;n.D=a,n.c.info("backChannelRequestTimeoutMs_="+a)}a=n;var l=e.a;if(l){var c=l.a?l.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(c){var f=a.b;!f.a&&(Je(c,"spdy")||Je(c,"quic")||Je(c,"h2"))&&(f.f=f.g,f.a=new Set,f.b&&(cd(f,f.b),f.b=null))}if(a.A){var h=l.a?l.a.getResponseHeader("X-HTTP-Session-Id"):null;h&&(a.na=h,ae(a.B,a.A,h))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=un()-e.u,n.c.info("Handshake RTT: "+n.N+"ms")),a=n;var p=e;if(a.la=Ew(a,a.C?a.ga:null,a.fa),p.C){uw(a.b,p);var m=p,g=a.D;g&&m.setTimeout(g),m.o&&(sl(m),Os(m)),a.a=p}else vw(a);0<n.g.length&&cl(n)}else i[0]!="stop"&&i[0]!="close"||_r(n,7);else n.v==3&&(i[0]=="stop"||i[0]=="close"?i[0]=="stop"?_r(n,7):dd(n):i[0]!="noop"&&n.f&&n.f.sa(i),n.o=0)}as(4)}catch{}}function gk(e){if(e.K&&typeof e.K=="function")return e.K();if(typeof e=="string")return e.split("");if(gf(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}t=[],n=0;for(r in e)t[n++]=e[r];return e=t}function ad(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(gf(e)||typeof e=="string")I0(e,t,void 0);else{if(e.L&&typeof e.L=="function")var n=e.L();else if(e.K&&typeof e.K=="function")n=void 0;else if(gf(e)||typeof e=="string"){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=gk(e),i=r.length;for(var o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}}function to(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof to)for(n=e.L(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}L=to.prototype;L.K=function(){ld(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e};L.L=function(){return ld(this),this.a.concat()};function ld(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];Mr(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var i={};for(n=t=0;t<e.a.length;)r=e.a[t],Mr(i,r)||(e.a[n++]=r,i[r]=1),t++;e.a.length=n}}L.get=function(e,t){return Mr(this.b,e)?this.b[e]:t};L.set=function(e,t){Mr(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t};L.forEach=function(e,t){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};function Mr(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var ew=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function wk(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Fr(e,t){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,e instanceof Fr){this.a=t!==void 0?t:e.a,va(this,e.f),this.j=e.j,ma(this,e.c),ya(this,e.h),this.g=e.g,t=e.b;var n=new ls;n.c=t.c,t.a&&(n.a=new to(t.a),n.b=t.b),Ov(this,n),this.i=e.i}else e&&(n=String(e).match(ew))?(this.a=!!t,va(this,n[1]||"",!0),this.j=Fo(n[2]||""),ma(this,n[3]||"",!0),ya(this,n[4]),this.g=Fo(n[5]||"",!0),Ov(this,n[6]||"",!0),this.i=Fo(n[7]||"")):(this.a=!!t,this.b=new ls(null,this.a))}Fr.prototype.toString=function(){var e=[],t=this.f;t&&e.push(Co(t,Lv,!0),":");var n=this.c;return(n||t=="file")&&(e.push("//"),(t=this.j)&&e.push(Co(t,Lv,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.h,n!=null&&e.push(":",String(n))),(n=this.g)&&(this.c&&n.charAt(0)!="/"&&e.push("/"),e.push(Co(n,n.charAt(0)=="/"?Tk:Ik,!0))),(n=this.b.toString())&&e.push("?",n),(n=this.i)&&e.push("#",Co(n,Ck)),e.join("")};function Sn(e){return new Fr(e)}function va(e,t,n){e.f=n?Fo(t,!0):t,e.f&&(e.f=e.f.replace(/:$/,""))}function ma(e,t,n){e.c=n?Fo(t,!0):t}function ya(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.h=t}else e.h=null}function Ov(e,t,n){t instanceof ls?(e.b=t,Nk(e.b,e.a)):(n||(t=Co(t,kk)),e.b=new ls(t,e.a))}function ae(e,t,n){e.b.set(t,n)}function ul(e){return ae(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^un()).toString(36)),e}function Ek(e){return e instanceof Fr?Sn(e):new Fr(e,void 0)}function Sk(e,t,n,r){var i=new Fr(null,void 0);return e&&va(i,e),t&&ma(i,t),n&&ya(i,n),r&&(i.g=r),i}function Fo(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Co(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,_k),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function _k(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var Lv=/[#\/\?@]/g,Ik=/[#\?:]/g,Tk=/[#\?]/g,kk=/[#\?@]/g,Ck=/#/g;function ls(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function lr(e){e.a||(e.a=new to,e.b=0,e.c&&wk(e.c,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}L=ls.prototype;L.add=function(e,t){lr(this),this.c=null,e=no(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this};function tw(e,t){lr(e),t=no(e,t),Mr(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,e=e.a,Mr(e.b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&ld(e)))}function nw(e,t){return lr(e),t=no(e,t),Mr(e.a.b,t)}L.forEach=function(e,t){lr(this),this.a.forEach(function(n,r){I0(n,function(i){e.call(t,i,r,this)},this)},this)};L.L=function(){lr(this);for(var e=this.a.K(),t=this.a.L(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n};L.K=function(e){lr(this);var t=[];if(typeof e=="string")nw(this,e)&&(t=Tv(t,this.a.get(no(this,e))));else{e=this.a.K();for(var n=0;n<e.length;n++)t=Tv(t,e[n])}return t};L.set=function(e,t){return lr(this),this.c=null,e=no(this,e),nw(this,e)&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this};L.get=function(e,t){return e?(e=this.K(e),0<e.length?String(e[0]):t):t};function rw(e,t,n){tw(e,t),0<n.length&&(e.c=null,e.a.set(no(e,t),Wh(n)),e.b+=n.length)}L.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.L(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var s=i;r[o]!==""&&(s+="="+encodeURIComponent(String(r[o]))),e.push(s)}}return this.c=e.join("&")};function no(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}function Nk(e,t){t&&!e.f&&(lr(e),e.c=null,e.a.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(tw(this,r),rw(this,i,n))},e)),e.f=t}var xk=function(){function e(t,n){this.b=t,this.a=n}return e}();function iw(e){this.g=e||bk,z.PerformanceNavigationTiming?(e=z.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(z.ia&&z.ia.ya&&z.ia.ya()&&z.ia.ya().Lb),this.f=e?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var bk=10;function ow(e){return e.b?!0:e.a?e.a.size>=e.f:!1}function sw(e){return e.b?1:e.a?e.a.size:0}function xf(e,t){return e.b?e.b==t:e.a?e.a.has(t):!1}function cd(e,t){e.a?e.a.add(t):e.b=t}function uw(e,t){e.b&&e.b==t?e.b=null:e.a&&e.a.has(t)&&e.a.delete(t)}iw.prototype.cancel=function(){var e,t;if(this.c=aw(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&this.a.size!==0){try{for(var n=S0(this.a.values()),r=n.next();!r.done;r=n.next()){var i=r.value;i.cancel()}}catch(o){e={error:o}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.a.clear()}};function aw(e){var t,n;if(e.b!=null)return e.c.concat(e.b.s);if(e.a!=null&&e.a.size!==0){var r=e.c;try{for(var i=S0(e.a.values()),o=i.next();!o.done;o=i.next()){var s=o.value;r=r.concat(s.s)}}catch(u){t={error:u}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}return Wh(e.c)}function fd(){}fd.prototype.stringify=function(e){return z.JSON.stringify(e,void 0)};fd.prototype.parse=function(e){return z.JSON.parse(e,void 0)};function Dk(){this.a=new fd}function Ak(e,t,n){var r=n||"";try{ad(e,function(i,o){var s=i;bs(i)&&(s=td(i)),t.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Pk(e,t){var n=new od;if(z.Image){var r=new Image;r.onload=hu(pu,n,r,"TestLoadImage: loaded",!0,t),r.onerror=hu(pu,n,r,"TestLoadImage: error",!1,t),r.onabort=hu(pu,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=hu(pu,n,r,"TestLoadImage: timeout",!1,t),z.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function pu(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch{}}var Rk=z.JSON.parse;function xe(e){Nt.call(this),this.headers=new to,this.H=e||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=Ok,this.D=this.F=!1}ot(xe,Nt);var Ok="",Lk=/^https?$/i,Mk=["POST","PUT"];L=xe.prototype;L.ba=function(e,t,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+e);t=t?t.toUpperCase():"GET",this.B=e,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.H?Rv(this.H):Rv(G0),this.a.onreadystatechange=Ke(this.za,this);try{this.A=!0,this.a.open(t,String(e),!0),this.A=!1}catch(o){Mv(this,o);return}e=n||"";var i=new to(this.headers);r&&ad(r,function(o,s){i.set(s,o)}),r=QT(i.L()),n=z.FormData&&e instanceof z.FormData,!(0<=_0(Mk,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(o,s){this.a.setRequestHeader(s,o)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{fw(this),0<this.o&&((this.D=Fk(this.a))?(this.a.timeout=this.o,this.a.ontimeout=Ke(this.xa,this)):this.m=id(this.xa,this.o,this)),this.l=!0,this.a.send(e),this.l=!1}catch(o){Mv(this,o)}};function Fk(e){return tr&&b0(9)&&typeof e.timeout=="number"&&e.ontimeout!==void 0}function $k(e){return e.toLowerCase()=="content-type"}L.xa=function(){typeof Kh<"u"&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,Me(this,"timeout"),this.abort(8))};function Mv(e,t){e.b=!1,e.a&&(e.g=!0,e.a.abort(),e.g=!1),e.f=t,e.h=5,lw(e),al(e)}function lw(e){e.u||(e.u=!0,Me(e,"complete"),Me(e,"error"))}L.abort=function(e){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=e||7,Me(this,"complete"),Me(this,"abort"),al(this))};L.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),al(this,!0)),xe.X.G.call(this)};L.za=function(){this.j||(this.A||this.l||this.g?cw(this):this.Ua())};L.Ua=function(){cw(this)};function cw(e){if(e.b&&typeof Kh<"u"&&(!e.s[1]||jn(e)!=4||e.W()!=2)){if(e.l&&jn(e)==4)id(e.za,0,e);else if(Me(e,"readystatechange"),jn(e)==4){e.b=!1;try{{var t=e.W();e:switch(t){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break e;default:n=!1}var r;if(!(r=n)){var i;if(i=t===0){var o=String(e.B).match(ew)[1]||null;if(!o&&z.self&&z.self.location){var s=z.self.location.protocol;o=s.substr(0,s.length-1)}i=!Lk.test(o?o.toLowerCase():"")}r=i}var u=r}if(u)Me(e,"complete"),Me(e,"success");else{e.h=6;try{var a=2<jn(e)?e.a.statusText:""}catch{a=""}e.f=a+" ["+e.W()+"]",lw(e)}}finally{al(e)}}}}function al(e,t){if(e.a){fw(e);var n=e.a,r=e.s[0]?fa:null;e.a=null,e.s=null,t||Me(e,"ready");try{n.onreadystatechange=r}catch{}}}function fw(e){e.a&&e.D&&(e.a.ontimeout=null),e.m&&(z.clearTimeout(e.m),e.m=null)}function jn(e){return e.a?e.a.readyState:0}L.W=function(){try{return 2<jn(this)?this.a.status:-1}catch{return-1}};L.$=function(){try{return this.a?this.a.responseText:""}catch{return""}};L.Pa=function(e){if(this.a){var t=this.a.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),Rk(t)}};L.ua=function(){return this.h};L.Qa=function(){return typeof this.f=="string"?this.f:String(this.f)};function Uk(e){var t="";return Hh(e,function(n,r){t+=r,t+=":",t+=n,t+=`\r
`}),t}function hd(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Uk(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):ae(e,t,n))}function Eo(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function hw(e){this.pa=0,this.g=[],this.c=new od,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=Eo("failFast",!1,e),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=Eo("baseRetryDelayMs",5e3,e),this.Ra=Eo("retryDelaySeedMs",1e4,e),this.Ma=Eo("forwardChannelMaxRetries",2,e),this.ma=Eo("forwardChannelRequestTimeoutMs",2e4,e),this.Na=e&&e.g||void 0,this.D=void 0,this.C=e&&e.supportsCrossDomainXhr||!1,this.J="",this.b=new iw(e&&e.concurrentRequestLimit),this.ka=new Dk,this.da=e&&e.fastHandshake||!1,this.Ia=e&&e.b||!1,e&&e.f&&(this.c.a=!1),e&&e.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&e&&e.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=e&&e.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}L=hw.prototype;L.ha=8;L.v=1;function dd(e){if(dw(e),e.v==3){var t=e.R++,n=Sn(e.B);ae(n,"SID",e.J),ae(n,"RID",t),ae(n,"TYPE","terminate"),Ls(e,n),t=new Rs(e,e.c,t,void 0),t.H=2,t.i=ul(Sn(n)),n=!1,z.navigator&&z.navigator.sendBeacon&&(n=z.navigator.sendBeacon(t.i.toString(),"")),!n&&z.Image&&(new Image().src=t.i,n=!0),n||(t.a=Sw(t.g,null),t.a.ba(t.i)),t.u=un(),Os(t)}ww(e)}function ll(e){e.a&&(vd(e),e.a.cancel(),e.a=null)}function dw(e){ll(e),e.j&&(z.clearTimeout(e.j),e.j=null),ga(e),e.b.cancel(),e.h&&(typeof e.h=="number"&&z.clearTimeout(e.h),e.h=null)}function hc(e,t){e.g.push(new xk(e.Oa++,t)),e.v==3&&cl(e)}function cl(e){ow(e.b)||e.h||(e.h=!0,F0(e.Ba,e),e.u=0)}function Vk(e,t){return sw(e.b)>=e.b.f-(e.h?1:0)?!1:e.h?(e.g=t.s.concat(e.g),!0):e.v==1||e.v==2||e.u>=(e.La?0:e.Ma)?!1:(e.h=As(Ke(e.Ba,e,t),gw(e,e.u)),e.u++,!0)}L.Ba=function(e){if(this.h)if(this.h=null,this.v==1){if(!e){this.R=Math.floor(1e5*Math.random()),e=this.R++;var t=new Rs(this,this.c,e,void 0),n=this.l;this.O&&(n?(n=T0(n),k0(n,this.O)):n=this.O),this.i===null&&(t.B=n);var r;if(this.da)e:{for(var i=r=0;i<this.g.length;i++){t:{var o=this.g[i];if("__data__"in o.a&&(o=o.a.__data__,typeof o=="string")){o=o.length;break t}o=void 0}if(o===void 0)break;if(r+=o,4096<r){r=i;break e}if(r===4096||i===this.g.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=pw(this,t,r),i=Sn(this.B),ae(i,"RID",e),ae(i,"CVER",22),this.A&&ae(i,"X-HTTP-Session-Id",this.A),Ls(this,i),this.i&&n&&hd(i,this.i,n),cd(this.b,t),this.Ia&&ae(i,"TYPE","init"),this.da?(ae(i,"$req",r),ae(i,"SID","null"),t.U=!0,Cf(t,i,null)):Cf(t,i,r),this.v=2}}else this.v==3&&(e?Fv(this,e):this.g.length==0||ow(this.b)||Fv(this))};function Fv(e,t){var n;t?n=t.f:n=e.R++;var r=Sn(e.B);ae(r,"SID",e.J),ae(r,"RID",n),ae(r,"AID",e.P),Ls(e,r),e.i&&e.l&&hd(r,e.i,e.l),n=new Rs(e,e.c,n,e.u+1),e.i===null&&(n.B=e.l),t&&(e.g=t.s.concat(e.g)),t=pw(e,n,1e3),n.setTimeout(Math.round(.5*e.ma)+Math.round(.5*e.ma*Math.random())),cd(e.b,n),Cf(n,r,t)}function Ls(e,t){e.f&&ad({},function(n,r){ae(t,r,n)})}function pw(e,t,n){n=Math.min(e.g.length,n);var r=e.f?Ke(e.f.Ja,e.f,e):null;e:for(var i=e.g,o=-1;;){var s=["count="+n];o==-1?0<n?(o=i[0].b,s.push("ofs="+o)):o=0:s.push("ofs="+o);for(var u=!0,a=0;a<n;a++){var l=i[a].b,c=i[a].a;if(l-=o,0>l)o=Math.max(0,i[a].b-100),u=!1;else try{Ak(c,s,"req"+l+"_")}catch{r&&r(c)}}if(u){r=s.join("&");break e}}return e=e.g.splice(0,n),t.s=e,r}function vw(e){e.a||e.j||(e.T=1,F0(e.Aa,e),e.o=0)}function pd(e){return e.a||e.j||3<=e.o?!1:(e.T++,e.j=As(Ke(e.Aa,e),gw(e,e.o)),e.o++,!0)}L.Aa=function(){if(this.j=null,mw(this),this.U&&!(this.F||this.a==null||0>=this.N)){var e=2*this.N;this.c.info("BP detection timer enabled: "+e),this.s=As(Ke(this.Ta,this),e)}};L.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,et(10),ll(this),mw(this))};function vd(e){e.s!=null&&(z.clearTimeout(e.s),e.s=null)}function mw(e){e.a=new Rs(e,e.c,"rpc",e.T),e.i===null&&(e.a.B=e.l),e.a.O=0;var t=Sn(e.la);ae(t,"RID","rpc"),ae(t,"SID",e.J),ae(t,"CI",e.H?"0":"1"),ae(t,"AID",e.P),Ls(e,t),ae(t,"TYPE","xmlhttp"),e.i&&e.l&&hd(t,e.i,e.l),e.D&&e.a.setTimeout(e.D);var n=e.a;e=e.ga,n.H=1,n.i=ul(Sn(t)),n.j=null,n.I=!0,X0(n,e)}L.Sa=function(){this.m!=null&&(this.m=null,ll(this),pd(this),et(19))};function ga(e){e.m!=null&&(z.clearTimeout(e.m),e.m=null)}function yw(e,t){var n=null;if(e.a==t){ga(e),vd(e),e.a=null;var r=2}else if(xf(e.b,t))n=t.s,uw(e.b,t),r=1;else return;if(e.I=t.N,e.v!=0){if(t.b)if(r==1){n=t.j?t.j.length:0,t=un()-t.u;var i=e.u;r=il(),Me(r,new q0(r)),cl(e)}else vw(e);else if(i=t.h,i==3||i==0&&0<e.I||!(r==1&&Vk(e,t)||r==2&&pd(e)))switch(n&&0<n.length&&(t=e.b,t.c=t.c.concat(n)),i){case 1:_r(e,5);break;case 4:_r(e,10);break;case 3:_r(e,6);break;default:_r(e,2)}}}function gw(e,t){var n=e.Ha+Math.floor(Math.random()*e.Ra);return e.f||(n*=2),n*t}function _r(e,t){if(e.c.info("Error code "+t),t==2){var n=null;e.f&&(n=null);var r=Ke(e.Ya,e);n||(n=new Fr("//www.google.com/images/cleardot.gif"),z.location&&z.location.protocol=="http"||va(n,"https"),ul(n)),Pk(n.toString(),r)}else et(2);e.v=0,e.f&&e.f.ra(t),ww(e),dw(e)}L.Ya=function(e){e?(this.c.info("Successfully pinged google.com"),et(2)):(this.c.info("Failed to ping google.com"),et(1))};function ww(e){e.v=0,e.I=-1,e.f&&((aw(e.b).length!=0||e.g.length!=0)&&(e.b.c.length=0,Wh(e.g),e.g.length=0),e.f.qa())}function Ew(e,t,n){var r=Ek(n);if(r.c!="")t&&ma(r,t+"."+r.c),ya(r,r.h);else{var i=z.location;r=Sk(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.V&&Hh(e.V,function(o,s){ae(r,s,o)}),t=e.A,n=e.na,t&&n&&ae(r,t,n),ae(r,"VER",e.ha),Ls(e,r),r}function Sw(e,t){if(t&&!e.C)throw Error("Can't create secondary domain capable XhrIo object.");return t=new xe(e.Na),t.F=e.C,t}function _w(){}L=_w.prototype;L.ta=function(){};L.sa=function(){};L.ra=function(){};L.qa=function(){};L.Ja=function(){};function wa(){if(tr&&!(10<=Number(D0)))throw Error("Environmental error: no available transport.")}wa.prototype.a=function(e,t){return new xt(e,t)};function xt(e,t){Nt.call(this),this.a=new hw(t),this.o=e,this.b=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.a.l=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.a&&(e?e["X-WebChannel-Client-Profile"]=t.a:e={"X-WebChannel-Client-Profile":t.a}),this.a.O=e,(e=t&&t.httpHeadersOverwriteParam)&&!ha(e)&&(this.a.i=e),this.m=t&&t.supportsCrossDomainXhr||!1,this.l=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!ha(t)&&(this.a.A=t,e=this.b,e!==null&&t in e&&(e=this.b,t in e&&delete e[t])),this.f=new ro(this)}ot(xt,Nt);xt.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var e=this.a,t=this.o,n=this.b||void 0;et(0),e.fa=t,e.V=n||{},e.H=e.S,e.B=Ew(e,null,e.fa),cl(e)};xt.prototype.close=function(){dd(this.a)};xt.prototype.h=function(e){if(typeof e=="string"){var t={};t.__data__=e,hc(this.a,t)}else this.l?(t={},t.__data__=td(e),hc(this.a,t)):hc(this.a,e)};xt.prototype.G=function(){this.a.f=null,delete this.f,dd(this.a),delete this.a,xt.X.G.call(this)};function Iw(e){sd.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.c=e)?(e=this.c,this.data=t!==null&&e in t?t[e]:void 0):this.data=t}else this.data=e}ot(Iw,sd);function Tw(){ud.call(this),this.status=1}ot(Tw,ud);function ro(e){this.a=e}ot(ro,_w);ro.prototype.ta=function(){Me(this.a,"a")};ro.prototype.sa=function(e){Me(this.a,new Iw(e))};ro.prototype.ra=function(e){Me(this.a,new Tw)};ro.prototype.qa=function(){Me(this.a,"b")};wa.prototype.createWebChannel=wa.prototype.a;xt.prototype.send=xt.prototype.h;xt.prototype.open=xt.prototype.g;xt.prototype.close=xt.prototype.close;ol.NO_ERROR=0;ol.TIMEOUT=8;ol.HTTP_ERROR=6;K0.COMPLETE="complete";H0.EventType=Ps;Ps.OPEN="a";Ps.CLOSE="b";Ps.ERROR="c";Ps.MESSAGE="d";Nt.prototype.listen=Nt.prototype.va;xe.prototype.listenOnce=xe.prototype.wa;xe.prototype.getLastError=xe.prototype.Qa;xe.prototype.getLastErrorCode=xe.prototype.ua;xe.prototype.getStatus=xe.prototype.W;xe.prototype.getResponseJson=xe.prototype.Pa;xe.prototype.getResponseText=xe.prototype.$;xe.prototype.send=xe.prototype.ba;var jk=function(){return new wa},zk=function(){return il()},dc=ol,Bk=K0,qk=Kr,$v={gb:0,jb:1,kb:2,Db:3,Ib:4,Fb:5,Gb:6,Eb:7,Cb:8,Hb:9,PROXY:10,NOPROXY:11,Ab:12,wb:13,xb:14,vb:15,yb:16,zb:17,bb:18,ab:19,cb:20},vu=H0,Kk=xe,Wk={};/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _t=function(){function e(t,n){var r=this;this.previousValue=t,n&&(n.sequenceNumberHandler=function(i){return r.t(i)},this.i=function(i){return n.writeSequenceNumber(i)})}return e.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},e.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},e}();_t.o=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var S={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},k=function(e){function t(n,r){var i=this;return(i=e.call(this,r)||this).code=n,i.message=r,i.name="FirebaseError",i.toString=function(){return i.name+": [code="+i.code+"]: "+i.message},i}return V(t,e),t}(Error),Wt=new g0("@firebase/firestore");function bf(){return Wt.logLevel}function b(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Wt.logLevel<=X.DEBUG){var r=t.map(md);Wt.debug.apply(Wt,ve(["Firestore (8.5.0): "+e],r))}}function Se(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Wt.logLevel<=X.ERROR){var r=t.map(md);Wt.error.apply(Wt,ve(["Firestore (8.5.0): "+e],r))}}function Df(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Wt.logLevel<=X.WARN){var r=t.map(md);Wt.warn.apply(Wt,ve(["Firestore (8.5.0): "+e],r))}}function md(e){if(typeof e=="string")return e;try{return t=e,JSON.stringify(t)}catch{return e}var t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M(e){e===void 0&&(e="Unexpected state");var t="FIRESTORE (8.5.0) INTERNAL ASSERTION FAILED: "+e;throw Se(t),new Error(t)}function j(e,t){e||M()}function P(e,t){return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hk(e){var t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kw=function(){function e(){}return e.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length,r="";r.length<20;)for(var i=Hk(40),o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=t.charAt(i[o]%t.length));return r},e}();function H(e,t){return e<t?-1:e>t?1:0}function Li(e,t,n){return e.length===t.length&&e.every(function(r,i){return n(r,t[i])})}function Cw(e){return e+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pt=function(){function e(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new k(S.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new k(S.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new k(S.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new k(S.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(t){return this.seconds===t.seconds?H(this.nanoseconds,t.nanoseconds):H(this.seconds,t.seconds)},e.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),W=function(){function e(t){this.timestamp=t}return e.fromTimestamp=function(t){return new e(t)},e.min=function(){return new e(new pt(0,0))},e.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},e.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uv(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Ms(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Nw(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xw=function(){function e(t,n,r){n===void 0?n=0:n>t.length&&M(),r===void 0?r=t.length-n:r>t.length-n&&M(),this.segments=t,this.offset=n,this.len=r}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return e.comparator(this,t)===0},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach(function(r){n.push(r)}):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)},e.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(t){return this.segments[this.offset+t]},e.prototype.isEmpty=function(){return this.length===0},e.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.forEach=function(t){for(var n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(t,n){for(var r=Math.min(t.length,n.length),i=0;i<r;i++){var o=t.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return t.length<n.length?-1:t.length>n.length?1:0},e}(),J=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return V(t,e),t.prototype.construct=function(n,r,i){return new t(n,r,i)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];for(var i=[],o=0,s=n;o<s.length;o++){var u=s[o];if(u.indexOf("//")>=0)throw new k(S.INVALID_ARGUMENT,"Invalid segment ("+u+"). Paths must not contain // in them.");i.push.apply(i,u.split("/").filter(function(a){return a.length>0}))}return new t(i)},t.emptyPath=function(){return new t([])},t}(xw),Gk=/^[_a-zA-Z][_a-zA-Z0-9]*$/,$t=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return V(t,e),t.prototype.construct=function(n,r,i){return new t(n,r,i)},t.isValidIdentifier=function(n){return Gk.test(n)},t.prototype.canonicalString=function(){return this.toArray().map(function(n){return n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(n)||(n="`"+n+"`"),n}).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return this.length===1&&this.get(0)==="__name__"},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(n){for(var r=[],i="",o=0,s=function(){if(i.length===0)throw new k(S.INVALID_ARGUMENT,"Invalid field path ("+n+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");r.push(i),i=""},u=!1;o<n.length;){var a=n[o];if(a==="\\"){if(o+1===n.length)throw new k(S.INVALID_ARGUMENT,"Path has trailing escape character: "+n);var l=n[o+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new k(S.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);i+=l,o+=2}else a==="`"?(u=!u,o++):a!=="."||u?(i+=a,o++):(s(),o++)}if(s(),u)throw new k(S.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new t(r)},t.emptyPath=function(){return new t([])},t}(xw),Mi=function(){function e(t){this.fields=t,t.sort($t.comparator)}return e.prototype.covers=function(t){for(var n=0,r=this.fields;n<r.length;n++)if(r[n].isPrefixOf(t))return!0;return!1},e.prototype.isEqual=function(t){return Li(this.fields,t.fields,function(n,r){return n.isEqual(r)})},e}(),vt=function(){function e(t){this.binaryString=t}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(n){for(var r="",i=0;i<n.length;++i)r+=String.fromCharCode(n[i]);return r}(t))},e.prototype.toBase64=function(){return t=this.binaryString,btoa(t);var t},e.prototype.toUint8Array=function(){return function(t){for(var n=new Uint8Array(t.length),r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}(this.binaryString)},e.prototype.approximateByteSize=function(){return 2*this.binaryString.length},e.prototype.compareTo=function(t){return H(this.binaryString,t.binaryString)},e.prototype.isEqual=function(t){return this.binaryString===t.binaryString},e}();vt.EMPTY_BYTE_STRING=new vt("");var Qk=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function nr(e){if(j(!!e),typeof e=="string"){var t=0,n=Qk.exec(e);if(j(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:we(e.seconds),nanos:we(e.nanos)}}function we(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Fi(e){return typeof e=="string"?vt.fromBase64String(e):vt.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yd(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function bw(e){var t=e.mapValue.fields.__previous_value__;return yd(t)?bw(t):t}function cs(e){var t=nr(e.mapValue.fields.__local_write_time__.timestampValue);return new pt(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wr(e){return e==null}function Ea(e){return e===0&&1/e==-1/0}function Dw(e){return typeof e=="number"&&Number.isInteger(e)&&!Ea(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var U=function(){function e(t){this.path=t}return e.fromPath=function(t){return new e(J.fromString(t))},e.fromName=function(t){return new e(J.fromString(t).popFirst(5))},e.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},e.prototype.isEqual=function(t){return t!==null&&J.comparator(this.path,t.path)===0},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(t,n){return J.comparator(t.path,n.path)},e.isDocumentKey=function(t){return t.length%2==0},e.fromSegments=function(t){return new e(new J(t.slice()))},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rr(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?yd(e)?4:10:M()}function on(e,t){var n=rr(e);if(n!==rr(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return cs(e).isEqual(cs(t));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;var o=nr(r.timestampValue),s=nr(i.timestampValue);return o.seconds===s.seconds&&o.nanos===s.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(r,i){return Fi(r.bytesValue).isEqual(Fi(i.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(r,i){return we(r.geoPointValue.latitude)===we(i.geoPointValue.latitude)&&we(r.geoPointValue.longitude)===we(i.geoPointValue.longitude)}(e,t);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return we(r.integerValue)===we(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){var o=we(r.doubleValue),s=we(i.doubleValue);return o===s?Ea(o)===Ea(s):isNaN(o)&&isNaN(s)}return!1}(e,t);case 9:return Li(e.arrayValue.values||[],t.arrayValue.values||[],on);case 10:return function(r,i){var o=r.mapValue.fields||{},s=i.mapValue.fields||{};if(Uv(o)!==Uv(s))return!1;for(var u in o)if(o.hasOwnProperty(u)&&(s[u]===void 0||!on(o[u],s[u])))return!1;return!0}(e,t);default:return M()}}function fs(e,t){return(e.values||[]).find(function(n){return on(n,t)})!==void 0}function $i(e,t){var n=rr(e),r=rr(t);if(n!==r)return H(n,r);switch(n){case 0:return 0;case 1:return H(e.booleanValue,t.booleanValue);case 2:return function(i,o){var s=we(i.integerValue||i.doubleValue),u=we(o.integerValue||o.doubleValue);return s<u?-1:s>u?1:s===u?0:isNaN(s)?isNaN(u)?0:-1:1}(e,t);case 3:return Vv(e.timestampValue,t.timestampValue);case 4:return Vv(cs(e),cs(t));case 5:return H(e.stringValue,t.stringValue);case 6:return function(i,o){var s=Fi(i),u=Fi(o);return s.compareTo(u)}(e.bytesValue,t.bytesValue);case 7:return function(i,o){for(var s=i.split("/"),u=o.split("/"),a=0;a<s.length&&a<u.length;a++){var l=H(s[a],u[a]);if(l!==0)return l}return H(s.length,u.length)}(e.referenceValue,t.referenceValue);case 8:return function(i,o){var s=H(we(i.latitude),we(o.latitude));return s!==0?s:H(we(i.longitude),we(o.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(i,o){for(var s=i.values||[],u=o.values||[],a=0;a<s.length&&a<u.length;++a){var l=$i(s[a],u[a]);if(l)return l}return H(s.length,u.length)}(e.arrayValue,t.arrayValue);case 10:return function(i,o){var s=i.fields||{},u=Object.keys(s),a=o.fields||{},l=Object.keys(a);u.sort(),l.sort();for(var c=0;c<u.length&&c<l.length;++c){var f=H(u[c],l[c]);if(f!==0)return f;var h=$i(s[u[c]],a[l[c]]);if(h!==0)return h}return H(u.length,l.length)}(e.mapValue,t.mapValue);default:throw M()}}function Vv(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return H(e,t);var n=nr(e),r=nr(t),i=H(n.seconds,r.seconds);return i!==0?i:H(n.nanos,r.nanos)}function gd(e){return Af(e)}function Af(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(r){var i=nr(r);return"time("+i.seconds+","+i.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Fi(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,U.fromName(n).toString()):"geoPointValue"in e?"geo("+(t=e.geoPointValue).latitude+","+t.longitude+")":"arrayValue"in e?function(r){for(var i="[",o=!0,s=0,u=r.values||[];s<u.length;s++)o?o=!1:i+=",",i+=Af(u[s]);return i+"]"}(e.arrayValue):"mapValue"in e?function(r){for(var i="{",o=!0,s=0,u=Object.keys(r.fields||{}).sort();s<u.length;s++){var a=u[s];o?o=!1:i+=",",i+=a+":"+Af(r.fields[a])}return i+"}"}(e.mapValue):M();var t,n}function Sa(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function Pf(e){return!!e&&"integerValue"in e}function wd(e){return!!e&&"arrayValue"in e}function jv(e){return!!e&&"nullValue"in e}function zv(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Rf(e){return!!e&&"mapValue"in e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Et=function(){function e(t){this.overlayMap=new Map,this.partialValue=t}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(t){return e.extractNestedValue(this.buildProto(),t)},e.prototype.toProto=function(){return this.field($t.emptyPath())},e.prototype.set=function(t,n){this.setOverlay(t,n)},e.prototype.setAll=function(t){var n=this;t.forEach(function(r,i){r?n.set(i,r):n.delete(i)})},e.prototype.delete=function(t){this.setOverlay(t,null)},e.prototype.isEqual=function(t){return on(this.buildProto(),t.buildProto())},e.prototype.setOverlay=function(t,n){for(var r=this.overlayMap,i=0;i<t.length-1;++i){var o=t.get(i),s=r.get(o);s instanceof Map?r=s:s&&rr(s)===10?(s=new Map(Object.entries(s.mapValue.fields||{})),r.set(o,s),r=s):(s=new Map,r.set(o,s),r=s)}r.set(t.lastSegment(),n)},e.prototype.applyOverlay=function(t,n){var r=this,i=!1,o=e.extractNestedValue(this.partialValue,t),s=Rf(o)?Object.assign({},o.mapValue.fields):{};return n.forEach(function(u,a){if(u instanceof Map){var l=r.applyOverlay(t.child(a),u);l!=null&&(s[a]=l,i=!0)}else u!==null?(s[a]=u,i=!0):s.hasOwnProperty(a)&&(delete s[a],i=!0)}),i?{mapValue:{fields:s}}:null},e.prototype.buildProto=function(){var t=this.applyOverlay($t.emptyPath(),this.overlayMap);return t!=null&&(this.partialValue=t,this.overlayMap.clear()),this.partialValue},e.extractNestedValue=function(t,n){if(n.isEmpty())return t;for(var r=t,i=0;i<n.length-1;++i)if(!r.mapValue.fields||!Rf(r=r.mapValue.fields[n.get(i)]))return null;return(r=(r.mapValue.fields||{})[n.lastSegment()])||null},e.prototype.clone=function(){return new e(this.buildProto())},e}();function Aw(e){var t=[];return Ms(e.fields||{},function(n,r){var i=new $t([n]);if(Rf(r)){var o=Aw(r.mapValue).fields;if(o.length===0)t.push(i);else for(var s=0,u=o;s<u.length;s++){var a=u[s];t.push(i.child(a))}}else t.push(i)}),new Mi(t)}var Ge=function(){function e(t,n,r,i,o){this.key=t,this.documentType=n,this.version=r,this.data=i,this.documentState=o}return e.newInvalidDocument=function(t){return new e(t,0,W.min(),Et.empty(),0)},e.newFoundDocument=function(t,n,r){return new e(t,1,n,r,0)},e.newNoDocument=function(t,n){return new e(t,2,n,Et.empty(),0)},e.newUnknownDocument=function(t,n){return new e(t,3,n,Et.empty(),2)},e.prototype.convertToFoundDocument=function(t,n){return this.version=t,this.documentType=1,this.data=n,this.documentState=0,this},e.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=Et.empty(),this.documentState=0,this},e.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=Et.empty(),this.documentState=2,this},e.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},e.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(e.prototype,"hasLocalMutations",{get:function(){return this.documentState===1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasCommittedMutations",{get:function(){return this.documentState===2},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isValidDocument=function(){return this.documentType!==0},e.prototype.isFoundDocument=function(){return this.documentType===1},e.prototype.isNoDocument=function(){return this.documentType===2},e.prototype.isUnknownDocument=function(){return this.documentType===3},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},e.prototype.clone=function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.toProto())+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},e}(),Yk=function(e,t,n,r,i,o,s){t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),o===void 0&&(o=null),s===void 0&&(s=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.h=null};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bv(e,t,n,r,i,o,s){return t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),o===void 0&&(o=null),s===void 0&&(s=null),new Yk(e,t,n,r,i,o,s)}function Fs(e){var t=P(e);if(t.h===null){var n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(function(r){return function(i){return i.field.canonicalString()+i.op.toString()+gd(i.value)}(r)}).join(","),n+="|ob:",n+=t.orderBy.map(function(r){return function(i){return i.field.canonicalString()+i.dir}(r)}).join(","),Wr(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=Ia(t.startAt)),t.endAt&&(n+="|ub:",n+=Ia(t.endAt)),t.h=n}return t.h}function fl(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!iC(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],o=t.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!on(i.value,o.value))return!1;var i,o;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Kv(e.startAt,t.startAt)&&Kv(e.endAt,t.endAt)}function _a(e){return U.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}var It=function(e){function t(n,r,i){var o=this;return(o=e.call(this)||this).field=n,o.op=r,o.value=i,o}return V(t,e),t.create=function(n,r,i){return n.isKeyField()?r==="in"||r==="not-in"?this.l(n,r,i):new Xk(n,r,i):r==="array-contains"?new eC(n,i):r==="in"?new tC(n,i):r==="not-in"?new nC(n,i):r==="array-contains-any"?new rC(n,i):new t(n,r,i)},t.l=function(n,r,i){return r==="in"?new Jk(n,i):new Zk(n,i)},t.prototype.matches=function(n){var r=n.data.field(this.field);return this.op==="!="?r!==null&&this.m($i(r,this.value)):r!==null&&rr(this.value)===rr(r)&&this.m($i(r,this.value))},t.prototype.m=function(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return n===0;case"!=":return n!==0;case">":return n>0;case">=":return n>=0;default:return M()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}(function(){}),Xk=function(e){function t(n,r,i){var o=this;return(o=e.call(this,n,r,i)||this).key=U.fromName(i.referenceValue),o}return V(t,e),t.prototype.matches=function(n){var r=U.comparator(n.key,this.key);return this.m(r)},t}(It),Jk=function(e){function t(n,r){var i=this;return(i=e.call(this,n,"in",r)||this).keys=Pw("in",r),i}return V(t,e),t.prototype.matches=function(n){return this.keys.some(function(r){return r.isEqual(n.key)})},t}(It),Zk=function(e){function t(n,r){var i=this;return(i=e.call(this,n,"not-in",r)||this).keys=Pw("not-in",r),i}return V(t,e),t.prototype.matches=function(n){return!this.keys.some(function(r){return r.isEqual(n.key)})},t}(It);function Pw(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(function(r){return U.fromName(r.referenceValue)})}var eC=function(e){function t(n,r){return e.call(this,n,"array-contains",r)||this}return V(t,e),t.prototype.matches=function(n){var r=n.data.field(this.field);return wd(r)&&fs(r.arrayValue,this.value)},t}(It),tC=function(e){function t(n,r){return e.call(this,n,"in",r)||this}return V(t,e),t.prototype.matches=function(n){var r=n.data.field(this.field);return r!==null&&fs(this.value.arrayValue,r)},t}(It),nC=function(e){function t(n,r){return e.call(this,n,"not-in",r)||this}return V(t,e),t.prototype.matches=function(n){if(fs(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var r=n.data.field(this.field);return r!==null&&!fs(this.value.arrayValue,r)},t}(It),rC=function(e){function t(n,r){return e.call(this,n,"array-contains-any",r)||this}return V(t,e),t.prototype.matches=function(n){var r=this,i=n.data.field(this.field);return!(!wd(i)||!i.arrayValue.values)&&i.arrayValue.values.some(function(o){return fs(r.value.arrayValue,o)})},t}(It),hs=function(e,t){this.position=e,this.before=t};function Ia(e){return(e.before?"b":"a")+":"+e.position.map(function(t){return gd(t)}).join(",")}var ki=function(e,t){t===void 0&&(t="asc"),this.field=e,this.dir=t};function iC(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function qv(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var o=t[i],s=e.position[i];if(r=o.field.isKeyField()?U.comparator(U.fromName(s.referenceValue),n.key):$i(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return e.before?r<=0:r<0}function Kv(e,t){if(e===null)return t===null;if(t===null||e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!on(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var In=function(e,t,n,r,i,o,s,u){t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),o===void 0&&(o="F"),s===void 0&&(s=null),u===void 0&&(u=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=u,this.p=null,this.T=null,this.startAt,this.endAt};function Rw(e,t,n,r,i,o,s,u){return new In(e,t,n,r,i,o,s,u)}function $s(e){return new In(e)}function Ru(e){return!Wr(e.limit)&&e.limitType==="F"}function Ta(e){return!Wr(e.limit)&&e.limitType==="L"}function Ed(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Sd(e){for(var t=0,n=e.filters;t<n.length;t++){var r=n[t];if(r.g())return r.field}return null}function _d(e){return e.collectionGroup!==null}function Ui(e){var t=P(e);if(t.p===null){t.p=[];var n=Sd(t),r=Ed(t);if(n!==null&&r===null)n.isKeyField()||t.p.push(new ki(n)),t.p.push(new ki($t.keyField(),"asc"));else{for(var i=!1,o=0,s=t.explicitOrderBy;o<s.length;o++){var u=s[o];t.p.push(u),u.field.isKeyField()&&(i=!0)}if(!i){var a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new ki($t.keyField(),a))}}}return t.p}function sn(e){var t=P(e);if(!t.T)if(t.limitType==="F")t.T=Bv(t.path,t.collectionGroup,Ui(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],r=0,i=Ui(t);r<i.length;r++){var o=i[r],s=o.dir==="desc"?"asc":"desc";n.push(new ki(o.field,s))}var u=t.endAt?new hs(t.endAt.position,!t.endAt.before):null,a=t.startAt?new hs(t.startAt.position,!t.startAt.before):null;t.T=Bv(t.path,t.collectionGroup,n,t.filters,t.limit,u,a)}return t.T}function Ow(e,t,n){return new In(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Us(e,t){return fl(sn(e),sn(t))&&e.limitType===t.limitType}function Lw(e){return Fs(sn(e))+"|lt:"+e.limitType}function Of(e){return"Query(target="+function(t){var n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=", filters: ["+t.filters.map(function(r){return(i=r).field.canonicalString()+" "+i.op+" "+gd(i.value);var i}).join(", ")+"]"),Wr(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=", orderBy: ["+t.orderBy.map(function(r){return function(i){return i.field.canonicalString()+" ("+i.dir+")"}(r)}).join(", ")+"]"),t.startAt&&(n+=", startAt: "+Ia(t.startAt)),t.endAt&&(n+=", endAt: "+Ia(t.endAt)),"Target("+n+")"}(sn(e))+"; limitType="+e.limitType+")"}function Vs(e,t){return t.isFoundDocument()&&function(n,r){var i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):U.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(e,t)&&function(n,r){for(var i=0,o=n.explicitOrderBy;i<o.length;i++){var s=o[i];if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1}return!0}(e,t)&&function(n,r){for(var i=0,o=n.filters;i<o.length;i++)if(!o[i].matches(r))return!1;return!0}(e,t)&&function(n,r){return!(n.startAt&&!qv(n.startAt,Ui(n),r))&&(!n.endAt||!qv(n.endAt,Ui(n),r))}(e,t)}function Mw(e){return function(t,n){for(var r=!1,i=0,o=Ui(e);i<o.length;i++){var s=o[i],u=oC(s,t,n);if(u!==0)return u;r=r||s.field.isKeyField()}return 0}}function oC(e,t,n){var r=e.field.isKeyField()?U.comparator(t.key,n.key):function(i,o,s){var u=o.data.field(i),a=s.data.field(i);return u!==null&&a!==null?$i(u,a):M()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return M()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fw(e,t){if(e.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ea(t)?"-0":t}}function $w(e){return{integerValue:""+e}}function Uw(e,t){return Dw(t)?$w(t):Fw(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hl=function(){this._=void 0};function sC(e,t,n){return e instanceof Vi?function(r,i){var o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,t):e instanceof $r?jw(e,t):e instanceof Ur?zw(e,t):function(r,i){var o=Vw(r,i),s=Wv(o)+Wv(r.A);return Pf(o)&&Pf(r.A)?$w(s):Fw(r.R,s)}(e,t)}function uC(e,t,n){return e instanceof $r?jw(e,t):e instanceof Ur?zw(e,t):n}function Vw(e,t){return e instanceof ji?Pf(n=t)||function(r){return!!r&&"doubleValue"in r}(n)?t:{integerValue:0}:null;var n}var Vi=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return V(t,e),t}(hl),$r=function(e){function t(n){var r=this;return(r=e.call(this)||this).elements=n,r}return V(t,e),t}(hl);function jw(e,t){for(var n=Bw(t),r=function(s){n.some(function(u){return on(u,s)})||n.push(s)},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Ur=function(e){function t(n){var r=this;return(r=e.call(this)||this).elements=n,r}return V(t,e),t}(hl);function zw(e,t){for(var n=Bw(t),r=function(s){n=n.filter(function(u){return!on(u,s)})},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var ji=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).R=n,i.A=r,i}return V(t,e),t}(hl);function Wv(e){return we(e.integerValue||e.doubleValue)}function Bw(e){return wd(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var js=function(e,t){this.field=e,this.transform=t},aC=function(e,t){this.version=e,this.transformResults=t},qe=function(){function e(t,n){this.updateTime=t,this.exists=n}return e.none=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return this.updateTime===void 0&&this.exists===void 0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},e}();function Ou(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}var dl=function(){};function lC(e,t,n){e instanceof zs?function(r,i,o){var s=r.value.clone(),u=Qv(r.fieldTransforms,i,o.transformResults);s.setAll(u),i.convertToFoundDocument(o.version,s).setHasCommittedMutations()}(e,t,n):e instanceof cr?function(r,i,o){if(Ou(r.precondition,i)){var s=Qv(r.fieldTransforms,i,o.transformResults),u=i.data;u.setAll(qw(r)),u.setAll(s),i.convertToFoundDocument(o.version,u).setHasCommittedMutations()}else i.convertToUnknownDocument(o.version)}(e,t,n):function(r,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,t,n)}function Lf(e,t,n){e instanceof zs?function(r,i,o){if(Ou(r.precondition,i)){var s=r.value.clone(),u=Yv(r.fieldTransforms,o,i);s.setAll(u),i.convertToFoundDocument(Gv(i),s).setHasLocalMutations()}}(e,t,n):e instanceof cr?function(r,i,o){if(Ou(r.precondition,i)){var s=Yv(r.fieldTransforms,o,i),u=i.data;u.setAll(qw(r)),u.setAll(s),i.convertToFoundDocument(Gv(i),u).setHasLocalMutations()}}(e,t,n):function(r,i){Ou(r.precondition,i)&&i.convertToNoDocument(W.min())}(e,t)}function cC(e,t){for(var n=null,r=0,i=e.fieldTransforms;r<i.length;r++){var o=i[r],s=t.data.field(o.field),u=Vw(o.transform,s||null);u!=null&&(n==null&&(n=Et.empty()),n.set(o.field,u))}return n||null}function Hv(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&Li(n,r,function(i,o){return function(s,u){return s.field.isEqual(u.field)&&function(a,l){return a instanceof $r&&l instanceof $r||a instanceof Ur&&l instanceof Ur?Li(a.elements,l.elements,on):a instanceof ji&&l instanceof ji?on(a.A,l.A):a instanceof Vi&&l instanceof Vi}(s.transform,u.transform)}(i,o)})}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function Gv(e){return e.isFoundDocument()?e.version:W.min()}var zs=function(e){function t(n,r,i,o){o===void 0&&(o=[]);var s=this;return(s=e.call(this)||this).key=n,s.value=r,s.precondition=i,s.fieldTransforms=o,s.type=0,s}return V(t,e),t}(dl),cr=function(e){function t(n,r,i,o,s){s===void 0&&(s=[]);var u=this;return(u=e.call(this)||this).key=n,u.data=r,u.fieldMask=i,u.precondition=o,u.fieldTransforms=s,u.type=1,u}return V(t,e),t}(dl);function qw(e){var t=new Map;return e.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}}),t}function Qv(e,t,n){var r=new Map;j(e.length===n.length);for(var i=0;i<n.length;i++){var o=e[i],s=o.transform,u=t.data.field(o.field);r.set(o.field,uC(s,u,n[i]))}return r}function Yv(e,t,n){for(var r=new Map,i=0,o=e;i<o.length;i++){var s=o[i],u=s.transform,a=n.data.field(s.field);r.set(s.field,sC(u,a,t))}return r}var ge,Q,Bs=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).key=n,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return V(t,e),t}(dl),Id=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).key=n,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return V(t,e),t}(dl),fC=function(e){this.count=e};function Kw(e){switch(e){case S.OK:return M();case S.CANCELLED:case S.UNKNOWN:case S.DEADLINE_EXCEEDED:case S.RESOURCE_EXHAUSTED:case S.INTERNAL:case S.UNAVAILABLE:case S.UNAUTHENTICATED:return!1;case S.INVALID_ARGUMENT:case S.NOT_FOUND:case S.ALREADY_EXISTS:case S.PERMISSION_DENIED:case S.FAILED_PRECONDITION:case S.ABORTED:case S.OUT_OF_RANGE:case S.UNIMPLEMENTED:case S.DATA_LOSS:return!0;default:return M()}}function Ww(e){if(e===void 0)return Se("GRPC error has no .code"),S.UNKNOWN;switch(e){case ge.OK:return S.OK;case ge.CANCELLED:return S.CANCELLED;case ge.UNKNOWN:return S.UNKNOWN;case ge.DEADLINE_EXCEEDED:return S.DEADLINE_EXCEEDED;case ge.RESOURCE_EXHAUSTED:return S.RESOURCE_EXHAUSTED;case ge.INTERNAL:return S.INTERNAL;case ge.UNAVAILABLE:return S.UNAVAILABLE;case ge.UNAUTHENTICATED:return S.UNAUTHENTICATED;case ge.INVALID_ARGUMENT:return S.INVALID_ARGUMENT;case ge.NOT_FOUND:return S.NOT_FOUND;case ge.ALREADY_EXISTS:return S.ALREADY_EXISTS;case ge.PERMISSION_DENIED:return S.PERMISSION_DENIED;case ge.FAILED_PRECONDITION:return S.FAILED_PRECONDITION;case ge.ABORTED:return S.ABORTED;case ge.OUT_OF_RANGE:return S.OUT_OF_RANGE;case ge.UNIMPLEMENTED:return S.UNIMPLEMENTED;case ge.DATA_LOSS:return S.DATA_LOSS;default:return M()}}(Q=ge||(ge={}))[Q.OK=0]="OK",Q[Q.CANCELLED=1]="CANCELLED",Q[Q.UNKNOWN=2]="UNKNOWN",Q[Q.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Q[Q.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Q[Q.NOT_FOUND=5]="NOT_FOUND",Q[Q.ALREADY_EXISTS=6]="ALREADY_EXISTS",Q[Q.PERMISSION_DENIED=7]="PERMISSION_DENIED",Q[Q.UNAUTHENTICATED=16]="UNAUTHENTICATED",Q[Q.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Q[Q.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Q[Q.ABORTED=10]="ABORTED",Q[Q.OUT_OF_RANGE=11]="OUT_OF_RANGE",Q[Q.UNIMPLEMENTED=12]="UNIMPLEMENTED",Q[Q.INTERNAL=13]="INTERNAL",Q[Q.UNAVAILABLE=14]="UNAVAILABLE",Q[Q.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qe=function(){function e(t,n){this.comparator=t,this.root=n||On.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,On.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,On.BLACK,null,null))},e.prototype.get=function(t){for(var n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null},e.prototype.indexOf=function(t){for(var n=0,r=this.root;!r.isEmpty();){var i=this.comparator(t,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},e.prototype.forEach=function(t){this.inorderTraversal(function(n,r){return t(n,r),!1})},e.prototype.toString=function(){var t=[];return this.inorderTraversal(function(n,r){return t.push(n+":"+r),!1}),"{"+t.join(", ")+"}"},e.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},e.prototype.getIterator=function(){return new mu(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(t){return new mu(this.root,t,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new mu(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(t){return new mu(this.root,t,this.comparator,!0)},e}(),mu=function(){function e(t,n,r,i){this.isReverse=i,this.nodeStack=[];for(var o=1;!t.isEmpty();)if(o=n?r(t.key,n):1,i&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return e.prototype.getNext=function(){var t=this.nodeStack.pop(),n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(this.nodeStack.length===0)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},e}(),On=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=r??e.RED,this.left=i??e.EMPTY,this.right=o??e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,i,o){return new e(t??this.key,n??this.value,r??this.color,i??this.left,o??this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},e.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(t,n,r){var i=this,o=r(t,i.key);return(i=o<0?i.copy(null,null,null,i.left.insert(t,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(t,n,r))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},e.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},e.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)},e.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw M();var t=this.left.check();if(t!==this.right.check())throw M();return t+(this.isRed()?0:1)},e}();On.EMPTY=null,On.RED=!0,On.BLACK=!1,On.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw M()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw M()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw M()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw M()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw M()},enumerable:!1,configurable:!0}),e.prototype.copy=function(t,n,r,i,o){return this},e.prototype.insert=function(t,n,r){return new On(t,n)},e.prototype.remove=function(t,n){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(t){return!1},e.prototype.reverseTraversal=function(t){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ne=function(){function e(t){this.comparator=t,this.data=new Qe(this.comparator)}return e.prototype.has=function(t){return this.data.get(t)!==null},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(t){return this.data.indexOf(t)},e.prototype.forEach=function(t){this.data.inorderTraversal(function(n,r){return t(n),!1})},e.prototype.forEachInRange=function(t,n){for(var r=this.data.getIteratorFrom(t[0]);r.hasNext();){var i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;n(i.key)}},e.prototype.forEachWhile=function(t,n){var r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return},e.prototype.firstAfterOrEqual=function(t){var n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null},e.prototype.getIterator=function(){return new Xv(this.data.getIterator())},e.prototype.getIteratorFrom=function(t){return new Xv(this.data.getIteratorFrom(t))},e.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},e.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(t){var n=this;return n.size<t.size&&(n=t,t=this),t.forEach(function(r){n=n.add(r)}),n},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0},e.prototype.toArray=function(){var t=[];return this.forEach(function(n){t.push(n)}),t},e.prototype.toString=function(){var t=[];return this.forEach(function(n){return t.push(n)}),"SortedSet("+t.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),Xv=function(){function e(t){this.iter=t}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),hC=new Qe(U.comparator);function Ht(){return hC}var dC=new Qe(U.comparator);function Mf(){return dC}var pC=new Qe(U.comparator);function vC(){return pC}var mC=new Ne(U.comparator);function re(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=mC,r=0,i=e;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var yC=new Ne(H);function pl(){return yC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Td=function(){function e(t,n,r,i,o){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var r=new Map;return r.set(t,kd.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(W.min(),r,pl(),Ht(),re())},e}(),kd=function(){function e(t,n,r,i,o){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(vt.EMPTY_BYTE_STRING,n,re(),re(),re())},e}(),Lu=function(e,t,n,r){this.v=e,this.removedTargetIds=t,this.key=n,this.P=r},Hw=function(e,t){this.targetId=e,this.V=t},Gw=function(e,t,n,r){n===void 0&&(n=vt.EMPTY_BYTE_STRING),r===void 0&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},Jv=function(){function e(){this.S=0,this.D=em(),this.C=vt.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"k",{get:function(){return this.S!==0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"O",{get:function(){return this.F},enumerable:!1,configurable:!0}),e.prototype.$=function(t){t.approximateByteSize()>0&&(this.F=!0,this.C=t)},e.prototype.M=function(){var t=re(),n=re(),r=re();return this.D.forEach(function(i,o){switch(o){case 0:t=t.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:M()}}),new kd(this.C,this.N,t,n,r)},e.prototype.L=function(){this.F=!1,this.D=em()},e.prototype.B=function(t,n){this.F=!0,this.D=this.D.insert(t,n)},e.prototype.q=function(t){this.F=!0,this.D=this.D.remove(t)},e.prototype.U=function(){this.S+=1},e.prototype.K=function(){this.S-=1},e.prototype.j=function(){this.F=!0,this.N=!0},e}(),gC=function(){function e(t){this.W=t,this.G=new Map,this.H=Ht(),this.J=Zv(),this.Y=new Ne(H)}return e.prototype.X=function(t){for(var n=0,r=t.v;n<r.length;n++){var i=r[n];t.P&&t.P.isFoundDocument()?this.Z(i,t.P):this.tt(i,t.key,t.P)}for(var o=0,s=t.removedTargetIds;o<s.length;o++)i=s[o],this.tt(i,t.key,t.P)},e.prototype.et=function(t){var n=this;this.forEachTarget(t,function(r){var i=n.nt(r);switch(t.state){case 0:n.st(r)&&i.$(t.resumeToken);break;case 1:i.K(),i.k||i.L(),i.$(t.resumeToken);break;case 2:i.K(),i.k||n.removeTarget(r);break;case 3:n.st(r)&&(i.j(),i.$(t.resumeToken));break;case 4:n.st(r)&&(n.it(r),i.$(t.resumeToken));break;default:M()}})},e.prototype.forEachTarget=function(t,n){var r=this;t.targetIds.length>0?t.targetIds.forEach(n):this.G.forEach(function(i,o){r.st(o)&&n(o)})},e.prototype.rt=function(t){var n=t.targetId,r=t.V.count,i=this.ot(n);if(i){var o=i.target;if(_a(o))if(r===0){var s=new U(o.path);this.tt(n,s,Ge.newNoDocument(s,W.min()))}else j(r===1);else this.ct(n)!==r&&(this.it(n),this.Y=this.Y.add(n))}},e.prototype.ut=function(t){var n=this,r=new Map;this.G.forEach(function(s,u){var a=n.ot(u);if(a){if(s.current&&_a(a.target)){var l=new U(a.target.path);n.H.get(l)!==null||n.at(u,l)||n.tt(u,l,Ge.newNoDocument(l,t))}s.O&&(r.set(u,s.M()),s.L())}});var i=re();this.J.forEach(function(s,u){var a=!0;u.forEachWhile(function(l){var c=n.ot(l);return!c||c.purpose===2||(a=!1,!1)}),a&&(i=i.add(s))});var o=new Td(t,r,this.Y,this.H,i);return this.H=Ht(),this.J=Zv(),this.Y=new Ne(H),o},e.prototype.Z=function(t,n){if(this.st(t)){var r=this.at(t,n.key)?2:0;this.nt(t).B(n.key,r),this.H=this.H.insert(n.key,n),this.J=this.J.insert(n.key,this.ht(n.key).add(t))}},e.prototype.tt=function(t,n,r){if(this.st(t)){var i=this.nt(t);this.at(t,n)?i.B(n,1):i.q(n),this.J=this.J.insert(n,this.ht(n).delete(t)),r&&(this.H=this.H.insert(n,r))}},e.prototype.removeTarget=function(t){this.G.delete(t)},e.prototype.ct=function(t){var n=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size},e.prototype.U=function(t){this.nt(t).U()},e.prototype.nt=function(t){var n=this.G.get(t);return n||(n=new Jv,this.G.set(t,n)),n},e.prototype.ht=function(t){var n=this.J.get(t);return n||(n=new Ne(H),this.J=this.J.insert(t,n)),n},e.prototype.st=function(t){var n=this.ot(t)!==null;return n||b("WatchChangeAggregator","Detected inactive target",t),n},e.prototype.ot=function(t){var n=this.G.get(t);return n&&n.k?null:this.W.lt(t)},e.prototype.it=function(t){var n=this;this.G.set(t,new Jv),this.W.getRemoteKeysForTarget(t).forEach(function(r){n.tt(t,r,null)})},e.prototype.at=function(t,n){return this.W.getRemoteKeysForTarget(t).has(n)},e}();function Zv(){return new Qe(U.comparator)}function em(){return new Qe(U.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wC={asc:"ASCENDING",desc:"DESCENDING"},EC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},SC=function(e,t){this.databaseId=e,this.I=t};function ds(e,t){return e.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function Qw(e,t){return e.I?t.toBase64():t.toUint8Array()}function _C(e,t){return ds(e,t.toTimestamp())}function tt(e){return j(!!e),W.fromTimestamp(function(t){var n=nr(t);return new pt(n.seconds,n.nanos)}(e))}function Cd(e,t){return function(n){return new J(["projects",n.projectId,"databases",n.database])}(e).child("documents").child(t).canonicalString()}function Yw(e){var t=J.fromString(e);return j(r1(t)),t}function ps(e,t){return Cd(e.databaseId,t.path)}function pn(e,t){var n=Yw(t);if(n.get(1)!==e.databaseId.projectId)throw new k(S.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new k(S.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new U(Jw(n))}function Ff(e,t){return Cd(e.databaseId,t)}function Xw(e){var t=Yw(e);return t.length===4?J.emptyPath():Jw(t)}function vs(e){return new J(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Jw(e){return j(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function tm(e,t,n){return{name:ps(e,t),fields:n.toProto().mapValue.fields}}function IC(e,t,n){var r=pn(e,t.name),i=tt(t.updateTime),o=new Et({mapValue:{fields:t.fields}}),s=Ge.newFoundDocument(r,i,o);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function ka(e,t){var n;if(t instanceof zs)n={update:tm(e,t.key,t.value)};else if(t instanceof Bs)n={delete:ps(e,t.key)};else if(t instanceof cr)n={update:tm(e,t.key,t.data),updateMask:xC(t.fieldMask)};else{if(!(t instanceof Id))return M();n={verify:ps(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(function(r){return function(i,o){var s=o.transform;if(s instanceof Vi)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof $r)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof Ur)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof ji)return{fieldPath:o.field.canonicalString(),increment:s.A};throw M()}(0,r)})),t.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:_C(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:M()}(e,t.precondition)),n}function nm(e,t){var n=t.currentDocument?function(l){return l.updateTime!==void 0?qe.updateTime(tt(l.updateTime)):l.exists!==void 0?qe.exists(l.exists):qe.none()}(t.currentDocument):qe.none(),r=t.updateTransforms?t.updateTransforms.map(function(l){return function(c,f){var h=null;if("setToServerValue"in f)j(f.setToServerValue==="REQUEST_TIME"),h=new Vi;else if("appendMissingElements"in f){var p=f.appendMissingElements.values||[];h=new $r(p)}else if("removeAllFromArray"in f){var m=f.removeAllFromArray.values||[];h=new Ur(m)}else"increment"in f?h=new ji(c,f.increment):M();var g=$t.fromServerFormat(f.fieldPath);return new js(g,h)}(e,l)}):[];if(t.update){t.update.name;var i=pn(e,t.update.name),o=new Et({mapValue:{fields:t.update.fields}});if(t.updateMask){var s=function(l){var c=l.fieldPaths||[];return new Mi(c.map(function(f){return $t.fromServerFormat(f)}))}(t.updateMask);return new cr(i,o,s,n,r)}return new zs(i,o,n,r)}if(t.delete){var u=pn(e,t.delete);return new Bs(u,n)}if(t.verify){var a=pn(e,t.verify);return new Id(a,n)}return M()}function Zw(e,t){return{documents:[Ff(e,t.path)]}}function e1(e,t){var n={structuredQuery:{}},r=t.path;t.collectionGroup!==null?(n.parent=Ff(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Ff(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(u){if(u.length!==0){var a=u.map(function(l){return function(c){if(c.op==="=="){if(zv(c.value))return{unaryFilter:{field:Zr(c.field),op:"IS_NAN"}};if(jv(c.value))return{unaryFilter:{field:Zr(c.field),op:"IS_NULL"}}}else if(c.op==="!="){if(zv(c.value))return{unaryFilter:{field:Zr(c.field),op:"IS_NOT_NAN"}};if(jv(c.value))return{unaryFilter:{field:Zr(c.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Zr(c.field),op:kC(c.op),value:c.value}}}(l)});return a.length===1?a[0]:{compositeFilter:{op:"AND",filters:a}}}}(t.filters);i&&(n.structuredQuery.where=i);var o=function(u){if(u.length!==0)return u.map(function(a){return function(l){return{field:Zr(l.field),direction:TC(l.dir)}}(a)})}(t.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(u,a){return u.I||Wr(a)?a:{value:a}}(e,t.limit);return s!==null&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt=rm(t.startAt)),t.endAt&&(n.structuredQuery.endAt=rm(t.endAt)),n}function t1(e){var t=Xw(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){j(r===1);var o=n.from[0];o.allDescendants?i=o.collectionId:t=t.child(o.collectionId)}var s=[];n.where&&(s=n1(n.where));var u=[];n.orderBy&&(u=n.orderBy.map(function(f){return function(h){return new ki(yi(h.field),function(p){switch(p){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(h.direction))}(f)}));var a=null;n.limit&&(a=function(f){var h;return Wr(h=typeof f=="object"?f.value:f)?null:h}(n.limit));var l=null;n.startAt&&(l=im(n.startAt));var c=null;return n.endAt&&(c=im(n.endAt)),Rw(t,i,u,s,a,"F",l,c)}function n1(e){return e?e.unaryFilter!==void 0?[NC(e)]:e.fieldFilter!==void 0?[CC(e)]:e.compositeFilter!==void 0?e.compositeFilter.filters.map(function(t){return n1(t)}).reduce(function(t,n){return t.concat(n)}):M():[]}function rm(e){return{before:e.before,values:e.position}}function im(e){var t=!!e.before,n=e.values||[];return new hs(n,t)}function TC(e){return wC[e]}function kC(e){return EC[e]}function Zr(e){return{fieldPath:e.canonicalString()}}function yi(e){return $t.fromServerFormat(e.fieldPath)}function CC(e){return It.create(yi(e.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return M()}}(e.fieldFilter.op),e.fieldFilter.value)}function NC(e){switch(e.unaryFilter.op){case"IS_NAN":var t=yi(e.unaryFilter.field);return It.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=yi(e.unaryFilter.field);return It.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=yi(e.unaryFilter.field);return It.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=yi(e.unaryFilter.field);return It.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return M()}}function xC(e){var t=[];return e.fields.forEach(function(n){return t.push(n.canonicalString())}),{fieldPaths:t}}function r1(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gt(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=om(t)),t=bC(e.get(n),t);return om(t)}function bC(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var o=e.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function om(e){return e+""}function hn(e){var t=e.length;if(j(t>=2),t===2)return j(e.charAt(0)===""&&e.charAt(1)===""),J.emptyPath();for(var n=t-2,r=[],i="",o=0;o<t;){var s=e.indexOf("",o);switch((s<0||s>n)&&M(),e.charAt(s+1)){case"":var u=e.substring(o,s),a=void 0;i.length===0?a=u:(a=i+=u,i=""),r.push(a);break;case"":i+=e.substring(o,s),i+="\0";break;case"":i+=e.substring(o,s+1);break;default:M()}o=s+2}return new J(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var DC=function(e,t){this.seconds=e,this.nanoseconds=t},gt=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};gt.store="owner",gt.key="owner";var Xn=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};Xn.store="mutationQueues",Xn.keyPath="userId";var oe=function(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};oe.store="mutations",oe.keyPath="batchId",oe.userMutationsIndex="userMutationsIndex",oe.userMutationsKeyPath=["userId","batchId"];var ze=function(){function e(){}return e.prefixForUser=function(t){return[t]},e.prefixForPath=function(t,n){return[t,Gt(n)]},e.key=function(t,n,r){return[t,Gt(n),r]},e}();ze.store="documentMutations",ze.PLACEHOLDER=new ze;var AC=function(e,t){this.path=e,this.readTime=t},PC=function(e,t){this.path=e,this.version=t},pe=function(e,t,n,r,i,o){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};pe.store="remoteDocuments",pe.readTimeIndex="readTimeIndex",pe.readTimeIndexPath="readTime",pe.collectionReadTimeIndex="collectionReadTimeIndex",pe.collectionReadTimeIndexPath=["parentPath","readTime"];var en=function(e){this.byteSize=e};en.store="remoteDocumentGlobal",en.key="remoteDocumentGlobalKey";var ct=function(e,t,n,r,i,o,s){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};ct.store="targets",ct.keyPath="targetId",ct.queryTargetsIndexName="queryTargetsIndex",ct.queryTargetsKeyPath=["canonicalId","targetId"];var Oe=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};Oe.store="targetDocuments",Oe.keyPath=["targetId","path"],Oe.documentTargetsIndex="documentTargetsIndex",Oe.documentTargetsKeyPath=["path","targetId"];var wt=function(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r};wt.key="targetGlobalKey",wt.store="targetGlobal";var Nr=function(e,t){this.collectionId=e,this.parent=t};Nr.store="collectionParents",Nr.keyPath=["collectionId","parent"];var vn=function(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r};vn.store="clientMetadata",vn.keyPath="clientId";var zi=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};zi.store="bundles",zi.keyPath="bundleId";var Bi=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};Bi.store="namedQueries",Bi.keyPath="name";var RC=ve(ve([],ve(ve([],ve(ve([],ve(ve([],[Xn.store,oe.store,ze.store,pe.store,ct.store,gt.store,wt.store,Oe.store]),[vn.store])),[en.store])),[Nr.store])),[zi.store,Bi.store]),i1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",o1=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},e}(),bt=function(){var e=this;this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})},C=function(){function e(t){var n=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(r){n.isDone=!0,n.result=r,n.nextCallback&&n.nextCallback(r)},function(r){n.isDone=!0,n.error=r,n.catchCallback&&n.catchCallback(r)})}return e.prototype.catch=function(t){return this.next(void 0,t)},e.prototype.next=function(t,n){var r=this;return this.callbackAttached&&M(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e(function(i,o){r.nextCallback=function(s){r.wrapSuccess(t,s).next(i,o)},r.catchCallback=function(s){r.wrapFailure(n,s).next(i,o)}})},e.prototype.toPromise=function(){var t=this;return new Promise(function(n,r){t.next(n,r)})},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(r){return e.reject(r)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.reject(n)},e.resolve=function(t){return new e(function(n,r){n(t)})},e.reject=function(t){return new e(function(n,r){r(t)})},e.waitFor=function(t){return new e(function(n,r){var i=0,o=0,s=!1;t.forEach(function(u){++i,u.next(function(){++o,s&&o===i&&n()},function(a){return r(a)})}),s=!0,o===i&&n()})},e.or=function(t){for(var n=e.resolve(!1),r=function(s){n=n.next(function(u){return u?e.resolve(u):s()})},i=0,o=t;i<o.length;i++)r(o[i]);return n},e.forEach=function(t,n){var r=this,i=[];return t.forEach(function(o,s){i.push(n.call(r,o,s))}),this.waitFor(i)},e}(),s1=function(){function e(t,n){var r=this;this.action=t,this.transaction=n,this.aborted=!1,this.ft=new bt,this.transaction.oncomplete=function(){r.ft.resolve()},this.transaction.onabort=function(){n.error?r.ft.reject(new $o(t,n.error)):r.ft.resolve()},this.transaction.onerror=function(i){var o=Nd(i.target.error);r.ft.reject(new $o(t,o))}}return e.open=function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(o){throw new $o(n,o)}},Object.defineProperty(e.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(b("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(t){var n=this.transaction.objectStore(t);return new LC(n)},e}(),qi=function(){function e(t,n,r){this.name=t,this.version=n,this.wt=r,e._t(Lr())===12.2&&Se("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(t){return b("SimpleDb","Removing database:",t),gr(window.indexedDB.deleteDatabase(t)).toPromise()},e.yt=function(){if(typeof indexedDB>"u")return!1;if(e.gt())return!0;var t=Lr(),n=e._t(t),r=0<n&&n<10,i=e.Et(t),o=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||o)},e.gt=function(){var t;return typeof process<"u"&&((t=Wk)===null||t===void 0?void 0:t.Tt)==="YES"},e.It=function(t,n){return t.store(n)},e._t=function(t){var n=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)},e.Et=function(t){var n=t.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)},e.prototype.At=function(t){return T(this,void 0,void 0,function(){var n,r=this;return I(this,function(i){switch(i.label){case 0:return this.db?[3,2]:(b("SimpleDb","Opening database:",this.name),n=this,[4,new Promise(function(o,s){var u=indexedDB.open(r.name,r.version);u.onsuccess=function(a){var l=a.target.result;o(l)},u.onblocked=function(){s(new $o(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},u.onerror=function(a){var l=a.target.error;l.name==="VersionError"?s(new k(S.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):s(new $o(t,l))},u.onupgradeneeded=function(a){b("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',a.oldVersion);var l=a.target.result;r.wt.Rt(l,u.transaction,a.oldVersion,r.version).next(function(){b("SimpleDb","Database upgrade to version "+r.version+" complete")})}})]);case 1:n.db=i.sent(),i.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(o){return r.bt(o)}),this.db)]}})})},e.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(n){return t(n)})},e.prototype.runTransaction=function(t,n,r,i){return T(this,void 0,void 0,function(){var o,s,u,a,l;return I(this,function(c){switch(c.label){case 0:o=n==="readonly",s=0,u=function(){var f,h,p,m,g;return I(this,function(w){switch(w.label){case 0:++s,w.label=1;case 1:return w.trys.push([1,4,,5]),[4,a.At(t)];case 2:return a.db=w.sent(),f=s1.open(a.db,t,o?"readonly":"readwrite",r),h=i(f).catch(function(v){return f.abort(v),C.reject(v)}).toPromise(),p={},h.catch(function(){}),[4,f.dt];case 3:return[2,(p.value=(w.sent(),h),p)];case 4:return m=w.sent(),g=m.name!=="FirebaseError"&&s<3,b("SimpleDb","Transaction failed with error:",m.message,"Retrying:",g),a.close(),g?[3,5]:[2,{value:Promise.reject(m)}];case 5:return[2]}})},a=this,c.label=1;case 1:return[5,u()];case 2:if(typeof(l=c.sent())=="object")return[2,l.value];c.label=3;case 3:return[3,1];case 4:return[2]}})})},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),OC=function(){function e(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Vt=!0},e.prototype.Ct=function(t){this.St=t},e.prototype.delete=function(){return gr(this.Pt.delete())},e}(),$o=function(e){function t(n,r){var i=this;return(i=e.call(this,S.UNAVAILABLE,"IndexedDB transaction '"+n+"' failed: "+r)||this).name="IndexedDbTransactionError",i}return V(t,e),t}(k);function Hr(e){return e.name==="IndexedDbTransactionError"}var LC=function(){function e(t){this.store=t}return e.prototype.put=function(t,n){var r;return n!==void 0?(b("SimpleDb","PUT",this.store.name,t,n),r=this.store.put(n,t)):(b("SimpleDb","PUT",this.store.name,"<auto-key>",t),r=this.store.put(t)),gr(r)},e.prototype.add=function(t){return b("SimpleDb","ADD",this.store.name,t,t),gr(this.store.add(t))},e.prototype.get=function(t){var n=this;return gr(this.store.get(t)).next(function(r){return r===void 0&&(r=null),b("SimpleDb","GET",n.store.name,t,r),r})},e.prototype.delete=function(t){return b("SimpleDb","DELETE",this.store.name,t),gr(this.store.delete(t))},e.prototype.count=function(){return b("SimpleDb","COUNT",this.store.name),gr(this.store.count())},e.prototype.Nt=function(t,n){var r=this.cursor(this.options(t,n)),i=[];return this.xt(r,function(o,s){i.push(s)}).next(function(){return i})},e.prototype.Ft=function(t,n){b("SimpleDb","DELETE ALL",this.store.name);var r=this.options(t,n);r.kt=!1;var i=this.cursor(r);return this.xt(i,function(o,s,u){return u.delete()})},e.prototype.Ot=function(t,n){var r;n?r=t:(r={},n=t);var i=this.cursor(r);return this.xt(i,n)},e.prototype.$t=function(t){var n=this.cursor({});return new C(function(r,i){n.onerror=function(o){var s=Nd(o.target.error);i(s)},n.onsuccess=function(o){var s=o.target.result;s?t(s.primaryKey,s.value).next(function(u){u?s.continue():r()}):r()}})},e.prototype.xt=function(t,n){var r=[];return new C(function(i,o){t.onerror=function(s){o(s.target.error)},t.onsuccess=function(s){var u=s.target.result;if(u){var a=new OC(u),l=n(u.primaryKey,u.value,a);if(l instanceof C){var c=l.catch(function(f){return a.done(),C.reject(f)});r.push(c)}a.isDone?i():a.Dt===null?u.continue():u.continue(a.Dt)}else i()}}).next(function(){return C.waitFor(r)})},e.prototype.options=function(t,n){var r;return t!==void 0&&(typeof t=="string"?r=t:n=t),{index:r,range:n}},e.prototype.cursor=function(t){var n="next";if(t.reverse&&(n="prev"),t.index){var r=this.store.index(t.index);return t.kt?r.openKeyCursor(t.range,n):r.openCursor(t.range,n)}return this.store.openCursor(t.range,n)},e}();function gr(e){return new C(function(t,n){e.onsuccess=function(r){var i=r.target.result;t(i)},e.onerror=function(r){var i=Nd(r.target.error);n(i)}})}var sm=!1;function Nd(e){var t=qi._t(Lr());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new k("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return sm||(sm=!0,setTimeout(function(){throw r},0)),r}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var um=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).Mt=n,i.currentSequenceNumber=r,i}return V(t,e),t}(o1);function mt(e,t){var n=P(e);return qi.It(n.Mt,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xd=function(){function e(t,n,r,i){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return e.prototype.applyToRemoteDocument=function(t,n){for(var r=n.mutationResults,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t.key)&&lC(o,t,r[i])}},e.prototype.applyToLocalView=function(t){for(var n=0,r=this.baseMutations;n<r.length;n++)(s=r[n]).key.isEqual(t.key)&&Lf(s,t,this.localWriteTime);for(var i=0,o=this.mutations;i<o.length;i++){var s;(s=o[i]).key.isEqual(t.key)&&Lf(s,t,this.localWriteTime)}},e.prototype.applyToLocalDocumentSet=function(t){var n=this;this.mutations.forEach(function(r){var i=t.get(r.key),o=i;n.applyToLocalView(o),i.isValidDocument()||o.convertToNoDocument(W.min())})},e.prototype.keys=function(){return this.mutations.reduce(function(t,n){return t.add(n.key)},re())},e.prototype.isEqual=function(t){return this.batchId===t.batchId&&Li(this.mutations,t.mutations,function(n,r){return Hv(n,r)})&&Li(this.baseMutations,t.baseMutations,function(n,r){return Hv(n,r)})},e}(),MC=function(){function e(t,n,r,i){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return e.from=function(t,n,r){j(t.mutations.length===r.length);for(var i=vC(),o=t.mutations,s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new e(t,n,r,i)},e}(),vl=function(){function e(t,n,r,i,o,s,u){o===void 0&&(o=W.min()),s===void 0&&(s=W.min()),u===void 0&&(u=vt.EMPTY_BYTE_STRING),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=u}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e}(),u1=function(e){this.Lt=e};function $f(e,t){if(t.document)return IC(e.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=U.fromSegments(t.noDocument.path),r=Wi(t.noDocument.readTime),i=Ge.newNoDocument(n,r);return t.hasCommittedMutations?i.setHasCommittedMutations():i}if(t.unknownDocument){var o=U.fromSegments(t.unknownDocument.path);return r=Wi(t.unknownDocument.version),Ge.newUnknownDocument(o,r)}return M()}function am(e,t,n){var r=bd(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){var o=function(f,h){return{name:ps(f,h.key),fields:h.data.toProto().mapValue.fields,updateTime:ds(f,h.version.toTimestamp())}}(e.Lt,t),s=t.hasCommittedMutations;return new pe(null,null,o,s,r,i)}if(t.isNoDocument()){var u=t.key.path.toArray(),a=Ki(t.version);return s=t.hasCommittedMutations,new pe(null,new AC(u,a),null,s,r,i)}if(t.isUnknownDocument()){var l=t.key.path.toArray(),c=Ki(t.version);return new pe(new PC(l,c),null,null,!0,r,i)}return M()}function bd(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function a1(e){var t=new pt(e[0],e[1]);return W.fromTimestamp(t)}function Ki(e){var t=e.toTimestamp();return new DC(t.seconds,t.nanoseconds)}function Wi(e){var t=new pt(e.seconds,e.nanoseconds);return W.fromTimestamp(t)}function ni(e,t){for(var n=(t.baseMutations||[]).map(function(a){return nm(e.Lt,a)}),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&t.mutations[r+1].transform!==void 0){var o=t.mutations[r+1];i.updateTransforms=o.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var s=t.mutations.map(function(a){return nm(e.Lt,a)}),u=pt.fromMillis(t.localWriteTimeMs);return new xd(t.batchId,u,n,s)}function No(e){var t,n,r=Wi(e.readTime),i=e.lastLimboFreeSnapshotVersion!==void 0?Wi(e.lastLimboFreeSnapshotVersion):W.min();return e.query.documents!==void 0?(j((n=e.query).documents.length===1),t=sn($s(Xw(n.documents[0])))):t=function(o){return sn(t1(o))}(e.query),new vl(t,e.targetId,0,e.lastListenSequenceNumber,r,i,vt.fromBase64String(e.resumeToken))}function l1(e,t){var n,r=Ki(t.snapshotVersion),i=Ki(t.lastLimboFreeSnapshotVersion);n=_a(t.target)?Zw(e.Lt,t.target):e1(e.Lt,t.target);var o=t.resumeToken.toBase64();return new ct(t.targetId,Fs(t.target),r,o,t.sequenceNumber,i,n)}function c1(e){var t=t1({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?Ow(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var FC=function(){function e(){}return e.prototype.getBundleMetadata=function(t,n){return lm(t).get(n).next(function(r){if(r)return{id:(i=r).bundleId,createTime:Wi(i.createTime),version:i.version};var i})},e.prototype.saveBundleMetadata=function(t,n){return lm(t).put({bundleId:(r=n).id,createTime:Ki(tt(r.createTime)),version:r.version});var r},e.prototype.getNamedQuery=function(t,n){return cm(t).get(n).next(function(r){if(r)return{name:(i=r).name,query:c1(i.bundledQuery),readTime:Wi(i.readTime)};var i})},e.prototype.saveNamedQuery=function(t,n){return cm(t).put(function(r){return{name:r.name,readTime:Ki(tt(r.readTime)),bundledQuery:r.bundledQuery}}(n))},e}();function lm(e){return mt(e,zi.store)}function cm(e){return mt(e,Bi.store)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $C=function(){function e(){this.Bt=new Dd}return e.prototype.addToCollectionParentIndex=function(t,n){return this.Bt.add(n),C.resolve()},e.prototype.getCollectionParents=function(t,n){return C.resolve(this.Bt.getEntries(n))},e}(),Dd=function(){function e(){this.index={}}return e.prototype.add=function(t){var n=t.lastSegment(),r=t.popLast(),i=this.index[n]||new Ne(J.comparator),o=!i.has(r);return this.index[n]=i.add(r),o},e.prototype.has=function(t){var n=t.lastSegment(),r=t.popLast(),i=this.index[n];return i&&i.has(r)},e.prototype.getEntries=function(t){return(this.index[t]||new Ne(J.comparator)).toArray()},e}(),UC=function(){function e(){this.qt=new Dd}return e.prototype.addToCollectionParentIndex=function(t,n){var r=this;if(!this.qt.has(n)){var i=n.lastSegment(),o=n.popLast();t.addOnCommittedListener(function(){r.qt.add(n)});var s={collectionId:i,parent:Gt(o)};return fm(t).put(s)}return C.resolve()},e.prototype.getCollectionParents=function(t,n){var r=[],i=IDBKeyRange.bound([n,""],[Cw(n),""],!1,!0);return fm(t).Nt(i).next(function(o){for(var s=0,u=o;s<u.length;s++){var a=u[s];if(a.collectionId!==n)break;r.push(hn(a.parent))}return r})},e}();function fm(e){return mt(e,Nr.store)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hm={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Jt=function(){function e(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f1(e,t,n){var r=e.store(oe.store),i=e.store(ze.store),o=[],s=IDBKeyRange.only(n.batchId),u=0,a=r.Ot({range:s},function(m,g,w){return u++,w.delete()});o.push(a.next(function(){j(u===1)}));for(var l=[],c=0,f=n.mutations;c<f.length;c++){var h=f[c],p=ze.key(t,h.key.path,n.batchId);o.push(i.delete(p)),l.push(h.key)}return C.waitFor(o).next(function(){return l})}function Ca(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw M();t=e.noDocument}return JSON.stringify(t).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Jt.DEFAULT_COLLECTION_PERCENTILE=10,Jt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Jt.DEFAULT=new Jt(41943040,Jt.DEFAULT_COLLECTION_PERCENTILE,Jt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Jt.DISABLED=new Jt(-1,0,0);var VC=function(){function e(t,n,r,i){this.userId=t,this.R=n,this.Ut=r,this.referenceDelegate=i,this.Qt={}}return e.Kt=function(t,n,r,i){return j(t.uid!==""),new e(t.isAuthenticated()?t.uid:"",n,r,i)},e.prototype.checkEmpty=function(t){var n=!0,r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Cn(t).Ot({index:oe.userMutationsIndex,range:r},function(i,o,s){n=!1,s.done()}).next(function(){return n})},e.prototype.addMutationBatch=function(t,n,r,i){var o=this,s=ri(t),u=Cn(t);return u.add({}).next(function(a){j(typeof a=="number");for(var l=new xd(a,n,r,i),c=function(v,d,y){var E=y.baseMutations.map(function(x){return ka(v.Lt,x)}),_=y.mutations.map(function(x){return ka(v.Lt,x)});return new oe(d,y.batchId,y.localWriteTime.toMillis(),E,_)}(o.R,o.userId,l),f=[],h=new Ne(function(v,d){return H(v.canonicalString(),d.canonicalString())}),p=0,m=i;p<m.length;p++){var g=m[p],w=ze.key(o.userId,g.key.path,a);h=h.add(g.key.path.popLast()),f.push(u.put(c)),f.push(s.put(w,ze.PLACEHOLDER))}return h.forEach(function(v){f.push(o.Ut.addToCollectionParentIndex(t,v))}),t.addOnCommittedListener(function(){o.Qt[a]=l.keys()}),C.waitFor(f).next(function(){return l})})},e.prototype.lookupMutationBatch=function(t,n){var r=this;return Cn(t).get(n).next(function(i){return i?(j(i.userId===r.userId),ni(r.R,i)):null})},e.prototype.jt=function(t,n){var r=this;return this.Qt[n]?C.resolve(this.Qt[n]):this.lookupMutationBatch(t,n).next(function(i){if(i){var o=i.keys();return r.Qt[n]=o,o}return null})},e.prototype.getNextMutationBatchAfterBatchId=function(t,n){var r=this,i=n+1,o=IDBKeyRange.lowerBound([this.userId,i]),s=null;return Cn(t).Ot({index:oe.userMutationsIndex,range:o},function(u,a,l){a.userId===r.userId&&(j(a.batchId>=i),s=ni(r.R,a)),l.done()}).next(function(){return s})},e.prototype.getHighestUnacknowledgedBatchId=function(t){var n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),r=-1;return Cn(t).Ot({index:oe.userMutationsIndex,range:n,reverse:!0},function(i,o,s){r=o.batchId,s.done()}).next(function(){return r})},e.prototype.getAllMutationBatches=function(t){var n=this,r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Cn(t).Nt(oe.userMutationsIndex,r).next(function(i){return i.map(function(o){return ni(n.R,o)})})},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,n){var r=this,i=ze.prefixForPath(this.userId,n.path),o=IDBKeyRange.lowerBound(i),s=[];return ri(t).Ot({range:o},function(u,a,l){var c=u[0],f=u[1],h=u[2],p=hn(f);if(c===r.userId&&n.path.isEqual(p))return Cn(t).get(h).next(function(m){if(!m)throw M();j(m.userId===r.userId),s.push(ni(r.R,m))});l.done()}).next(function(){return s})},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,n){var r=this,i=new Ne(H),o=[];return n.forEach(function(s){var u=ze.prefixForPath(r.userId,s.path),a=IDBKeyRange.lowerBound(u),l=ri(t).Ot({range:a},function(c,f,h){var p=c[0],m=c[1],g=c[2],w=hn(m);p===r.userId&&s.path.isEqual(w)?i=i.add(g):h.done()});o.push(l)}),C.waitFor(o).next(function(){return r.Wt(t,i)})},e.prototype.getAllMutationBatchesAffectingQuery=function(t,n){var r=this,i=n.path,o=i.length+1,s=ze.prefixForPath(this.userId,i),u=IDBKeyRange.lowerBound(s),a=new Ne(H);return ri(t).Ot({range:u},function(l,c,f){var h=l[0],p=l[1],m=l[2],g=hn(p);h===r.userId&&i.isPrefixOf(g)?g.length===o&&(a=a.add(m)):f.done()}).next(function(){return r.Wt(t,a)})},e.prototype.Wt=function(t,n){var r=this,i=[],o=[];return n.forEach(function(s){o.push(Cn(t).get(s).next(function(u){if(u===null)throw M();j(u.userId===r.userId),i.push(ni(r.R,u))}))}),C.waitFor(o).next(function(){return i})},e.prototype.removeMutationBatch=function(t,n){var r=this;return f1(t.Mt,this.userId,n).next(function(i){return t.addOnCommittedListener(function(){r.Gt(n.batchId)}),C.forEach(i,function(o){return r.referenceDelegate.markPotentiallyOrphaned(t,o)})})},e.prototype.Gt=function(t){delete this.Qt[t]},e.prototype.performConsistencyCheck=function(t){var n=this;return this.checkEmpty(t).next(function(r){if(!r)return C.resolve();var i=IDBKeyRange.lowerBound(ze.prefixForUser(n.userId)),o=[];return ri(t).Ot({range:i},function(s,u,a){if(s[0]===n.userId){var l=hn(s[1]);o.push(l)}else a.done()}).next(function(){j(o.length===0)})})},e.prototype.containsKey=function(t,n){return h1(t,this.userId,n)},e.prototype.zt=function(t){var n=this;return d1(t).get(this.userId).next(function(r){return r||new Xn(n.userId,-1,"")})},e}();function h1(e,t,n){var r=ze.prefixForPath(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return ri(e).Ot({range:o,kt:!0},function(u,a,l){var c=u[0],f=u[1];u[2],c===t&&f===i&&(s=!0),l.done()}).next(function(){return s})}function Cn(e){return mt(e,oe.store)}function ri(e){return mt(e,ze.store)}function d1(e){return mt(e,Xn.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Na=function(){function e(t){this.Ht=t}return e.prototype.next=function(){return this.Ht+=2,this.Ht},e.Jt=function(){return new e(0)},e.Yt=function(){return new e(-1)},e}(),jC=function(){function e(t,n){this.referenceDelegate=t,this.R=n}return e.prototype.allocateTargetId=function(t){var n=this;return this.Xt(t).next(function(r){var i=new Na(r.highestTargetId);return r.highestTargetId=i.next(),n.Zt(t,r).next(function(){return r.highestTargetId})})},e.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(n){return W.fromTimestamp(new pt(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))})},e.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(n){return n.highestListenSequenceNumber})},e.prototype.setTargetsMetadata=function(t,n,r){var i=this;return this.Xt(t).next(function(o){return o.highestListenSequenceNumber=n,r&&(o.lastRemoteSnapshotVersion=r.toTimestamp()),n>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=n),i.Zt(t,o)})},e.prototype.addTargetData=function(t,n){var r=this;return this.te(t,n).next(function(){return r.Xt(t).next(function(i){return i.targetCount+=1,r.ee(n,i),r.Zt(t,i)})})},e.prototype.updateTargetData=function(t,n){return this.te(t,n)},e.prototype.removeTargetData=function(t,n){var r=this;return this.removeMatchingKeysForTargetId(t,n.targetId).next(function(){return ei(t).delete(n.targetId)}).next(function(){return r.Xt(t)}).next(function(i){return j(i.targetCount>0),i.targetCount-=1,r.Zt(t,i)})},e.prototype.removeTargets=function(t,n,r){var i=this,o=0,s=[];return ei(t).Ot(function(u,a){var l=No(a);l.sequenceNumber<=n&&r.get(l.targetId)===null&&(o++,s.push(i.removeTargetData(t,l)))}).next(function(){return C.waitFor(s)}).next(function(){return o})},e.prototype.forEachTarget=function(t,n){return ei(t).Ot(function(r,i){var o=No(i);n(o)})},e.prototype.Xt=function(t){return dm(t).get(wt.key).next(function(n){return j(n!==null),n})},e.prototype.Zt=function(t,n){return dm(t).put(wt.key,n)},e.prototype.te=function(t,n){return ei(t).put(l1(this.R,n))},e.prototype.ee=function(t,n){var r=!1;return t.targetId>n.highestTargetId&&(n.highestTargetId=t.targetId,r=!0),t.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=t.sequenceNumber,r=!0),r},e.prototype.getTargetCount=function(t){return this.Xt(t).next(function(n){return n.targetCount})},e.prototype.getTargetData=function(t,n){var r=Fs(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),o=null;return ei(t).Ot({range:i,index:ct.queryTargetsIndexName},function(s,u,a){var l=No(u);fl(n,l.target)&&(o=l,a.done())}).next(function(){return o})},e.prototype.addMatchingKeys=function(t,n,r){var i=this,o=[],s=Ln(t);return n.forEach(function(u){var a=Gt(u.path);o.push(s.put(new Oe(r,a))),o.push(i.referenceDelegate.addReference(t,r,u))}),C.waitFor(o)},e.prototype.removeMatchingKeys=function(t,n,r){var i=this,o=Ln(t);return C.forEach(n,function(s){var u=Gt(s.path);return C.waitFor([o.delete([r,u]),i.referenceDelegate.removeReference(t,r,s)])})},e.prototype.removeMatchingKeysForTargetId=function(t,n){var r=Ln(t),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)},e.prototype.getMatchingKeysForTargetId=function(t,n){var r=IDBKeyRange.bound([n],[n+1],!1,!0),i=Ln(t),o=re();return i.Ot({range:r,kt:!0},function(s,u,a){var l=hn(s[1]),c=new U(l);o=o.add(c)}).next(function(){return o})},e.prototype.containsKey=function(t,n){var r=Gt(n.path),i=IDBKeyRange.bound([r],[Cw(r)],!1,!0),o=0;return Ln(t).Ot({index:Oe.documentTargetsIndex,kt:!0,range:i},function(s,u,a){var l=s[0];s[1],l!==0&&(o++,a.done())}).next(function(){return o>0})},e.prototype.lt=function(t,n){return ei(t).get(n).next(function(r){return r?No(r):null})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ei(e){return mt(e,ct.store)}function dm(e){return mt(e,wt.store)}function Ln(e){return mt(e,Oe.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gr(e){return T(this,void 0,void 0,function(){return I(this,function(t){if(e.code!==S.FAILED_PRECONDITION||e.message!==i1)throw e;return b("LocalStore","Unexpectedly lost primary lease"),[2]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pm(e,t){var n=e[0],r=e[1],i=t[0],o=t[1],s=H(n,i);return s===0?H(r,o):s}var zC=function(){function e(t){this.ne=t,this.buffer=new Ne(pm),this.se=0}return e.prototype.ie=function(){return++this.se},e.prototype.re=function(t){var n=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(n);else{var r=this.buffer.last();pm(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),BC=function(){function e(t,n){this.garbageCollector=t,this.asyncQueue=n,this.oe=!1,this.ce=null}return e.prototype.start=function(t){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.ue(t)},e.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(e.prototype,"started",{get:function(){return this.ce!==null},enumerable:!1,configurable:!0}),e.prototype.ue=function(t){var n=this,r=this.oe?3e5:6e4;b("LruGarbageCollector","Garbage collection scheduled in "+r+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,function(){return T(n,void 0,void 0,function(){var i;return I(this,function(o){switch(o.label){case 0:this.ce=null,this.oe=!0,o.label=1;case 1:return o.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return o.sent(),[3,7];case 3:return Hr(i=o.sent())?(b("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i),[3,6]):[3,4];case 4:return[4,Gr(i)];case 5:o.sent(),o.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return o.sent(),[2]}})})})},e}(),qC=function(){function e(t,n){this.ae=t,this.params=n}return e.prototype.calculateTargetCount=function(t,n){return this.ae.he(t).next(function(r){return Math.floor(n/100*r)})},e.prototype.nthSequenceNumber=function(t,n){var r=this;if(n===0)return C.resolve(_t.o);var i=new zC(n);return this.ae.forEachTarget(t,function(o){return i.re(o.sequenceNumber)}).next(function(){return r.ae.le(t,function(o){return i.re(o)})}).next(function(){return i.maxValue})},e.prototype.removeTargets=function(t,n,r){return this.ae.removeTargets(t,n,r)},e.prototype.removeOrphanedDocuments=function(t,n){return this.ae.removeOrphanedDocuments(t,n)},e.prototype.collect=function(t,n){var r=this;return this.params.cacheSizeCollectionThreshold===-1?(b("LruGarbageCollector","Garbage collection skipped; disabled"),C.resolve(hm)):this.getCacheSize(t).next(function(i){return i<r.params.cacheSizeCollectionThreshold?(b("LruGarbageCollector","Garbage collection skipped; Cache size "+i+" is lower than threshold "+r.params.cacheSizeCollectionThreshold),hm):r.fe(t,n)})},e.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},e.prototype.fe=function(t,n){var r,i,o,s,u,a,l,c=this,f=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(h){return h>c.params.maximumSequenceNumbersToCollect?(b("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+h),i=c.params.maximumSequenceNumbersToCollect):i=h,s=Date.now(),c.nthSequenceNumber(t,i)}).next(function(h){return r=h,u=Date.now(),c.removeTargets(t,r,n)}).next(function(h){return o=h,a=Date.now(),c.removeOrphanedDocuments(t,r)}).next(function(h){return l=Date.now(),bf()<=X.DEBUG&&b("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in `+(s-f)+`ms
	Determined least recently used `+i+" in "+(u-s)+`ms
	Removed `+o+" targets in "+(a-u)+`ms
	Removed `+h+" documents in "+(l-a)+`ms
Total Duration: `+(l-f)+"ms"),C.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:h})})},e}(),KC=function(){function e(t,n){this.db=t,this.garbageCollector=function(r,i){return new qC(r,i)}(this,n)}return e.prototype.he=function(t){var n=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(r){return n.next(function(i){return r+i})})},e.prototype.de=function(t){var n=0;return this.le(t,function(r){n++}).next(function(){return n})},e.prototype.forEachTarget=function(t,n){return this.db.getTargetCache().forEachTarget(t,n)},e.prototype.le=function(t,n){return this.we(t,function(r,i){return n(i)})},e.prototype.addReference=function(t,n,r){return yu(t,r)},e.prototype.removeReference=function(t,n,r){return yu(t,r)},e.prototype.removeTargets=function(t,n,r){return this.db.getTargetCache().removeTargets(t,n,r)},e.prototype.markPotentiallyOrphaned=function(t,n){return yu(t,n)},e.prototype._e=function(t,n){return function(r,i){var o=!1;return d1(r).$t(function(s){return h1(r,s,i).next(function(u){return u&&(o=!0),C.resolve(!u)})}).next(function(){return o})}(t,n)},e.prototype.removeOrphanedDocuments=function(t,n){var r=this,i=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[],s=0;return this.we(t,function(u,a){if(a<=n){var l=r._e(t,u).next(function(c){if(!c)return s++,i.getEntry(t,u).next(function(){return i.removeEntry(u),Ln(t).delete([0,Gt(u.path)])})});o.push(l)}}).next(function(){return C.waitFor(o)}).next(function(){return i.apply(t)}).next(function(){return s})},e.prototype.removeTarget=function(t,n){var r=n.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,r)},e.prototype.updateLimboDocument=function(t,n){return yu(t,n)},e.prototype.we=function(t,n){var r,i=Ln(t),o=_t.o;return i.Ot({index:Oe.documentTargetsIndex},function(s,u){var a=s[0],l=(s[1],u.path),c=u.sequenceNumber;a===0?(o!==_t.o&&n(new U(hn(r)),o),o=c,r=l):o=_t.o}).next(function(){o!==_t.o&&n(new U(hn(r)),o)})},e.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},e}();function yu(e,t){return Ln(e).put(function(n,r){return new Oe(0,Gt(n.path),r)}(t,e.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var io=function(){function e(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={}}return e.prototype.get=function(t){var n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0)for(var i=0,o=r;i<o.length;i++){var s=o[i],u=s[0],a=s[1];if(this.equalsFn(u,t))return a}},e.prototype.has=function(t){return this.get(t)!==void 0},e.prototype.set=function(t,n){var r=this.mapKeyFn(t),i=this.inner[r];if(i!==void 0){for(var o=0;o<i.length;o++)if(this.equalsFn(i[o][0],t))return void(i[o]=[t,n]);i.push([t,n])}else this.inner[r]=[[t,n]]},e.prototype.delete=function(t){var n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return r.length===1?delete this.inner[n]:r.splice(i,1),!0;return!1},e.prototype.forEach=function(t){Ms(this.inner,function(n,r){for(var i=0,o=r;i<o.length;i++){var s=o[i],u=s[0],a=s[1];t(u,a)}})},e.prototype.isEmpty=function(){return Nw(this.inner)},e}(),p1=function(){function e(){this.changes=new io(function(t){return t.toString()},function(t,n){return t.isEqual(n)}),this.changesApplied=!1}return e.prototype.getReadTime=function(t){var n=this.changes.get(t);return n?n.readTime:W.min()},e.prototype.addEntry=function(t,n){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:n})},e.prototype.removeEntry=function(t,n){n===void 0&&(n=null),this.assertNotApplied(),this.changes.set(t,{document:Ge.newInvalidDocument(t),readTime:n})},e.prototype.getEntry=function(t,n){this.assertNotApplied();var r=this.changes.get(n);return r!==void 0?C.resolve(r.document):this.getFromCache(t,n)},e.prototype.getEntries=function(t,n){return this.getAllFromCache(t,n)},e.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},e.prototype.assertNotApplied=function(){},e}(),WC=function(){function e(t,n){this.R=t,this.Ut=n}return e.prototype.addEntry=function(t,n,r){return An(t).put(gu(n),r)},e.prototype.removeEntry=function(t,n){var r=An(t),i=gu(n);return r.delete(i)},e.prototype.updateMetadata=function(t,n){var r=this;return this.getMetadata(t).next(function(i){return i.byteSize+=n,r.me(t,i)})},e.prototype.getEntry=function(t,n){var r=this;return An(t).get(gu(n)).next(function(i){return r.ye(n,i)})},e.prototype.ge=function(t,n){var r=this;return An(t).get(gu(n)).next(function(i){return{document:r.ye(n,i),size:Ca(i)}})},e.prototype.getEntries=function(t,n){var r=this,i=Ht();return this.pe(t,n,function(o,s){var u=r.ye(o,s);i=i.insert(o,u)}).next(function(){return i})},e.prototype.Ee=function(t,n){var r=this,i=Ht(),o=new Qe(U.comparator);return this.pe(t,n,function(s,u){var a=r.ye(s,u);i=i.insert(s,a),o=o.insert(s,Ca(u))}).next(function(){return{documents:i,Te:o}})},e.prototype.pe=function(t,n,r){if(n.isEmpty())return C.resolve();var i=IDBKeyRange.bound(n.first().path.toArray(),n.last().path.toArray()),o=n.getIterator(),s=o.getNext();return An(t).Ot({range:i},function(u,a,l){for(var c=U.fromSegments(u);s&&U.comparator(s,c)<0;)r(s,null),s=o.getNext();s&&s.isEqual(c)&&(r(s,a),s=o.hasNext()?o.getNext():null),s?l.Ct(s.path.toArray()):l.done()}).next(function(){for(;s;)r(s,null),s=o.hasNext()?o.getNext():null})},e.prototype.getDocumentsMatchingQuery=function(t,n,r){var i=this,o=Ht(),s=n.path.length+1,u={};if(r.isEqual(W.min())){var a=n.path.toArray();u.range=IDBKeyRange.lowerBound(a)}else{var l=n.path.toArray(),c=bd(r);u.range=IDBKeyRange.lowerBound([l,c],!0),u.index=pe.collectionReadTimeIndex}return An(t).Ot(u,function(f,h,p){if(f.length===s){var m=$f(i.R,h);n.path.isPrefixOf(m.key.path)?Vs(n,m)&&(o=o.insert(m.key,m)):p.done()}}).next(function(){return o})},e.prototype.newChangeBuffer=function(t){return new HC(this,!!t&&t.trackRemovals)},e.prototype.getSize=function(t){return this.getMetadata(t).next(function(n){return n.byteSize})},e.prototype.getMetadata=function(t){return vm(t).get(en.key).next(function(n){return j(!!n),n})},e.prototype.me=function(t,n){return vm(t).put(en.key,n)},e.prototype.ye=function(t,n){if(n){var r=$f(this.R,n);if(!r.isNoDocument()||!r.version.isEqual(W.min()))return r}return Ge.newInvalidDocument(t)},e}(),HC=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).Ie=n,i.trackRemovals=r,i.Ae=new io(function(o){return o.toString()},function(o,s){return o.isEqual(s)}),i}return V(t,e),t.prototype.applyChanges=function(n){var r=this,i=[],o=0,s=new Ne(function(u,a){return H(u.canonicalString(),a.canonicalString())});return this.changes.forEach(function(u,a){var l=r.Ae.get(u);if(a.document.isValidDocument()){var c=am(r.Ie.R,a.document,r.getReadTime(u));s=s.add(u.path.popLast());var f=Ca(c);o+=f-l,i.push(r.Ie.addEntry(n,u,c))}else if(o-=l,r.trackRemovals){var h=am(r.Ie.R,Ge.newNoDocument(u,W.min()),r.getReadTime(u));i.push(r.Ie.addEntry(n,u,h))}else i.push(r.Ie.removeEntry(n,u))}),s.forEach(function(u){i.push(r.Ie.Ut.addToCollectionParentIndex(n,u))}),i.push(this.Ie.updateMetadata(n,o)),C.waitFor(i)},t.prototype.getFromCache=function(n,r){var i=this;return this.Ie.ge(n,r).next(function(o){return i.Ae.set(r,o.size),o.document})},t.prototype.getAllFromCache=function(n,r){var i=this;return this.Ie.Ee(n,r).next(function(o){var s=o.documents;return o.Te.forEach(function(u,a){i.Ae.set(u,a)}),s})},t}(p1);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vm(e){return mt(e,en.store)}function An(e){return mt(e,pe.store)}function gu(e){return e.path.toArray()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var GC=function(){function e(t){this.R=t}return e.prototype.Rt=function(t,n,r,i){var o=this;j(r<i&&r>=0&&i<=11);var s=new s1("createOrUpgrade",n);r<1&&i>=1&&(function(a){a.createObjectStore(gt.store)}(t),function(a){a.createObjectStore(Xn.store,{keyPath:Xn.keyPath}),a.createObjectStore(oe.store,{keyPath:oe.keyPath,autoIncrement:!0}).createIndex(oe.userMutationsIndex,oe.userMutationsKeyPath,{unique:!0}),a.createObjectStore(ze.store)}(t),mm(t),function(a){a.createObjectStore(pe.store)}(t));var u=C.resolve();return r<3&&i>=3&&(r!==0&&(function(a){a.deleteObjectStore(Oe.store),a.deleteObjectStore(ct.store),a.deleteObjectStore(wt.store)}(t),mm(t)),u=u.next(function(){return function(a){var l=a.store(wt.store),c=new wt(0,0,W.min().toTimestamp(),0);return l.put(wt.key,c)}(s)})),r<4&&i>=4&&(r!==0&&(u=u.next(function(){return function(a,l){return l.store(oe.store).Nt().next(function(c){a.deleteObjectStore(oe.store),a.createObjectStore(oe.store,{keyPath:oe.keyPath,autoIncrement:!0}).createIndex(oe.userMutationsIndex,oe.userMutationsKeyPath,{unique:!0});var f=l.store(oe.store),h=c.map(function(p){return f.put(p)});return C.waitFor(h)})}(t,s)})),u=u.next(function(){(function(a){a.createObjectStore(vn.store,{keyPath:vn.keyPath})})(t)})),r<5&&i>=5&&(u=u.next(function(){return o.Re(s)})),r<6&&i>=6&&(u=u.next(function(){return function(a){a.createObjectStore(en.store)}(t),o.be(s)})),r<7&&i>=7&&(u=u.next(function(){return o.ve(s)})),r<8&&i>=8&&(u=u.next(function(){return o.Pe(t,s)})),r<9&&i>=9&&(u=u.next(function(){(function(a){a.objectStoreNames.contains("remoteDocumentChanges")&&a.deleteObjectStore("remoteDocumentChanges")})(t),function(a){var l=a.objectStore(pe.store);l.createIndex(pe.readTimeIndex,pe.readTimeIndexPath,{unique:!1}),l.createIndex(pe.collectionReadTimeIndex,pe.collectionReadTimeIndexPath,{unique:!1})}(n)})),r<10&&i>=10&&(u=u.next(function(){return o.Ve(s)})),r<11&&i>=11&&(u=u.next(function(){(function(a){a.createObjectStore(zi.store,{keyPath:zi.keyPath})})(t),function(a){a.createObjectStore(Bi.store,{keyPath:Bi.keyPath})}(t)})),u},e.prototype.be=function(t){var n=0;return t.store(pe.store).Ot(function(r,i){n+=Ca(i)}).next(function(){var r=new en(n);return t.store(en.store).put(en.key,r)})},e.prototype.Re=function(t){var n=this,r=t.store(Xn.store),i=t.store(oe.store);return r.Nt().next(function(o){return C.forEach(o,function(s){var u=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return i.Nt(oe.userMutationsIndex,u).next(function(a){return C.forEach(a,function(l){j(l.userId===s.userId);var c=ni(n.R,l);return f1(t,s.userId,c).next(function(){})})})})})},e.prototype.ve=function(t){var n=t.store(Oe.store),r=t.store(pe.store);return t.store(wt.store).get(wt.key).next(function(i){var o=[];return r.Ot(function(s,u){var a=new J(s),l=function(c){return[0,Gt(c)]}(a);o.push(n.get(l).next(function(c){return c?C.resolve():function(f){return n.put(new Oe(0,Gt(f),i.highestListenSequenceNumber))}(a)}))}).next(function(){return C.waitFor(o)})})},e.prototype.Pe=function(t,n){t.createObjectStore(Nr.store,{keyPath:Nr.keyPath});var r=n.store(Nr.store),i=new Dd,o=function(s){if(i.add(s)){var u=s.lastSegment(),a=s.popLast();return r.put({collectionId:u,parent:Gt(a)})}};return n.store(pe.store).Ot({kt:!0},function(s,u){var a=new J(s);return o(a.popLast())}).next(function(){return n.store(ze.store).Ot({kt:!0},function(s,u){s[0];var a=s[1],l=(s[2],hn(a));return o(l.popLast())})})},e.prototype.Ve=function(t){var n=this,r=t.store(ct.store);return r.Ot(function(i,o){var s=No(o),u=l1(n.R,s);return r.put(u)})},e}();function mm(e){e.createObjectStore(Oe.store,{keyPath:Oe.keyPath}).createIndex(Oe.documentTargetsIndex,Oe.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(ct.store,{keyPath:ct.keyPath}).createIndex(ct.queryTargetsIndexName,ct.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(wt.store)}var pc="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",QC=function(){function e(t,n,r,i,o,s,u,a,l,c){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=s,this.document=u,this.De=l,this.Ce=c,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.Oe=null,this.$e=Number.NEGATIVE_INFINITY,this.Me=function(f){return Promise.resolve()},!e.yt())throw new k(S.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new KC(this,i),this.Le=n+"main",this.R=new u1(a),this.Be=new qi(this.Le,11,new GC(this.R)),this.qe=new jC(this.referenceDelegate,this.R),this.Ut=new UC,this.Ue=function(f,h){return new WC(f,h)}(this.R,this.Ut),this.Qe=new FC,this.window&&this.window.localStorage?this.Ke=this.window.localStorage:(this.Ke=null,c===!1&&Se("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new k(S.FAILED_PRECONDITION,pc);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(n){return t.qe.getHighestSequenceNumber(n)})}).then(function(n){t.Ne=new _t(n,t.De)}).then(function(){t.xe=!0}).catch(function(n){return t.Be&&t.Be.close(),Promise.reject(n)})},e.prototype.He=function(t){var n=this;return this.Me=function(r){return T(n,void 0,void 0,function(){return I(this,function(i){return this.started?[2,t(r)]:[2]})})},t(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(t){var n=this;this.Be.vt(function(r){return T(n,void 0,void 0,function(){return I(this,function(i){switch(i.label){case 0:return r.newVersion===null?[4,t()]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})})},e.prototype.setNetworkEnabled=function(t){var n=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return T(n,void 0,void 0,function(){return I(this,function(r){switch(r.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})})}))},e.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(n){return wu(n).put(new vn(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(n).next(function(r){r||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(n)}).next(function(r){return t.isPrimary&&!r?t.Xe(n).next(function(){return!1}):!!r&&t.Ze(n).next(function(){return!0})})}).catch(function(n){if(Hr(n))return b("IndexedDbPersistence","Failed to extend owner lease: ",n),t.isPrimary;if(!t.allowTabSynchronization)throw n;return b("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(function(n){t.isPrimary!==n&&t.Se.enqueueRetryable(function(){return t.Me(n)}),t.isPrimary=n})},e.prototype.Je=function(t){var n=this;return So(t).get(gt.key).next(function(r){return C.resolve(n.tn(r))})},e.prototype.en=function(t){return wu(t).delete(this.clientId)},e.prototype.nn=function(){return T(this,void 0,void 0,function(){var t,n,r,i,o=this;return I(this,function(s){switch(s.label){case 0:return!this.isPrimary||this.sn(this.$e,18e5)?[3,2]:(this.$e=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(u){var a=mt(u,vn.store);return a.Nt().next(function(l){var c=o.rn(l,18e5),f=l.filter(function(h){return c.indexOf(h)===-1});return C.forEach(f,function(h){return a.delete(h.clientId)}).next(function(){return f})})}).catch(function(){return[]})]);case 1:if(t=s.sent(),this.Ke)for(n=0,r=t;n<r.length;n++)i=r[n],this.Ke.removeItem(this.on(i.clientId));s.label=2;case 2:return[2]}})})},e.prototype.ze=function(){var t=this;this.Oe=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},e.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},e.prototype.Ye=function(t){var n=this;return this.Ce?C.resolve(!0):So(t).get(gt.key).next(function(r){if(r!==null&&n.sn(r.leaseTimestampMs,5e3)&&!n.cn(r.ownerId)){if(n.tn(r)&&n.networkEnabled)return!0;if(!n.tn(r)){if(!r.allowTabSynchronization)throw new k(S.FAILED_PRECONDITION,pc);return!1}}return!(!n.networkEnabled||!n.inForeground)||wu(t).Nt().next(function(i){return n.rn(i,5e3).find(function(o){if(n.clientId!==o.clientId){var s=!n.networkEnabled&&o.networkEnabled,u=!n.inForeground&&o.inForeground,a=n.networkEnabled===o.networkEnabled;if(s||u&&a)return!0}return!1})===void 0})}).next(function(r){return n.isPrimary!==r&&b("IndexedDbPersistence","Client "+(r?"is":"is not")+" eligible for a primary lease."),r})},e.prototype.shutdown=function(){return T(this,void 0,void 0,function(){var t=this;return I(this,function(n){switch(n.label){case 0:return this.xe=!1,this.un(),this.Oe&&(this.Oe.cancel(),this.Oe=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[gt.store,vn.store],function(r){var i=new um(r,_t.o);return t.Xe(i).next(function(){return t.en(i)})})];case 1:return n.sent(),this.Be.close(),this.ln(),[2]}})})},e.prototype.rn=function(t,n){var r=this;return t.filter(function(i){return r.sn(i.updateTimeMs,n)&&!r.cn(i.clientId)})},e.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(n){return wu(n).Nt().next(function(r){return t.rn(r,18e5).map(function(i){return i.clientId})})})},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.getMutationQueue=function(t){return VC.Kt(t,this.R,this.Ut,this.referenceDelegate)},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getBundleCache=function(){return this.Qe},e.prototype.runTransaction=function(t,n,r){var i=this;b("IndexedDbPersistence","Starting transaction:",t);var o,s=n==="readonly"?"readonly":"readwrite";return this.Be.runTransaction(t,s,RC,function(u){return o=new um(u,i.Ne?i.Ne.next():_t.o),n==="readwrite-primary"?i.Je(o).next(function(a){return!!a||i.Ye(o)}).next(function(a){if(!a)throw Se("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Se.enqueueRetryable(function(){return i.Me(!1)}),new k(S.FAILED_PRECONDITION,i1);return r(o)}).next(function(a){return i.Ze(o).next(function(){return a})}):i.dn(o).next(function(){return r(o)})}).then(function(u){return o.raiseOnCommittedEvent(),u})},e.prototype.dn=function(t){var n=this;return So(t).get(gt.key).next(function(r){if(r!==null&&n.sn(r.leaseTimestampMs,5e3)&&!n.cn(r.ownerId)&&!n.tn(r)&&!(n.Ce||n.allowTabSynchronization&&r.allowTabSynchronization))throw new k(S.FAILED_PRECONDITION,pc)})},e.prototype.Ze=function(t){var n=new gt(this.clientId,this.allowTabSynchronization,Date.now());return So(t).put(gt.key,n)},e.yt=function(){return qi.yt()},e.prototype.Xe=function(t){var n=this,r=So(t);return r.get(gt.key).next(function(i){return n.tn(i)?(b("IndexedDbPersistence","Releasing primary lease."),r.delete(gt.key)):C.resolve()})},e.prototype.sn=function(t,n){var r=Date.now();return!(t<r-n||t>r&&(Se("Detected an update time that is in the future: "+t+" > "+r),1))},e.prototype.We=function(){var t=this;this.document!==null&&typeof this.document.addEventListener=="function"&&(this.ke=function(){t.Se.enqueueAndForget(function(){return t.inForeground=t.document.visibilityState==="visible",t.je()})},this.document.addEventListener("visibilitychange",this.ke),this.inForeground=this.document.visibilityState==="visible")},e.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},e.prototype.Ge=function(){var t,n=this;typeof((t=this.window)===null||t===void 0?void 0:t.addEventListener)=="function"&&(this.Fe=function(){n.un(),n.Se.enqueueAndForget(function(){return n.shutdown()})},this.window.addEventListener("unload",this.Fe))},e.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("unload",this.Fe),this.Fe=null)},e.prototype.cn=function(t){var n;try{var r=((n=this.Ke)===null||n===void 0?void 0:n.getItem(this.on(t)))!==null;return b("IndexedDbPersistence","Client '"+t+"' "+(r?"is":"is not")+" zombied in LocalStorage"),r}catch(i){return Se("IndexedDbPersistence","Failed to get zombied client id.",i),!1}},e.prototype.un=function(){if(this.Ke)try{this.Ke.setItem(this.on(this.clientId),String(Date.now()))}catch(t){Se("Failed to set zombie client id.",t)}},e.prototype.ln=function(){if(this.Ke)try{this.Ke.removeItem(this.on(this.clientId))}catch{}},e.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},e}();function So(e){return mt(e,gt.store)}function wu(e){return mt(e,vn.store)}function Ad(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var v1=function(){function e(t,n,r){this.Ue=t,this._n=n,this.Ut=r}return e.prototype.mn=function(t,n){var r=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,n).next(function(i){return r.yn(t,n,i)})},e.prototype.yn=function(t,n,r){return this.Ue.getEntry(t,n).next(function(i){for(var o=0,s=r;o<s.length;o++)s[o].applyToLocalView(i);return i})},e.prototype.gn=function(t,n){t.forEach(function(r,i){for(var o=0,s=n;o<s.length;o++)s[o].applyToLocalView(i)})},e.prototype.pn=function(t,n){var r=this;return this.Ue.getEntries(t,n).next(function(i){return r.En(t,i).next(function(){return i})})},e.prototype.En=function(t,n){var r=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,n).next(function(i){return r.gn(n,i)})},e.prototype.getDocumentsMatchingQuery=function(t,n,r){return function(i){return U.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.Tn(t,n.path):_d(n)?this.In(t,n,r):this.An(t,n,r)},e.prototype.Tn=function(t,n){return this.mn(t,new U(n)).next(function(r){var i=Mf();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})},e.prototype.In=function(t,n,r){var i=this,o=n.collectionGroup,s=Mf();return this.Ut.getCollectionParents(t,o).next(function(u){return C.forEach(u,function(a){var l=function(c,f){return new In(f,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)}(n,a.child(o));return i.An(t,l,r).next(function(c){c.forEach(function(f,h){s=s.insert(f,h)})})}).next(function(){return s})})},e.prototype.An=function(t,n,r){var i,o,s=this;return this.Ue.getDocumentsMatchingQuery(t,n,r).next(function(u){return i=u,s._n.getAllMutationBatchesAffectingQuery(t,n)}).next(function(u){return o=u,s.Rn(t,o,i).next(function(a){i=a;for(var l=0,c=o;l<c.length;l++)for(var f=c[l],h=0,p=f.mutations;h<p.length;h++){var m=p[h],g=m.key,w=i.get(g);w==null&&(w=Ge.newInvalidDocument(g),i=i.insert(g,w)),Lf(m,w,f.localWriteTime),w.isFoundDocument()||(i=i.remove(g))}})}).next(function(){return i.forEach(function(u,a){Vs(n,a)||(i=i.remove(u))}),i})},e.prototype.Rn=function(t,n,r){for(var i=re(),o=0,s=n;o<s.length;o++)for(var u=0,a=s[o].mutations;u<a.length;u++){var l=a[u];l instanceof cr&&r.get(l.key)===null&&(i=i.add(l.key))}var c=r;return this.Ue.getEntries(t,i).next(function(f){return f.forEach(function(h,p){p.isFoundDocument()&&(c=c.insert(h,p))}),c})},e}(),YC=function(){function e(t,n,r,i){this.targetId=t,this.fromCache=n,this.bn=r,this.vn=i}return e.Pn=function(t,n){for(var r=re(),i=re(),o=0,s=n.docChanges;o<s.length;o++){var u=s[o];switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:i=i.add(u.doc.key)}}return new e(t,n.fromCache,r,i)},e}(),m1=function(){function e(){}return e.prototype.Vn=function(t){this.Sn=t},e.prototype.getDocumentsMatchingQuery=function(t,n,r,i){var o=this;return function(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}(n)||r.isEqual(W.min())?this.Dn(t,n):this.Sn.pn(t,i).next(function(s){var u=o.Cn(n,s);return(Ru(n)||Ta(n))&&o.Nn(n.limitType,u,i,r)?o.Dn(t,n):(bf()<=X.DEBUG&&b("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Of(n)),o.Sn.getDocumentsMatchingQuery(t,n,r).next(function(a){return u.forEach(function(l){a=a.insert(l.key,l)}),a}))})},e.prototype.Cn=function(t,n){var r=new Ne(Mw(t));return n.forEach(function(i,o){Vs(t,o)&&(r=r.add(o))}),r},e.prototype.Nn=function(t,n,r,i){if(r.size!==n.size)return!0;var o=t==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)},e.prototype.Dn=function(t,n){return bf()<=X.DEBUG&&b("QueryEngine","Using full collection scan to execute query:",Of(n)),this.Sn.getDocumentsMatchingQuery(t,n,W.min())},e}(),XC=function(){function e(t,n,r,i){this.persistence=t,this.xn=n,this.R=i,this.Fn=new Qe(H),this.kn=new io(function(o){return Fs(o)},fl),this.On=W.min(),this._n=t.getMutationQueue(r),this.$n=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new v1(this.$n,this._n,this.persistence.getIndexManager()),this.Qe=t.getBundleCache(),this.xn.Vn(this.Mn)}return e.prototype.collectGarbage=function(t){var n=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(r){return t.collect(r,n.Fn)})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y1(e,t,n,r){return new XC(e,t,n,r)}function g1(e,t){return T(this,void 0,void 0,function(){var n,r,i,o;return I(this,function(s){switch(s.label){case 0:return n=P(e),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(u){var a;return n._n.getAllMutationBatches(u).next(function(l){return a=l,r=n.persistence.getMutationQueue(t),i=new v1(n.$n,r,n.persistence.getIndexManager()),r.getAllMutationBatches(u)}).next(function(l){for(var c=[],f=[],h=re(),p=0,m=a;p<m.length;p++){var g=m[p];c.push(g.batchId);for(var w=0,v=g.mutations;w<v.length;w++){var d=v[w];h=h.add(d.key)}}for(var y=0,E=l;y<E.length;y++){var _=E[y];f.push(_.batchId);for(var x=0,D=_.mutations;x<D.length;x++){var F=D[x];h=h.add(F.key)}}return i.pn(u,h).next(function(te){return{Ln:te,removedBatchIds:c,addedBatchIds:f}})})})];case 1:return o=s.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}})})}function JC(e,t){var n=P(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(r){var i=t.batch.keys(),o=n.$n.newChangeBuffer({trackRemovals:!0});return function(s,u,a,l){var c=a.batch,f=c.keys(),h=C.resolve();return f.forEach(function(p){h=h.next(function(){return l.getEntry(u,p)}).next(function(m){var g=a.docVersions.get(p);j(g!==null),m.version.compareTo(g)<0&&(c.applyToRemoteDocument(m,a),m.isValidDocument()&&l.addEntry(m,a.commitVersion))})}),h.next(function(){return s._n.removeMutationBatch(u,c)})}(n,r,t,o).next(function(){return o.apply(r)}).next(function(){return n._n.performConsistencyCheck(r)}).next(function(){return n.Mn.pn(r,i)})})}function w1(e){var t=P(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",function(n){return t.qe.getLastRemoteSnapshotVersion(n)})}function ZC(e,t){var n=P(e),r=t.snapshotVersion,i=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(o){var s=n.$n.newChangeBuffer({trackRemovals:!0});i=n.Fn;var u=[];t.targetChanges.forEach(function(c,f){var h=i.get(f);if(h){u.push(n.qe.removeMatchingKeys(o,c.removedDocuments,f).next(function(){return n.qe.addMatchingKeys(o,c.addedDocuments,f)}));var p=c.resumeToken;if(p.approximateByteSize()>0){var m=h.withResumeToken(p,r).withSequenceNumber(o.currentSequenceNumber);i=i.insert(f,m),function(g,w,v){return j(w.resumeToken.approximateByteSize()>0),g.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8||v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(h,m,c)&&u.push(n.qe.updateTargetData(o,m))}}});var a=Ht();if(t.documentUpdates.forEach(function(c,f){t.resolvedLimboDocuments.has(c)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(o,c))}),u.push(eN(o,s,t.documentUpdates,r,void 0).next(function(c){a=c})),!r.isEqual(W.min())){var l=n.qe.getLastRemoteSnapshotVersion(o).next(function(c){return n.qe.setTargetsMetadata(o,o.currentSequenceNumber,r)});u.push(l)}return C.waitFor(u).next(function(){return s.apply(o)}).next(function(){return n.Mn.En(o,a)}).next(function(){return a})}).then(function(o){return n.Fn=i,o})}function eN(e,t,n,r,i){var o=re();return n.forEach(function(s){return o=o.add(s)}),t.getEntries(e,o).next(function(s){var u=Ht();return n.forEach(function(a,l){var c=s.get(a),f=(i==null?void 0:i.get(a))||r;l.isNoDocument()&&l.version.isEqual(W.min())?(t.removeEntry(a,f),u=u.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(t.addEntry(l,f),u=u.insert(a,l)):b("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),u})}function tN(e,t){var n=P(e);return n.persistence.runTransaction("Get next mutation batch","readonly",function(r){return t===void 0&&(t=-1),n._n.getNextMutationBatchAfterBatchId(r,t)})}function xa(e,t){var n=P(e);return n.persistence.runTransaction("Allocate target","readwrite",function(r){var i;return n.qe.getTargetData(r,t).next(function(o){return o?(i=o,C.resolve(i)):n.qe.allocateTargetId(r).next(function(s){return i=new vl(t,s,0,r.currentSequenceNumber),n.qe.addTargetData(r,i).next(function(){return i})})})}).then(function(r){var i=n.Fn.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Fn=n.Fn.insert(r.targetId,r),n.kn.set(t,r.targetId)),r})}function Hi(e,t,n){return T(this,void 0,void 0,function(){var r,i,o,s;return I(this,function(u){switch(u.label){case 0:r=P(e),i=r.Fn.get(t),o=n?"readwrite":"readwrite-primary",u.label=1;case 1:return u.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,function(a){return r.persistence.referenceDelegate.removeTarget(a,i)})];case 2:u.sent(),u.label=3;case 3:return[3,5];case 4:if(!Hr(s=u.sent()))throw s;return b("LocalStore","Failed to update sequence numbers for target "+t+": "+s),[3,5];case 5:return r.Fn=r.Fn.remove(t),r.kn.delete(i.target),[2]}})})}function ba(e,t,n){var r=P(e),i=W.min(),o=re();return r.persistence.runTransaction("Execute query","readonly",function(s){return function(u,a,l){var c=P(u),f=c.kn.get(l);return f!==void 0?C.resolve(c.Fn.get(f)):c.qe.getTargetData(a,l)}(r,s,sn(t)).next(function(u){if(u)return i=u.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(s,u.targetId).next(function(a){o=a})}).next(function(){return r.xn.getDocumentsMatchingQuery(s,t,n?i:W.min(),n?o:re())}).next(function(u){return{documents:u,Bn:o}})})}function E1(e,t){var n=P(e),r=P(n.qe),i=n.Fn.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(o){return r.lt(o,t).next(function(s){return s?s.target:null})})}function S1(e){var t=P(e);return t.persistence.runTransaction("Get new document changes","readonly",function(n){return function(r,i,o){var s=P(r),u=Ht(),a=bd(o),l=An(i),c=IDBKeyRange.lowerBound(a,!0);return l.Ot({index:pe.readTimeIndex,range:c},function(f,h){var p=$f(s.R,h);u=u.insert(p.key,p),a=h.readTime}).next(function(){return{wn:u,readTime:a1(a)}})}(t.$n,n,t.On)}).then(function(n){var r=n.wn,i=n.readTime;return t.On=i,r})}function nN(e){return T(this,void 0,void 0,function(){var t;return I(this,function(n){return[2,(t=P(e)).persistence.runTransaction("Synchronize last document change read time","readonly",function(r){return function(i){var o=An(i),s=W.min();return o.Ot({index:pe.readTimeIndex,reverse:!0},function(u,a,l){a.readTime&&(s=a1(a.readTime)),l.done()}).next(function(){return s})}(r)}).then(function(r){t.On=r})]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rN=function(){function e(t){this.R=t,this.Kn=new Map,this.jn=new Map}return e.prototype.getBundleMetadata=function(t,n){return C.resolve(this.Kn.get(n))},e.prototype.saveBundleMetadata=function(t,n){var r;return this.Kn.set(n.id,{id:(r=n).id,version:r.version,createTime:tt(r.createTime)}),C.resolve()},e.prototype.getNamedQuery=function(t,n){return C.resolve(this.jn.get(n))},e.prototype.saveNamedQuery=function(t,n){return this.jn.set(n.name,function(r){return{name:r.name,query:c1(r.bundledQuery),readTime:tt(r.readTime)}}(n)),C.resolve()},e}(),Pd=function(){function e(){this.Wn=new Ne(De.Gn),this.zn=new Ne(De.Hn)}return e.prototype.isEmpty=function(){return this.Wn.isEmpty()},e.prototype.addReference=function(t,n){var r=new De(t,n);this.Wn=this.Wn.add(r),this.zn=this.zn.add(r)},e.prototype.Jn=function(t,n){var r=this;t.forEach(function(i){return r.addReference(i,n)})},e.prototype.removeReference=function(t,n){this.Yn(new De(t,n))},e.prototype.Xn=function(t,n){var r=this;t.forEach(function(i){return r.removeReference(i,n)})},e.prototype.Zn=function(t){var n=this,r=new U(new J([])),i=new De(r,t),o=new De(r,t+1),s=[];return this.zn.forEachInRange([i,o],function(u){n.Yn(u),s.push(u.key)}),s},e.prototype.ts=function(){var t=this;this.Wn.forEach(function(n){return t.Yn(n)})},e.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},e.prototype.es=function(t){var n=new U(new J([])),r=new De(n,t),i=new De(n,t+1),o=re();return this.zn.forEachInRange([r,i],function(s){o=o.add(s.key)}),o},e.prototype.containsKey=function(t){var n=new De(t,0),r=this.Wn.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)},e}(),De=function(){function e(t,n){this.key=t,this.ns=n}return e.Gn=function(t,n){return U.comparator(t.key,n.key)||H(t.ns,n.ns)},e.Hn=function(t,n){return H(t.ns,n.ns)||U.comparator(t.key,n.key)},e}(),iN=function(){function e(t,n){this.Ut=t,this.referenceDelegate=n,this._n=[],this.ss=1,this.rs=new Ne(De.Gn)}return e.prototype.checkEmpty=function(t){return C.resolve(this._n.length===0)},e.prototype.addMutationBatch=function(t,n,r,i){var o=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var s=new xd(o,n,r,i);this._n.push(s);for(var u=0,a=i;u<a.length;u++){var l=a[u];this.rs=this.rs.add(new De(l.key,o)),this.Ut.addToCollectionParentIndex(t,l.key.path.popLast())}return C.resolve(s)},e.prototype.lookupMutationBatch=function(t,n){return C.resolve(this.os(n))},e.prototype.getNextMutationBatchAfterBatchId=function(t,n){var r=n+1,i=this.cs(r),o=i<0?0:i;return C.resolve(this._n.length>o?this._n[o]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return C.resolve(this._n.length===0?-1:this.ss-1)},e.prototype.getAllMutationBatches=function(t){return C.resolve(this._n.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,n){var r=this,i=new De(n,0),o=new De(n,Number.POSITIVE_INFINITY),s=[];return this.rs.forEachInRange([i,o],function(u){var a=r.os(u.ns);s.push(a)}),C.resolve(s)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,n){var r=this,i=new Ne(H);return n.forEach(function(o){var s=new De(o,0),u=new De(o,Number.POSITIVE_INFINITY);r.rs.forEachInRange([s,u],function(a){i=i.add(a.ns)})}),C.resolve(this.us(i))},e.prototype.getAllMutationBatchesAffectingQuery=function(t,n){var r=n.path,i=r.length+1,o=r;U.isDocumentKey(o)||(o=o.child(""));var s=new De(new U(o),0),u=new Ne(H);return this.rs.forEachWhile(function(a){var l=a.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(u=u.add(a.ns)),!0)},s),C.resolve(this.us(u))},e.prototype.us=function(t){var n=this,r=[];return t.forEach(function(i){var o=n.os(i);o!==null&&r.push(o)}),r},e.prototype.removeMutationBatch=function(t,n){var r=this;j(this.hs(n.batchId,"removed")===0),this._n.shift();var i=this.rs;return C.forEach(n.mutations,function(o){var s=new De(o.key,n.batchId);return i=i.delete(s),r.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(function(){r.rs=i})},e.prototype.Gt=function(t){},e.prototype.containsKey=function(t,n){var r=new De(n,0),i=this.rs.firstAfterOrEqual(r);return C.resolve(n.isEqual(i&&i.key))},e.prototype.performConsistencyCheck=function(t){return this._n.length,C.resolve()},e.prototype.hs=function(t,n){return this.cs(t)},e.prototype.cs=function(t){return this._n.length===0?0:t-this._n[0].batchId},e.prototype.os=function(t){var n=this.cs(t);return n<0||n>=this._n.length?null:this._n[n]},e}(),oN=function(){function e(t,n){this.Ut=t,this.ls=n,this.docs=new Qe(U.comparator),this.size=0}return e.prototype.addEntry=function(t,n,r){var i=n.key,o=this.docs.get(i),s=o?o.size:0,u=this.ls(n);return this.docs=this.docs.insert(i,{document:n.clone(),size:u,readTime:r}),this.size+=u-s,this.Ut.addToCollectionParentIndex(t,i.path.popLast())},e.prototype.removeEntry=function(t){var n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)},e.prototype.getEntry=function(t,n){var r=this.docs.get(n);return C.resolve(r?r.document.clone():Ge.newInvalidDocument(n))},e.prototype.getEntries=function(t,n){var r=this,i=Ht();return n.forEach(function(o){var s=r.docs.get(o);i=i.insert(o,s?s.document.clone():Ge.newInvalidDocument(o))}),C.resolve(i)},e.prototype.getDocumentsMatchingQuery=function(t,n,r){for(var i=Ht(),o=new U(n.path.child("")),s=this.docs.getIteratorFrom(o);s.hasNext();){var u=s.getNext(),a=u.key,l=u.value,c=l.document,f=l.readTime;if(!n.path.isPrefixOf(a.path))break;f.compareTo(r)<=0||Vs(n,c)&&(i=i.insert(c.key,c.clone()))}return C.resolve(i)},e.prototype.fs=function(t,n){return C.forEach(this.docs,function(r){return n(r)})},e.prototype.newChangeBuffer=function(t){return new sN(this)},e.prototype.getSize=function(t){return C.resolve(this.size)},e}(),sN=function(e){function t(n){var r=this;return(r=e.call(this)||this).Ie=n,r}return V(t,e),t.prototype.applyChanges=function(n){var r=this,i=[];return this.changes.forEach(function(o,s){s.document.isValidDocument()?i.push(r.Ie.addEntry(n,s.document,r.getReadTime(o))):r.Ie.removeEntry(o)}),C.waitFor(i)},t.prototype.getFromCache=function(n,r){return this.Ie.getEntry(n,r)},t.prototype.getAllFromCache=function(n,r){return this.Ie.getEntries(n,r)},t}(p1),uN=function(){function e(t){this.persistence=t,this.ds=new io(function(n){return Fs(n)},fl),this.lastRemoteSnapshotVersion=W.min(),this.highestTargetId=0,this.ws=0,this._s=new Pd,this.targetCount=0,this.ys=Na.Jt()}return e.prototype.forEachTarget=function(t,n){return this.ds.forEach(function(r,i){return n(i)}),C.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(t){return C.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(t){return C.resolve(this.ws)},e.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),C.resolve(this.highestTargetId)},e.prototype.setTargetsMetadata=function(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ws&&(this.ws=n),C.resolve()},e.prototype.te=function(t){this.ds.set(t.target,t);var n=t.targetId;n>this.highestTargetId&&(this.ys=new Na(n),this.highestTargetId=n),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},e.prototype.addTargetData=function(t,n){return this.te(n),this.targetCount+=1,C.resolve()},e.prototype.updateTargetData=function(t,n){return this.te(n),C.resolve()},e.prototype.removeTargetData=function(t,n){return this.ds.delete(n.target),this._s.Zn(n.targetId),this.targetCount-=1,C.resolve()},e.prototype.removeTargets=function(t,n,r){var i=this,o=0,s=[];return this.ds.forEach(function(u,a){a.sequenceNumber<=n&&r.get(a.targetId)===null&&(i.ds.delete(u),s.push(i.removeMatchingKeysForTargetId(t,a.targetId)),o++)}),C.waitFor(s).next(function(){return o})},e.prototype.getTargetCount=function(t){return C.resolve(this.targetCount)},e.prototype.getTargetData=function(t,n){var r=this.ds.get(n)||null;return C.resolve(r)},e.prototype.addMatchingKeys=function(t,n,r){return this._s.Jn(n,r),C.resolve()},e.prototype.removeMatchingKeys=function(t,n,r){this._s.Xn(n,r);var i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(function(s){o.push(i.markPotentiallyOrphaned(t,s))}),C.waitFor(o)},e.prototype.removeMatchingKeysForTargetId=function(t,n){return this._s.Zn(n),C.resolve()},e.prototype.getMatchingKeysForTargetId=function(t,n){var r=this._s.es(n);return C.resolve(r)},e.prototype.containsKey=function(t,n){return C.resolve(this._s.containsKey(n))},e}(),aN=function(){function e(t,n){var r=this;this.gs={},this.Ne=new _t(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new uN(this),this.Ut=new $C,this.Ue=function(i,o){return new oN(i,function(s){return r.referenceDelegate.ps(s)})}(this.Ut),this.R=new u1(n),this.Qe=new rN(this.R)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(){},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getMutationQueue=function(t){var n=this.gs[t.toKey()];return n||(n=new iN(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=n),n},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getBundleCache=function(){return this.Qe},e.prototype.runTransaction=function(t,n,r){var i=this;b("MemoryPersistence","Starting transaction:",t);var o=new lN(this.Ne.next());return this.referenceDelegate.Es(),r(o).next(function(s){return i.referenceDelegate.Ts(o).next(function(){return s})}).toPromise().then(function(s){return o.raiseOnCommittedEvent(),s})},e.prototype.Is=function(t,n){return C.or(Object.values(this.gs).map(function(r){return function(){return r.containsKey(t,n)}}))},e}(),lN=function(e){function t(n){var r=this;return(r=e.call(this)||this).currentSequenceNumber=n,r}return V(t,e),t}(o1),cN=function(){function e(t){this.persistence=t,this.As=new Pd,this.Rs=null}return e.bs=function(t){return new e(t)},Object.defineProperty(e.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw M()},enumerable:!1,configurable:!0}),e.prototype.addReference=function(t,n,r){return this.As.addReference(r,n),this.vs.delete(r.toString()),C.resolve()},e.prototype.removeReference=function(t,n,r){return this.As.removeReference(r,n),this.vs.add(r.toString()),C.resolve()},e.prototype.markPotentiallyOrphaned=function(t,n){return this.vs.add(n.toString()),C.resolve()},e.prototype.removeTarget=function(t,n){var r=this;this.As.Zn(n.targetId).forEach(function(o){return r.vs.add(o.toString())});var i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,n.targetId).next(function(o){o.forEach(function(s){return r.vs.add(s.toString())})}).next(function(){return i.removeTargetData(t,n)})},e.prototype.Es=function(){this.Rs=new Set},e.prototype.Ts=function(t){var n=this,r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return C.forEach(this.vs,function(i){var o=U.fromPath(i);return n.Ps(t,o).next(function(s){s||r.removeEntry(o)})}).next(function(){return n.Rs=null,r.apply(t)})},e.prototype.updateLimboDocument=function(t,n){var r=this;return this.Ps(t,n).next(function(i){i?r.vs.delete(n.toString()):r.vs.add(n.toString())})},e.prototype.ps=function(t){return 0},e.prototype.Ps=function(t,n){var r=this;return C.or([function(){return C.resolve(r.As.containsKey(n))},function(){return r.persistence.getTargetCache().containsKey(t,n)},function(){return r.persistence.Is(t,n)}])},e}(),at=function(){function e(t){this.uid=t}return e.prototype.isAuthenticated=function(){return this.uid!=null},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(t){return t.uid===this.uid},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ym(e,t){return"firestore_clients_"+e+"_"+t}function gm(e,t,n){var r="firestore_mutations_"+e+"_"+n;return t.isAuthenticated()&&(r+="_"+t.uid),r}function vc(e,t){return"firestore_targets_"+e+"_"+t}at.UNAUTHENTICATED=new at(null),at.GOOGLE_CREDENTIALS=new at("google-credentials-uid"),at.FIRST_PARTY=new at("first-party-uid");var wm=function(){function e(t,n,r,i){this.user=t,this.batchId=n,this.state=r,this.error=i}return e.Vs=function(t,n,r){var i,o=JSON.parse(r),s=typeof o=="object"&&["pending","acknowledged","rejected"].indexOf(o.state)!==-1&&(o.error===void 0||typeof o.error=="object");return s&&o.error&&(s=typeof o.error.message=="string"&&typeof o.error.code=="string")&&(i=new k(o.error.code,o.error.message)),s?new e(t,n,o.state,i):(Se("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),mc=function(){function e(t,n,r){this.targetId=t,this.state=n,this.error=r}return e.Vs=function(t,n){var r,i=JSON.parse(n),o=typeof i=="object"&&["not-current","current","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return o&&i.error&&(o=typeof i.error.message=="string"&&typeof i.error.code=="string")&&(r=new k(i.error.code,i.error.message)),o?new e(t,i.state,r):(Se("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),Em=function(){function e(t,n){this.clientId=t,this.activeTargetIds=n}return e.Vs=function(t,n){for(var r=JSON.parse(n),i=typeof r=="object"&&r.activeTargetIds instanceof Array,o=pl(),s=0;i&&s<r.activeTargetIds.length;++s)i=Dw(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new e(t,o):(Se("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),fN=function(){function e(t,n){this.clientId=t,this.onlineState=n}return e.Vs=function(t){var n=JSON.parse(t);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new e(n.clientId,n.onlineState):(Se("SharedClientState","Failed to parse online state: "+t),null)},e}(),Uf=function(){function e(){this.activeTargetIds=pl()}return e.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},e.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},e.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},e}(),yc=function(){function e(t,n,r,i,o){this.window=t,this.Se=n,this.persistenceKey=r,this.Ns=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new Qe(H),this.started=!1,this.Os=[];var s=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.$s=ym(this.persistenceKey,this.Ns),this.Ms=function(u){return"firestore_sequence_number_"+u}(this.persistenceKey),this.ks=this.ks.insert(this.Ns,new Uf),this.Ls=new RegExp("^firestore_clients_"+s+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+s+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+s+"_(\\d+)$"),this.Us=function(u){return"firestore_online_state_"+u}(this.persistenceKey),this.Qs=function(u){return"firestore_bundle_loaded_"+u}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return e.yt=function(t){return!(!t||!t.localStorage)},e.prototype.start=function(){return T(this,void 0,void 0,function(){var t,n,r,i,o,s,u,a,l,c,f,h=this;return I(this,function(p){switch(p.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=p.sent(),n=0,r=t;n<r.length;n++)(i=r[n])!==this.Ns&&(o=this.getItem(ym(this.persistenceKey,i)))&&(s=Em.Vs(i,o))&&(this.ks=this.ks.insert(s.clientId,s));for(this.Ks(),(u=this.storage.getItem(this.Us))&&(a=this.js(u))&&this.Ws(a),l=0,c=this.Os;l<c.length;l++)f=c[l],this.Fs(f);return this.Os=[],this.window.addEventListener("unload",function(){return h.shutdown()}),this.started=!0,[2]}})})},e.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},e.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},e.prototype.isActiveQueryTarget=function(t){var n=!1;return this.ks.forEach(function(r,i){i.activeTargetIds.has(t)&&(n=!0)}),n},e.prototype.addPendingMutation=function(t){this.zs(t,"pending")},e.prototype.updateMutationState=function(t,n,r){this.zs(t,n,r),this.Hs(t)},e.prototype.addLocalQueryTarget=function(t){var n="not-current";if(this.isActiveQueryTarget(t)){var r=this.storage.getItem(vc(this.persistenceKey,t));if(r){var i=mc.Vs(t,r);i&&(n=i.state)}}return this.Js.Ds(t),this.Ks(),n},e.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Ks()},e.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},e.prototype.clearQueryState=function(t){this.removeItem(vc(this.persistenceKey,t))},e.prototype.updateQueryState=function(t,n,r){this.Ys(t,n,r)},e.prototype.handleUserChange=function(t,n,r){var i=this;n.forEach(function(o){i.Hs(o)}),this.currentUser=t,r.forEach(function(o){i.addPendingMutation(o)})},e.prototype.setOnlineState=function(t){this.Xs(t)},e.prototype.notifyBundleLoaded=function(){this.Zs()},e.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.$s),this.started=!1)},e.prototype.getItem=function(t){var n=this.storage.getItem(t);return b("SharedClientState","READ",t,n),n},e.prototype.setItem=function(t,n){b("SharedClientState","SET",t,n),this.storage.setItem(t,n)},e.prototype.removeItem=function(t){b("SharedClientState","REMOVE",t),this.storage.removeItem(t)},e.prototype.Fs=function(t){var n=this,r=t;if(r.storageArea===this.storage){if(b("SharedClientState","EVENT",r.key,r.newValue),r.key===this.$s)return void Se("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return T(n,void 0,void 0,function(){var i,o,s,u,a,l;return I(this,function(c){if(this.started){if(r.key!==null){if(this.Ls.test(r.key)){if(r.newValue==null)return i=this.ti(r.key),[2,this.ei(i,null)];if(o=this.ni(r.key,r.newValue))return[2,this.ei(o.clientId,o)]}else if(this.Bs.test(r.key)){if(r.newValue!==null&&(s=this.si(r.key,r.newValue)))return[2,this.ii(s)]}else if(this.qs.test(r.key)){if(r.newValue!==null&&(u=this.ri(r.key,r.newValue)))return[2,this.oi(u)]}else if(r.key===this.Us){if(r.newValue!==null&&(a=this.js(r.newValue)))return[2,this.Ws(a)]}else if(r.key===this.Ms)(l=function(f){var h=_t.o;if(f!=null)try{var p=JSON.parse(f);j(typeof p=="number"),h=p}catch(m){Se("SharedClientState","Failed to read sequence number from WebStorage",m)}return h}(r.newValue))!==_t.o&&this.sequenceNumberHandler(l);else if(r.key===this.Qs)return[2,this.syncEngine.ci()]}}else this.Os.push(r);return[2]})})})}},Object.defineProperty(e.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),e.prototype.Ks=function(){this.setItem(this.$s,this.Js.Ss())},e.prototype.zs=function(t,n,r){var i=new wm(this.currentUser,t,n,r),o=gm(this.persistenceKey,this.currentUser,t);this.setItem(o,i.Ss())},e.prototype.Hs=function(t){var n=gm(this.persistenceKey,this.currentUser,t);this.removeItem(n)},e.prototype.Xs=function(t){var n={clientId:this.Ns,onlineState:t};this.storage.setItem(this.Us,JSON.stringify(n))},e.prototype.Ys=function(t,n,r){var i=vc(this.persistenceKey,t),o=new mc(t,n,r);this.setItem(i,o.Ss())},e.prototype.Zs=function(){this.setItem(this.Qs,"value-not-used")},e.prototype.ti=function(t){var n=this.Ls.exec(t);return n?n[1]:null},e.prototype.ni=function(t,n){var r=this.ti(t);return Em.Vs(r,n)},e.prototype.si=function(t,n){var r=this.Bs.exec(t),i=Number(r[1]),o=r[2]!==void 0?r[2]:null;return wm.Vs(new at(o),i,n)},e.prototype.ri=function(t,n){var r=this.qs.exec(t),i=Number(r[1]);return mc.Vs(i,n)},e.prototype.js=function(t){return fN.Vs(t)},e.prototype.ii=function(t){return T(this,void 0,void 0,function(){return I(this,function(n){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(b("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},e.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},e.prototype.ei=function(t,n){var r=this,i=n?this.ks.insert(t,n):this.ks.remove(t),o=this.Gs(this.ks),s=this.Gs(i),u=[],a=[];return s.forEach(function(l){o.has(l)||u.push(l)}),o.forEach(function(l){s.has(l)||a.push(l)}),this.syncEngine.hi(u,a).then(function(){r.ks=i})},e.prototype.Ws=function(t){this.ks.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},e.prototype.Gs=function(t){var n=pl();return t.forEach(function(r,i){n=n.unionWith(i.activeTargetIds)}),n},e}(),_1=function(){function e(){this.li=new Uf,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(t){},e.prototype.updateMutationState=function(t,n,r){},e.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},e.prototype.updateQueryState=function(t,n,r){this.fi[t]=n},e.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},e.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},e.prototype.clearQueryState=function(t){delete this.fi[t]},e.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},e.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},e.prototype.start=function(){return this.li=new Uf,Promise.resolve()},e.prototype.handleUserChange=function(t,n,r){},e.prototype.setOnlineState=function(t){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(t){},e.prototype.notifyBundleLoaded=function(){},e}(),hN=function(){function e(){}return e.prototype.di=function(t){},e.prototype.shutdown=function(){},e}(),Sm=function(){function e(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return e.prototype.di=function(t){this.gi.push(t)},e.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},e.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},e.prototype._i=function(){b("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,n=this.gi;t<n.length;t++)(0,n[t])(0)},e.prototype.yi=function(){b("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,n=this.gi;t<n.length;t++)(0,n[t])(1)},e.yt=function(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0},e}(),dN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},pN=function(){function e(t){this.Ei=t.Ei,this.Ti=t.Ti}return e.prototype.Ii=function(t){this.Ai=t},e.prototype.Ri=function(t){this.bi=t},e.prototype.onMessage=function(t){this.vi=t},e.prototype.close=function(){this.Ti()},e.prototype.send=function(t){this.Ei(t)},e.prototype.Pi=function(){this.Ai()},e.prototype.Vi=function(t){this.bi(t)},e.prototype.Si=function(t){this.vi(t)},e}(),vN=function(e){function t(n){var r=this;return(r=e.call(this,n)||this).forceLongPolling=n.forceLongPolling,r.autoDetectLongPolling=n.autoDetectLongPolling,r}return V(t,e),t.prototype.ki=function(n,r,i,o){return new Promise(function(s,u){var a=new Kk;a.listenOnce(Bk.COMPLETE,function(){try{switch(a.getLastErrorCode()){case dc.NO_ERROR:var c=a.getResponseJson();b("Connection","XHR received:",JSON.stringify(c)),s(c);break;case dc.TIMEOUT:b("Connection",'RPC "'+n+'" timed out'),u(new k(S.DEADLINE_EXCEEDED,"Request time out"));break;case dc.HTTP_ERROR:var f=a.getStatus();if(b("Connection",'RPC "'+n+'" failed with status:',f,"response text:",a.getResponseText()),f>0){var h=a.getResponseJson().error;if(h&&h.status&&h.message){var p=function(m){var g=m.toLowerCase().replace(/_/g,"-");return Object.values(S).indexOf(g)>=0?g:S.UNKNOWN}(h.status);u(new k(p,h.message))}else u(new k(S.UNKNOWN,"Server responded with status "+a.getStatus()))}else u(new k(S.UNAVAILABLE,"Connection failed."));break;default:M()}}finally{b("Connection",'RPC "'+n+'" completed.')}});var l=JSON.stringify(o);a.send(r,"POST",l,i,15)})},t.prototype.$i=function(n,r){var i=[this.Di,"/","google.firestore.v1.Firestore","/",n,"/channel"],o=jk(),s=zk(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.Fi(u.initMessageHeaders,r),QI()||ZI()||eT()||tT()||nT()||JI()||(u.httpHeadersOverwriteParam="$httpHeaders");var a=i.join("");b("Connection","Creating WebChannel: "+a,u);var l=o.createWebChannel(a,u),c=!1,f=!1,h=new pN({Ei:function(m){f?b("Connection","Not sending because WebChannel is closed:",m):(c||(b("Connection","Opening WebChannel transport."),l.open(),c=!0),b("Connection","WebChannel sending:",m),l.send(m))},Ti:function(){return l.close()}}),p=function(m,g,w){m.listen(g,function(v){try{w(v)}catch(d){setTimeout(function(){throw d},0)}})};return p(l,vu.EventType.OPEN,function(){f||b("Connection","WebChannel transport opened.")}),p(l,vu.EventType.CLOSE,function(){f||(f=!0,b("Connection","WebChannel transport closed"),h.Vi())}),p(l,vu.EventType.ERROR,function(m){f||(f=!0,Df("Connection","WebChannel transport errored:",m),h.Vi(new k(S.UNAVAILABLE,"The operation could not be completed")))}),p(l,vu.EventType.MESSAGE,function(m){var g;if(!f){var w=m.data[0];j(!!w);var v=w,d=v.error||((g=v[0])===null||g===void 0?void 0:g.error);if(d){b("Connection","WebChannel received error:",d);var y=d.status,E=function(x){var D=ge[x];if(D!==void 0)return Ww(D)}(y),_=d.message;E===void 0&&(E=S.INTERNAL,_="Unknown error status: "+y+" with message "+d.message),f=!0,h.Vi(new k(E,_)),l.close()}else b("Connection","WebChannel received:",w),h.Si(w)}}),p(s,qk.STAT_EVENT,function(m){m.stat===$v.PROXY?b("Connection","Detected buffering proxy"):m.stat===$v.NOPROXY&&b("Connection","Detected no buffering proxy")}),setTimeout(function(){h.Pi()},0),h},t}(function(){function e(t){this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.Di=n+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return e.prototype.Ni=function(t,n,r,i){var o=this.xi(t,n);b("RestConnection","Sending: ",o,r);var s={};return this.Fi(s,i),this.ki(t,o,s,r).then(function(u){return b("RestConnection","Received: ",u),u},function(u){throw Df("RestConnection",t+" failed with error: ",u,"url: ",o,"request:",r),u})},e.prototype.Oi=function(t,n,r,i){return this.Ni(t,n,r,i)},e.prototype.Fi=function(t,n){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.5.0",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n)for(var r in n.authHeaders)n.authHeaders.hasOwnProperty(r)&&(t[r]=n.authHeaders[r])},e.prototype.xi=function(t,n){var r=dN[t];return this.Di+"/v1/"+n+":"+r},e}());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I1(){return typeof window<"u"?window:null}function Mu(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ml(e){return new SC(e,!0)}var Rd=function(){function e(t,n,r,i,o){r===void 0&&(r=1e3),i===void 0&&(i=1.5),o===void 0&&(o=6e4),this.Se=t,this.timerId=n,this.Mi=r,this.Li=i,this.Bi=o,this.qi=0,this.Ui=null,this.Qi=Date.now(),this.reset()}return e.prototype.reset=function(){this.qi=0},e.prototype.Ki=function(){this.qi=this.Bi},e.prototype.ji=function(t){var n=this;this.cancel();var r=Math.floor(this.qi+this.Wi()),i=Math.max(0,Date.now()-this.Qi),o=Math.max(0,r-i);o>0&&b("ExponentialBackoff","Backing off for "+o+" ms (base delay: "+this.qi+" ms, delay with jitter: "+r+" ms, last attempt: "+i+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,o,function(){return n.Qi=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},e.prototype.Gi=function(){this.Ui!==null&&(this.Ui.skipDelay(),this.Ui=null)},e.prototype.cancel=function(){this.Ui!==null&&(this.Ui.cancel(),this.Ui=null)},e.prototype.Wi=function(){return(Math.random()-.5)*this.qi},e}(),T1=function(){function e(t,n,r,i,o,s){this.Se=t,this.zi=r,this.Hi=i,this.Ji=o,this.listener=s,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new Rd(t,n)}return e.prototype.tr=function(){return this.state===1||this.state===2||this.state===4},e.prototype.er=function(){return this.state===2},e.prototype.start=function(){this.state!==3?this.auth():this.nr()},e.prototype.stop=function(){return T(this,void 0,void 0,function(){return I(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},e.prototype.sr=function(){this.state=0,this.Zi.reset()},e.prototype.ir=function(){var t=this;this.er()&&this.Xi===null&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},e.prototype.cr=function(t){this.ur(),this.stream.send(t)},e.prototype.rr=function(){return T(this,void 0,void 0,function(){return I(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},e.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},e.prototype.close=function(t,n){return T(this,void 0,void 0,function(){return I(this,function(r){switch(r.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,t!==3?this.Zi.reset():n&&n.code===S.RESOURCE_EXHAUSTED?(Se(n.toString()),Se("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Ki()):n&&n.code===S.UNAUTHENTICATED&&this.Ji.invalidateToken(),this.stream!==null&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(n)];case 1:return r.sent(),[2]}})})},e.prototype.ar=function(){},e.prototype.auth=function(){var t=this;this.state=1;var n=this.hr(this.Yi),r=this.Yi;this.Ji.getToken().then(function(i){t.Yi===r&&t.lr(i)},function(i){n(function(){var o=new k(S.UNKNOWN,"Fetching auth token failed: "+i.message);return t.dr(o)})})},e.prototype.lr=function(t){var n=this,r=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){r(function(){return n.state=2,n.listener.Ii()})}),this.stream.Ri(function(i){r(function(){return n.dr(i)})}),this.stream.onMessage(function(i){r(function(){return n.onMessage(i)})})},e.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return T(t,void 0,void 0,function(){return I(this,function(n){return this.state=0,this.start(),[2]})})})},e.prototype.dr=function(t){return b("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},e.prototype.hr=function(t){var n=this;return function(r){n.Se.enqueueAndForget(function(){return n.Yi===t?r():(b("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},e}(),mN=function(e){function t(n,r,i,o,s){var u=this;return(u=e.call(this,n,"listen_stream_connection_backoff","listen_stream_idle",r,i,s)||this).R=o,u}return V(t,e),t.prototype.wr=function(n){return this.Hi.$i("Listen",n)},t.prototype.onMessage=function(n){this.Zi.reset();var r=function(o,s){var u;if("targetChange"in s){s.targetChange;var a=function(w){return w==="NO_CHANGE"?0:w==="ADD"?1:w==="REMOVE"?2:w==="CURRENT"?3:w==="RESET"?4:M()}(s.targetChange.targetChangeType||"NO_CHANGE"),l=s.targetChange.targetIds||[],c=function(w,v){return w.I?(j(v===void 0||typeof v=="string"),vt.fromBase64String(v||"")):(j(v===void 0||v instanceof Uint8Array),vt.fromUint8Array(v||new Uint8Array))}(o,s.targetChange.resumeToken),f=(h=s.targetChange.cause)&&function(w){var v=w.code===void 0?S.UNKNOWN:Ww(w.code);return new k(v,w.message||"")}(h);u=new Gw(a,l,c,f||null)}else if("documentChange"in s){s.documentChange,(a=s.documentChange).document,a.document.name,a.document.updateTime,l=pn(o,a.document.name),c=tt(a.document.updateTime);var h=new Et({mapValue:{fields:a.document.fields}}),p=(f=Ge.newFoundDocument(l,c,h),a.targetIds||[]),m=a.removedTargetIds||[];u=new Lu(p,m,f.key,f)}else if("documentDelete"in s)s.documentDelete,(a=s.documentDelete).document,l=pn(o,a.document),c=a.readTime?tt(a.readTime):W.min(),h=Ge.newNoDocument(l,c),f=a.removedTargetIds||[],u=new Lu([],f,h.key,h);else if("documentRemove"in s)s.documentRemove,(a=s.documentRemove).document,l=pn(o,a.document),c=a.removedTargetIds||[],u=new Lu([],c,l,null);else{if(!("filter"in s))return M();s.filter;var g=s.filter;g.targetId,a=g.count||0,l=new fC(a),c=g.targetId,u=new Hw(c,l)}return u}(this.R,n),i=function(o){if(!("targetChange"in o))return W.min();var s=o.targetChange;return s.targetIds&&s.targetIds.length?W.min():s.readTime?tt(s.readTime):W.min()}(n);return this.listener._r(r,i)},t.prototype.mr=function(n){var r={};r.database=vs(this.R),r.addTarget=function(o,s){var u,a=s.target;return(u=_a(a)?{documents:Zw(o,a)}:{query:e1(o,a)}).targetId=s.targetId,s.resumeToken.approximateByteSize()>0?u.resumeToken=Qw(o,s.resumeToken):s.snapshotVersion.compareTo(W.min())>0&&(u.readTime=ds(o,s.snapshotVersion.toTimestamp())),u}(this.R,n);var i=function(o,s){var u=function(a,l){switch(l){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return M()}}(0,s.purpose);return u==null?null:{"goog-listen-tags":u}}(this.R,n);i&&(r.labels=i),this.cr(r)},t.prototype.yr=function(n){var r={};r.database=vs(this.R),r.removeTarget=n,this.cr(r)},t}(T1),yN=function(e){function t(n,r,i,o,s){var u=this;return(u=e.call(this,n,"write_stream_connection_backoff","write_stream_idle",r,i,s)||this).R=o,u.gr=!1,u}return V(t,e),Object.defineProperty(t.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.ar=function(){this.gr&&this.Er([])},t.prototype.wr=function(n){return this.Hi.$i("Write",n)},t.prototype.onMessage=function(n){if(j(!!n.streamToken),this.lastStreamToken=n.streamToken,this.gr){this.Zi.reset();var r=function(o,s){return o&&o.length>0?(j(s!==void 0),o.map(function(u){return function(a,l){var c=a.updateTime?tt(a.updateTime):tt(l);return c.isEqual(W.min())&&(c=tt(l)),new aC(c,a.transformResults||[])}(u,s)})):[]}(n.writeResults,n.commitTime),i=tt(n.commitTime);return this.listener.Tr(i,r)}return j(!n.writeResults||n.writeResults.length===0),this.gr=!0,this.listener.Ir()},t.prototype.Ar=function(){var n={};n.database=vs(this.R),this.cr(n)},t.prototype.Er=function(n){var r=this,i={streamToken:this.lastStreamToken,writes:n.map(function(o){return ka(r.R,o)})};this.cr(i)},t}(T1),gN=function(e){function t(n,r,i){var o=this;return(o=e.call(this)||this).credentials=n,o.Hi=r,o.R=i,o.Rr=!1,o}return V(t,e),t.prototype.br=function(){if(this.Rr)throw new k(S.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ni=function(n,r,i){var o=this;return this.br(),this.credentials.getToken().then(function(s){return o.Hi.Ni(n,r,i,s)}).catch(function(s){throw s.name==="FirebaseError"?(s.code===S.UNAUTHENTICATED&&o.credentials.invalidateToken(),s):new k(S.UNKNOWN,s.toString())})},t.prototype.Oi=function(n,r,i){var o=this;return this.br(),this.credentials.getToken().then(function(s){return o.Hi.Oi(n,r,i,s)}).catch(function(s){throw s.name==="FirebaseError"?(s.code===S.UNAUTHENTICATED&&o.credentials.invalidateToken(),s):new k(S.UNKNOWN,s.toString())})},t.prototype.terminate=function(){this.Rr=!0},t}(function(){}),wN=function(){function e(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return e.prototype.Sr=function(){var t=this;this.vr===0&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},e.prototype.Nr=function(t){this.state==="Online"?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},e.prototype.set=function(t){this.Fr(),this.vr=0,t==="Online"&&(this.Vr=!1),this.Dr(t)},e.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},e.prototype.Cr=function(t){var n="Could not reach Cloud Firestore backend. "+t+`
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Vr?(Se(n),this.Vr=!1):b("OnlineStateTracker",n)},e.prototype.Fr=function(){this.Pr!==null&&(this.Pr.cancel(),this.Pr=null)},e}(),EN=function(e,t,n,r,i){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.Or=new Map,this.$r=new Set,this.Mr=[],this.Lr=i,this.Lr.di(function(s){n.enqueueAndForget(function(){return T(o,void 0,void 0,function(){return I(this,function(u){switch(u.label){case 0:return fr(this)?(b("RemoteStore","Restarting streams for network reachability change."),[4,function(a){return T(this,void 0,void 0,function(){var l;return I(this,function(c){switch(c.label){case 0:return(l=P(a)).$r.add(4),[4,oo(l)];case 1:return c.sent(),l.Br.set("Unknown"),l.$r.delete(4),[4,qs(l)];case 2:return c.sent(),[2]}})})}(this)]):[3,2];case 1:u.sent(),u.label=2;case 2:return[2]}})})})}),this.Br=new wN(n,r)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qs(e){return T(this,void 0,void 0,function(){var t,n;return I(this,function(r){switch(r.label){case 0:if(!fr(e))return[3,4];t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function oo(e){return T(this,void 0,void 0,function(){var t,n;return I(this,function(r){switch(r.label){case 0:t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function yl(e,t){var n=P(e);n.Or.has(t.targetId)||(n.Or.set(t.targetId,t),Md(n)?Ld(n):uo(n).er()&&Od(n,t))}function ms(e,t){var n=P(e),r=uo(n);n.Or.delete(t),r.er()&&k1(n,t),n.Or.size===0&&(r.er()?r.ir():fr(n)&&n.Br.set("Unknown"))}function Od(e,t){e.qr.U(t.targetId),uo(e).mr(t)}function k1(e,t){e.qr.U(t),uo(e).yr(t)}function Ld(e){e.qr=new gC({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.Or.get(t)||null}}),uo(e).start(),e.Br.Sr()}function Md(e){return fr(e)&&!uo(e).tr()&&e.Or.size>0}function fr(e){return P(e).$r.size===0}function C1(e){e.qr=void 0}function SN(e){return T(this,void 0,void 0,function(){return I(this,function(t){return e.Or.forEach(function(n,r){Od(e,n)}),[2]})})}function _N(e,t){return T(this,void 0,void 0,function(){return I(this,function(n){return C1(e),Md(e)?(e.Br.Nr(t),Ld(e)):e.Br.set("Unknown"),[2]})})}function IN(e,t,n){return T(this,void 0,void 0,function(){var r,i,o;return I(this,function(s){switch(s.label){case 0:if(e.Br.set("Online"),!(t instanceof Gw&&t.state===2&&t.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(u,a){return T(this,void 0,void 0,function(){var l,c,f,h;return I(this,function(p){switch(p.label){case 0:l=a.cause,c=0,f=a.targetIds,p.label=1;case 1:return c<f.length?(h=f[c],u.Or.has(h)?[4,u.remoteSyncer.rejectListen(h,l)]:[3,3]):[3,5];case 2:p.sent(),u.Or.delete(h),u.qr.removeTarget(h),p.label=3;case 3:p.label=4;case 4:return c++,[3,1];case 5:return[2]}})})}(e,t)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),b("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),[4,Da(e,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof Lu?e.qr.X(t):t instanceof Hw?e.qr.rt(t):e.qr.et(t),n.isEqual(W.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,w1(e.localStore)];case 8:return i=s.sent(),n.compareTo(i)>=0?[4,function(u,a){var l=u.qr.ut(a);return l.targetChanges.forEach(function(c,f){if(c.resumeToken.approximateByteSize()>0){var h=u.Or.get(f);h&&u.Or.set(f,h.withResumeToken(c.resumeToken,a))}}),l.targetMismatches.forEach(function(c){var f=u.Or.get(c);if(f){u.Or.set(c,f.withResumeToken(vt.EMPTY_BYTE_STRING,f.snapshotVersion)),k1(u,c);var h=new vl(f.target,c,1,f.sequenceNumber);Od(u,h)}}),u.remoteSyncer.applyRemoteEvent(l)}(e,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return b("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,Da(e,o)];case 12:return s.sent(),[3,13];case 13:return[2]}})})}function Da(e,t,n){return T(this,void 0,void 0,function(){var r=this;return I(this,function(i){switch(i.label){case 0:if(!Hr(t))throw t;return e.$r.add(1),[4,oo(e)];case 1:return i.sent(),e.Br.set("Offline"),n||(n=function(){return w1(e.localStore)}),e.asyncQueue.enqueueRetryable(function(){return T(r,void 0,void 0,function(){return I(this,function(o){switch(o.label){case 0:return b("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return o.sent(),e.$r.delete(1),[4,qs(e)];case 2:return o.sent(),[2]}})})}),[2]}})})}function N1(e,t){return t().catch(function(n){return Da(e,n,t)})}function so(e){return T(this,void 0,void 0,function(){var t,n,r,i,o;return I(this,function(s){switch(s.label){case 0:t=P(e),n=ir(t),r=t.kr.length>0?t.kr[t.kr.length-1].batchId:-1,s.label=1;case 1:if(!function(u){return fr(u)&&u.kr.length<10}(t))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,tN(t.localStore,r)];case 3:return(i=s.sent())===null?(t.kr.length===0&&n.ir(),[3,7]):(r=i.batchId,function(u,a){u.kr.push(a);var l=ir(u);l.er()&&l.pr&&l.Er(a.mutations)}(t,i),[3,6]);case 4:return o=s.sent(),[4,Da(t,o)];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return x1(t)&&b1(t),[2]}})})}function x1(e){return fr(e)&&!ir(e).tr()&&e.kr.length>0}function b1(e){ir(e).start()}function TN(e){return T(this,void 0,void 0,function(){return I(this,function(t){return ir(e).Ar(),[2]})})}function kN(e){return T(this,void 0,void 0,function(){var t,n,r,i;return I(this,function(o){for(t=ir(e),n=0,r=e.kr;n<r.length;n++)i=r[n],t.Er(i.mutations);return[2]})})}function CN(e,t,n){return T(this,void 0,void 0,function(){var r,i;return I(this,function(o){switch(o.label){case 0:return r=e.kr.shift(),i=MC.from(r,t,n),[4,N1(e,function(){return e.remoteSyncer.applySuccessfulWrite(i)})];case 1:return o.sent(),[4,so(e)];case 2:return o.sent(),[2]}})})}function NN(e,t){return T(this,void 0,void 0,function(){return I(this,function(n){switch(n.label){case 0:return t&&ir(e).pr?[4,function(r,i){return T(this,void 0,void 0,function(){var o,s;return I(this,function(u){switch(u.label){case 0:return Kw(s=i.code)&&s!==S.ABORTED?(o=r.kr.shift(),ir(r).sr(),[4,N1(r,function(){return r.remoteSyncer.rejectFailedWrite(o.batchId,i)})]):[3,3];case 1:return u.sent(),[4,so(r)];case 2:u.sent(),u.label=3;case 3:return[2]}})})}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return x1(e)&&b1(e),[2]}})})}function Vf(e,t){return T(this,void 0,void 0,function(){var n;return I(this,function(r){switch(r.label){case 0:return n=P(e),t?(n.$r.delete(2),[4,qs(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return t?[3,4]:(n.$r.add(2),[4,oo(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function uo(e){var t=this;return e.Ur||(e.Ur=function(n,r,i){var o=P(n);return o.br(),new mN(r,o.Hi,o.credentials,o.R,i)}(e.datastore,e.asyncQueue,{Ii:SN.bind(null,e),Ri:_N.bind(null,e),_r:IN.bind(null,e)}),e.Mr.push(function(n){return T(t,void 0,void 0,function(){return I(this,function(r){switch(r.label){case 0:return n?(e.Ur.sr(),Md(e)?Ld(e):e.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Ur.stop()];case 2:r.sent(),C1(e),r.label=3;case 3:return[2]}})})})),e.Ur}function ir(e){var t=this;return e.Qr||(e.Qr=function(n,r,i){var o=P(n);return o.br(),new yN(r,o.Hi,o.credentials,o.R,i)}(e.datastore,e.asyncQueue,{Ii:TN.bind(null,e),Ri:NN.bind(null,e),Ir:kN.bind(null,e),Tr:CN.bind(null,e)}),e.Mr.push(function(n){return T(t,void 0,void 0,function(){return I(this,function(r){switch(r.label){case 0:return n?(e.Qr.sr(),[4,so(e)]):[3,2];case 1:return r.sent(),[3,4];case 2:return[4,e.Qr.stop()];case 3:r.sent(),e.kr.length>0&&(b("RemoteStore","Stopping write stream with "+e.kr.length+" pending writes"),e.kr=[]),r.label=4;case 4:return[2]}})})})),e.Qr}var xN=function(){function e(t,n,r,i,o){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new bt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(s){})}return e.createAndSchedule=function(t,n,r,i,o){var s=new e(t,n,Date.now()+r,i,o);return s.start(r),s},e.prototype.start=function(t){var n=this;this.timerHandle=setTimeout(function(){return n.handleDelayElapsed()},t)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new k(S.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},e.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return t.timerHandle!==null?(t.clearTimeout(),t.op().then(function(n){return t.deferred.resolve(n)})):Promise.resolve()})},e.prototype.clearTimeout=function(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}();function ao(e,t){if(Se("AsyncQueue",t+": "+e),Hr(e))return new k(S.UNAVAILABLE,t+": "+e);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var D1=function(){function e(t){this.comparator=t?function(n,r){return t(n,r)||U.comparator(n.key,r.key)}:function(n,r){return U.comparator(n.key,r.key)},this.keyedMap=Mf(),this.sortedSet=new Qe(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(t){return this.keyedMap.get(t)!=null},e.prototype.get=function(t){return this.keyedMap.get(t)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(t){var n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(n,r){return t(n),!1})},e.prototype.add=function(t){var n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))},e.prototype.delete=function(t){var n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},e.prototype.toString=function(){var t=[];return this.forEach(function(n){t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`},e.prototype.copy=function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r},e}(),_m=function(){function e(){this.Kr=new Qe(U.comparator)}return e.prototype.track=function(t){var n=t.doc.key,r=this.Kr.get(n);r?t.type!==0&&r.type===3?this.Kr=this.Kr.insert(n,t):t.type===3&&r.type!==1?this.Kr=this.Kr.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.Kr=this.Kr.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.Kr=this.Kr.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.Kr=this.Kr.remove(n):t.type===1&&r.type===2?this.Kr=this.Kr.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.Kr=this.Kr.insert(n,{type:2,doc:t.doc}):M():this.Kr=this.Kr.insert(n,t)},e.prototype.jr=function(){var t=[];return this.Kr.inorderTraversal(function(n,r){t.push(r)}),t},e}(),Aa=function(){function e(t,n,r,i,o,s,u,a){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=u,this.excludesMetadataChanges=a}return e.fromInitialDocuments=function(t,n,r,i){var o=[];return n.forEach(function(s){o.push({type:0,doc:s})}),new e(t,n,D1.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Us(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0},e}(),bN=function(){this.Wr=void 0,this.listeners=[]},DN=function(){this.queries=new io(function(e){return Lw(e)},Us),this.onlineState="Unknown",this.Gr=new Set};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fd(e,t){return T(this,void 0,void 0,function(){var n,r,i,o,s,u,a;return I(this,function(l){switch(l.label){case 0:if(n=P(e),r=t.query,i=!1,(o=n.queries.get(r))||(i=!0,o=new bN),!i)return[3,4];l.label=1;case 1:return l.trys.push([1,3,,4]),s=o,[4,n.onListen(r)];case 2:return s.Wr=l.sent(),[3,4];case 3:return u=l.sent(),a=ao(u,"Initialization of query '"+Of(t.query)+"' failed"),[2,void t.onError(a)];case 4:return n.queries.set(r,o),o.listeners.push(t),t.zr(n.onlineState),o.Wr&&t.Hr(o.Wr)&&Ud(n),[2]}})})}function $d(e,t){return T(this,void 0,void 0,function(){var n,r,i,o,s;return I(this,function(u){return n=P(e),r=t.query,i=!1,(o=n.queries.get(r))&&(s=o.listeners.indexOf(t))>=0&&(o.listeners.splice(s,1),i=o.listeners.length===0),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function AN(e,t){for(var n=P(e),r=!1,i=0,o=t;i<o.length;i++){var s=o[i],u=s.query,a=n.queries.get(u);if(a){for(var l=0,c=a.listeners;l<c.length;l++)c[l].Hr(s)&&(r=!0);a.Wr=s}}r&&Ud(n)}function PN(e,t,n){var r=P(e),i=r.queries.get(t);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.queries.delete(t)}function Ud(e){e.Gr.forEach(function(t){t.next()})}var Vd=function(){function e(t,n,r){this.query=t,this.Jr=n,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=r||{}}return e.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var n=[],r=0,i=t.docChanges;r<i.length;r++){var o=i[r];o.type!==3&&n.push(o)}t=new Aa(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var s=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),s=!0):this.eo(t,this.onlineState)&&(this.no(t),s=!0),this.Xr=t,s},e.prototype.onError=function(t){this.Jr.error(t)},e.prototype.zr=function(t){this.onlineState=t;var n=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),n=!0),n},e.prototype.eo=function(t,n){if(!t.fromCache)return!0;var r=n!=="Offline";return!(this.options.so&&r||t.docs.isEmpty()&&n!=="Offline")},e.prototype.Zr=function(t){if(t.docChanges.length>0)return!0;var n=this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0},e.prototype.no=function(t){t=Aa.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var A1=function(e){this.key=e},P1=function(e){this.key=e},R1=function(){function e(t,n){this.query=t,this.uo=n,this.ao=null,this.current=!1,this.ho=re(),this.mutatedKeys=re(),this.lo=Mw(t),this.fo=new D1(this.lo)}return Object.defineProperty(e.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),e.prototype._o=function(t,n){var r=this,i=n?n.mo:new _m,o=n?n.fo:this.fo,s=n?n.mutatedKeys:this.mutatedKeys,u=o,a=!1,l=Ru(this.query)&&o.size===this.query.limit?o.last():null,c=Ta(this.query)&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(function(h,p){var m=o.get(h),g=Vs(r.query,p)?p:null,w=!!m&&r.mutatedKeys.has(m.key),v=!!g&&(g.hasLocalMutations||r.mutatedKeys.has(g.key)&&g.hasCommittedMutations),d=!1;m&&g?m.data.isEqual(g.data)?w!==v&&(i.track({type:3,doc:g}),d=!0):r.yo(m,g)||(i.track({type:2,doc:g}),d=!0,(l&&r.lo(g,l)>0||c&&r.lo(g,c)<0)&&(a=!0)):!m&&g?(i.track({type:0,doc:g}),d=!0):m&&!g&&(i.track({type:1,doc:m}),d=!0,(l||c)&&(a=!0)),d&&(g?(u=u.add(g),s=v?s.add(h):s.delete(h)):(u=u.delete(h),s=s.delete(h)))}),Ru(this.query)||Ta(this.query))for(;u.size>this.query.limit;){var f=Ru(this.query)?u.last():u.first();u=u.delete(f.key),s=s.delete(f.key),i.track({type:1,doc:f})}return{fo:u,mo:i,Nn:a,mutatedKeys:s}},e.prototype.yo=function(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations},e.prototype.applyChanges=function(t,n,r){var i=this,o=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var s=t.mo.jr();s.sort(function(c,f){return function(h,p){var m=function(g){switch(g){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return M()}};return m(h)-m(p)}(c.type,f.type)||i.lo(c.doc,f.doc)}),this.po(r);var u=n?this.Eo():[],a=this.ho.size===0&&this.current?1:0,l=a!==this.ao;return this.ao=a,s.length!==0||l?{snapshot:new Aa(this.query,t.fo,o,s,t.mutatedKeys,a===0,l,!1),To:u}:{To:u}},e.prototype.zr=function(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({fo:this.fo,mo:new _m,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},e.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},e.prototype.po=function(t){var n=this;t&&(t.addedDocuments.forEach(function(r){return n.uo=n.uo.add(r)}),t.modifiedDocuments.forEach(function(r){}),t.removedDocuments.forEach(function(r){return n.uo=n.uo.delete(r)}),this.current=t.current)},e.prototype.Eo=function(){var t=this;if(!this.current)return[];var n=this.ho;this.ho=re(),this.fo.forEach(function(i){t.Io(i.key)&&(t.ho=t.ho.add(i.key))});var r=[];return n.forEach(function(i){t.ho.has(i)||r.push(new P1(i))}),this.ho.forEach(function(i){n.has(i)||r.push(new A1(i))}),r},e.prototype.Ao=function(t){this.uo=t.Bn,this.ho=re();var n=this._o(t.documents);return this.applyChanges(n,!0)},e.prototype.Ro=function(){return Aa.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,this.ao===0)},e}(),RN=function(e,t,n){this.query=e,this.targetId=t,this.view=n},ON=function(e){this.key=e,this.bo=!1},LN=function(){function e(t,n,r,i,o,s){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.vo={},this.Po=new io(function(u){return Lw(u)},Us),this.Vo=new Map,this.So=new Set,this.Do=new Qe(U.comparator),this.Co=new Map,this.No=new Pd,this.xo={},this.Fo=new Map,this.ko=Na.Yt(),this.onlineState="Unknown",this.Oo=void 0}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return this.Oo===!0},enumerable:!1,configurable:!0}),e}();function MN(e,t){return T(this,void 0,void 0,function(){var n,r,i,o,s,u;return I(this,function(a){switch(a.label){case 0:return n=Kd(e),(o=n.Po.get(t))?(r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Ro(),[3,4]):[3,1];case 1:return[4,xa(n.localStore,sn(t))];case 2:return s=a.sent(),u=n.sharedClientState.addLocalQueryTarget(s.targetId),r=s.targetId,[4,jd(n,t,r,u==="current")];case 3:i=a.sent(),n.isPrimaryClient&&yl(n.remoteStore,s),a.label=4;case 4:return[2,i]}})})}function jd(e,t,n,r){return T(this,void 0,void 0,function(){var i,o,s,u,a,l;return I(this,function(c){switch(c.label){case 0:return e.$o=function(f,h,p){return function(m,g,w,v){return T(this,void 0,void 0,function(){var d,y,E;return I(this,function(_){switch(_.label){case 0:return d=g.view._o(w),d.Nn?[4,ba(m.localStore,g.query,!1).then(function(x){var D=x.documents;return g.view._o(D,d)})]:[3,2];case 1:d=_.sent(),_.label=2;case 2:return y=v&&v.targetChanges.get(g.targetId),E=g.view.applyChanges(d,m.isPrimaryClient,y),[2,(jf(m,g.targetId,E.To),E.snapshot)]}})})}(e,f,h,p)},[4,ba(e.localStore,t,!0)];case 1:return i=c.sent(),o=new R1(t,i.Bn),s=o._o(i.documents),u=kd.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline"),a=o.applyChanges(s,e.isPrimaryClient,u),jf(e,n,a.To),l=new RN(t,n,o),[2,(e.Po.set(t,l),e.Vo.has(n)?e.Vo.get(n).push(t):e.Vo.set(n,[t]),a.snapshot)]}})})}function FN(e,t){return T(this,void 0,void 0,function(){var n,r,i;return I(this,function(o){switch(o.label){case 0:return n=P(e),r=n.Po.get(t),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter(function(s){return!Us(s,t)})),void n.Po.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,Hi(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),ms(n.remoteStore,r.targetId),Gi(n,r.targetId)}).catch(Gr)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return Gi(n,r.targetId),[4,Hi(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}})})}function $N(e,t,n){return T(this,void 0,void 0,function(){var r,i,o,s;return I(this,function(u){switch(u.label){case 0:r=Wd(e),u.label=1;case 1:return u.trys.push([1,5,,6]),[4,function(a,l){var c,f=P(a),h=pt.now(),p=l.reduce(function(m,g){return m.add(g.key)},re());return f.persistence.runTransaction("Locally write mutations","readwrite",function(m){return f.Mn.pn(m,p).next(function(g){c=g;for(var w=[],v=0,d=l;v<d.length;v++){var y=d[v],E=cC(y,c.get(y.key));E!=null&&w.push(new cr(y.key,E,Aw(E.toProto().mapValue),qe.exists(!0)))}return f._n.addMutationBatch(m,h,w,l)})}).then(function(m){return m.applyToLocalDocumentSet(c),{batchId:m.batchId,changes:c}})}(r.localStore,t)];case 2:return i=u.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(a,l,c){var f=a.xo[a.currentUser.toKey()];f||(f=new Qe(H)),f=f.insert(l,c),a.xo[a.currentUser.toKey()]=f}(r,i.batchId,n),[4,hr(r,i.changes)];case 3:return u.sent(),[4,so(r.remoteStore)];case 4:return u.sent(),[3,6];case 5:return o=u.sent(),s=ao(o,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}})})}function O1(e,t){return T(this,void 0,void 0,function(){var n,r;return I(this,function(i){switch(i.label){case 0:n=P(e),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,ZC(n.localStore,t)];case 2:return r=i.sent(),t.targetChanges.forEach(function(o,s){var u=n.Co.get(s);u&&(j(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?u.bo=!0:o.modifiedDocuments.size>0?j(u.bo):o.removedDocuments.size>0&&(j(u.bo),u.bo=!1))}),[4,hr(n,r,t)];case 3:return i.sent(),[3,6];case 4:return[4,Gr(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function Im(e,t,n){var r=P(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){var i=[];r.Po.forEach(function(o,s){var u=s.view.zr(t);u.snapshot&&i.push(u.snapshot)}),function(o,s){var u=P(o);u.onlineState=s;var a=!1;u.queries.forEach(function(l,c){for(var f=0,h=c.listeners;f<h.length;f++)h[f].zr(s)&&(a=!0)}),a&&Ud(u)}(r.eventManager,t),i.length&&r.vo._r(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function UN(e,t,n){return T(this,void 0,void 0,function(){var r,i,o,s,u,a;return I(this,function(l){switch(l.label){case 0:return(r=P(e)).sharedClientState.updateQueryState(t,"rejected",n),i=r.Co.get(t),(o=i&&i.key)?(s=(s=new Qe(U.comparator)).insert(o,Ge.newNoDocument(o,W.min())),u=re().add(o),a=new Td(W.min(),new Map,new Ne(H),s,u),[4,O1(r,a)]):[3,2];case 1:return l.sent(),r.Do=r.Do.remove(o),r.Co.delete(t),qd(r),[3,4];case 2:return[4,Hi(r.localStore,t,!1).then(function(){return Gi(r,t,n)}).catch(Gr)];case 3:l.sent(),l.label=4;case 4:return[2]}})})}function VN(e,t){return T(this,void 0,void 0,function(){var n,r,i;return I(this,function(o){switch(o.label){case 0:n=P(e),r=t.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,JC(n.localStore,t)];case 2:return i=o.sent(),Bd(n,r,null),zd(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,hr(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,Gr(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function jN(e,t,n){return T(this,void 0,void 0,function(){var r,i;return I(this,function(o){switch(o.label){case 0:r=P(e),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(s,u){var a=P(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",function(l){var c;return a._n.lookupMutationBatch(l,u).next(function(f){return j(f!==null),c=f.keys(),a._n.removeMutationBatch(l,f)}).next(function(){return a._n.performConsistencyCheck(l)}).next(function(){return a.Mn.pn(l,c)})})}(r.localStore,t)];case 2:return i=o.sent(),Bd(r,t,n),zd(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),[4,hr(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,Gr(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function zN(e,t){return T(this,void 0,void 0,function(){var n,r,i,o,s;return I(this,function(u){switch(u.label){case 0:fr((n=P(e)).remoteStore)||b("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),u.label=1;case 1:return u.trys.push([1,3,,4]),[4,function(a){var l=P(a);return l.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(c){return l._n.getHighestUnacknowledgedBatchId(c)})}(n.localStore)];case 2:return(r=u.sent())===-1?[2,void t.resolve()]:((i=n.Fo.get(r)||[]).push(t),n.Fo.set(r,i),[3,4]);case 3:return o=u.sent(),s=ao(o,"Initialization of waitForPendingWrites() operation failed"),t.reject(s),[3,4];case 4:return[2]}})})}function zd(e,t){(e.Fo.get(t)||[]).forEach(function(n){n.resolve()}),e.Fo.delete(t)}function Bd(e,t,n){var r=P(e),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(t);o&&(n?o.reject(n):o.resolve(),i=i.remove(t)),r.xo[r.currentUser.toKey()]=i}}function Gi(e,t,n){n===void 0&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var r=0,i=e.Vo.get(t);r<i.length;r++){var o=i[r];e.Po.delete(o),n&&e.vo.Mo(o,n)}e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach(function(s){e.No.containsKey(s)||L1(e,s)})}function L1(e,t){e.So.delete(t.path.canonicalString());var n=e.Do.get(t);n!==null&&(ms(e.remoteStore,n),e.Do=e.Do.remove(t),e.Co.delete(n),qd(e))}function jf(e,t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof A1?(e.No.addReference(o.key,t),BN(e,o)):o instanceof P1?(b("SyncEngine","Document no longer in limbo: "+o.key),e.No.removeReference(o.key,t),e.No.containsKey(o.key)||L1(e,o.key)):M()}}function BN(e,t){var n=t.key,r=n.path.canonicalString();e.Do.get(n)||e.So.has(r)||(b("SyncEngine","New document in limbo: "+n),e.So.add(r),qd(e))}function qd(e){for(;e.So.size>0&&e.Do.size<e.maxConcurrentLimboResolutions;){var t=e.So.values().next().value;e.So.delete(t);var n=new U(J.fromString(t)),r=e.ko.next();e.Co.set(r,new ON(n)),e.Do=e.Do.insert(n,r),yl(e.remoteStore,new vl(sn($s(n.path)),r,2,_t.o))}}function hr(e,t,n){return T(this,void 0,void 0,function(){var r,i,o,s;return I(this,function(u){switch(u.label){case 0:return r=P(e),i=[],o=[],s=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach(function(a,l){s.push(r.$o(l,t,n).then(function(c){if(c){r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,c.fromCache?"not-current":"current"),i.push(c);var f=YC.Pn(l.targetId,c);o.push(f)}}))}),[4,Promise.all(s)]);case 1:return u.sent(),r.vo._r(i),[4,function(a,l){return T(this,void 0,void 0,function(){var c,f,h,p,m,g,w,v,d;return I(this,function(y){switch(y.label){case 0:c=P(a),y.label=1;case 1:return y.trys.push([1,3,,4]),[4,c.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(E){return C.forEach(l,function(_){return C.forEach(_.bn,function(x){return c.persistence.referenceDelegate.addReference(E,_.targetId,x)}).next(function(){return C.forEach(_.vn,function(x){return c.persistence.referenceDelegate.removeReference(E,_.targetId,x)})})})})];case 2:return y.sent(),[3,4];case 3:if(!Hr(f=y.sent()))throw f;return b("LocalStore","Failed to update sequence numbers: "+f),[3,4];case 4:for(h=0,p=l;h<p.length;h++)m=p[h],g=m.targetId,m.fromCache||(w=c.Fn.get(g),v=w.snapshotVersion,d=w.withLastLimboFreeSnapshotVersion(v),c.Fn=c.Fn.insert(g,d));return[2]}})})}(r.localStore,o)];case 2:u.sent(),u.label=3;case 3:return[2]}})})}function qN(e,t){return T(this,void 0,void 0,function(){var n,r;return I(this,function(i){switch(i.label){case 0:return(n=P(e)).currentUser.isEqual(t)?[3,3]:(b("SyncEngine","User change. New user:",t.toKey()),[4,g1(n.localStore,t)]);case 1:return r=i.sent(),n.currentUser=t,function(o,s){o.Fo.forEach(function(u){u.forEach(function(a){a.reject(new k(S.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.Fo.clear()}(n),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),[4,hr(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function KN(e,t){var n=P(e),r=n.Co.get(t);if(r&&r.bo)return re().add(r.key);var i=re(),o=n.Vo.get(t);if(!o)return i;for(var s=0,u=o;s<u.length;s++){var a=u[s],l=n.Po.get(a);i=i.unionWith(l.view.wo)}return i}function WN(e,t){return T(this,void 0,void 0,function(){var n,r,i;return I(this,function(o){switch(o.label){case 0:return[4,ba((n=P(e)).localStore,t.query,!0)];case 1:return r=o.sent(),i=t.view.Ao(r),[2,(n.isPrimaryClient&&jf(n,t.targetId,i.To),i)]}})})}function HN(e){return T(this,void 0,void 0,function(){var t;return I(this,function(n){return[2,S1((t=P(e)).localStore).then(function(r){return hr(t,r)})]})})}function GN(e,t,n,r){return T(this,void 0,void 0,function(){var i,o;return I(this,function(s){switch(s.label){case 0:return[4,function(u,a){var l=P(u),c=P(l._n);return l.persistence.runTransaction("Lookup mutation documents","readonly",function(f){return c.jt(f,a).next(function(h){return h?l.Mn.pn(f,h):C.resolve(null)})})}((i=P(e)).localStore,t)];case 1:return(o=s.sent())===null?[3,6]:n!=="pending"?[3,3]:[4,so(i.remoteStore)];case 2:return s.sent(),[3,4];case 3:n==="acknowledged"||n==="rejected"?(Bd(i,t,r||null),zd(i,t),function(u,a){P(P(u)._n).Gt(a)}(i.localStore,t)):M(),s.label=4;case 4:return[4,hr(i,o)];case 5:return s.sent(),[3,7];case 6:b("SyncEngine","Cannot apply mutation batch with id: "+t),s.label=7;case 7:return[2]}})})}function QN(e,t){return T(this,void 0,void 0,function(){var n,r,i,o,s,u,a,l;return I(this,function(c){switch(c.label){case 0:return Kd(n=P(e)),Wd(n),t!==!0||n.Oo===!0?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,Tm(n,r.toArray())]);case 1:return i=c.sent(),n.Oo=!0,[4,Vf(n.remoteStore,!0)];case 2:for(c.sent(),o=0,s=i;o<s.length;o++)u=s[o],yl(n.remoteStore,u);return[3,7];case 3:return t!==!1||n.Oo===!1?[3,7]:(a=[],l=Promise.resolve(),n.Vo.forEach(function(f,h){n.sharedClientState.isLocalQueryTarget(h)?a.push(h):l=l.then(function(){return Gi(n,h),Hi(n.localStore,h,!0)}),ms(n.remoteStore,h)}),[4,l]);case 4:return c.sent(),[4,Tm(n,a)];case 5:return c.sent(),function(f){var h=P(f);h.Co.forEach(function(p,m){ms(h.remoteStore,m)}),h.No.ts(),h.Co=new Map,h.Do=new Qe(U.comparator)}(n),n.Oo=!1,[4,Vf(n.remoteStore,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}})})}function Tm(e,t,n){return T(this,void 0,void 0,function(){var r,i,o,s,u,a,l,c,f,h,p,m,g,w;return I(this,function(v){switch(v.label){case 0:r=P(e),i=[],o=[],s=0,u=t,v.label=1;case 1:return s<u.length?(a=u[s],l=void 0,(c=r.Vo.get(a))&&c.length!==0?[4,xa(r.localStore,sn(c[0]))]:[3,7]):[3,13];case 2:l=v.sent(),f=0,h=c,v.label=3;case 3:return f<h.length?(p=h[f],m=r.Po.get(p),[4,WN(r,m)]):[3,6];case 4:(g=v.sent()).snapshot&&o.push(g.snapshot),v.label=5;case 5:return f++,[3,3];case 6:return[3,11];case 7:return[4,E1(r.localStore,a)];case 8:return w=v.sent(),[4,xa(r.localStore,w)];case 9:return l=v.sent(),[4,jd(r,M1(w),a,!1)];case 10:v.sent(),v.label=11;case 11:i.push(l),v.label=12;case 12:return s++,[3,1];case 13:return[2,(r.vo._r(o),i)]}})})}function M1(e){return Rw(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function YN(e){var t=P(e);return P(P(t.localStore).persistence).fn()}function XN(e,t,n,r){return T(this,void 0,void 0,function(){var i,o,s;return I(this,function(u){switch(u.label){case 0:return(i=P(e)).Oo?(b("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,S1(i.localStore)];case 3:return o=u.sent(),s=Td.createSynthesizedRemoteEventForCurrentChange(t,n==="current"),[4,hr(i,o,s)];case 4:return u.sent(),[3,8];case 5:return[4,Hi(i.localStore,t,!0)];case 6:return u.sent(),Gi(i,t,r),[3,8];case 7:M(),u.label=8;case 8:return[2]}})})}function JN(e,t,n){return T(this,void 0,void 0,function(){var r,i,o,s,u,a,l,c,f,h;return I(this,function(p){switch(p.label){case 0:if(!(r=Kd(e)).Oo)return[3,10];i=0,o=t,p.label=1;case 1:return i<o.length?(s=o[i],r.Vo.has(s)?(b("SyncEngine","Adding an already active target "+s),[3,5]):[4,E1(r.localStore,s)]):[3,6];case 2:return u=p.sent(),[4,xa(r.localStore,u)];case 3:return a=p.sent(),[4,jd(r,M1(u),a.targetId,!1)];case 4:p.sent(),yl(r.remoteStore,a),p.label=5;case 5:return i++,[3,1];case 6:l=function(m){return I(this,function(g){switch(g.label){case 0:return r.Vo.has(m)?[4,Hi(r.localStore,m,!1).then(function(){ms(r.remoteStore,m),Gi(r,m)}).catch(Gr)]:[3,2];case 1:g.sent(),g.label=2;case 2:return[2]}})},c=0,f=n,p.label=7;case 7:return c<f.length?(h=f[c],[5,l(h)]):[3,10];case 8:p.sent(),p.label=9;case 9:return c++,[3,7];case 10:return[2]}})})}function Kd(e){var t=P(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=O1.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=KN.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=UN.bind(null,t),t.vo._r=AN.bind(null,t.eventManager),t.vo.Mo=PN.bind(null,t.eventManager),t}function Wd(e){var t=P(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=VN.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=jN.bind(null,t),t}var F1=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(t){return T(this,void 0,void 0,function(){return I(this,function(n){switch(n.label){case 0:return this.R=ml(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return n.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Qo(t),[2]}})})},e.prototype.Uo=function(t){return null},e.prototype.Qo=function(t){return y1(this.persistence,new m1,t.initialUser,this.R)},e.prototype.qo=function(t){return new aN(cN.bs,this.R)},e.prototype.Bo=function(t){return new _1},e.prototype.terminate=function(){return T(this,void 0,void 0,function(){return I(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},e}(),$1=function(e){function t(n,r,i){var o=this;return(o=e.call(this)||this).Ko=n,o.cacheSizeBytes=r,o.forceOwnership=i,o.synchronizeTabs=!1,o}return V(t,e),t.prototype.initialize=function(n){return T(this,void 0,void 0,function(){return I(this,function(r){switch(r.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return r.sent(),[4,nN(this.localStore)];case 2:return r.sent(),[4,this.Ko.initialize(this,n)];case 3:return r.sent(),[4,Wd(this.Ko.syncEngine)];case 4:return r.sent(),[4,so(this.Ko.remoteStore)];case 5:return r.sent(),[2]}})})},t.prototype.Qo=function(n){return y1(this.persistence,new m1,n.initialUser,this.R)},t.prototype.Uo=function(n){var r=this.persistence.referenceDelegate.garbageCollector;return new BC(r,n.asyncQueue)},t.prototype.qo=function(n){var r=Ad(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey),i=this.cacheSizeBytes!==void 0?Jt.withCacheSize(this.cacheSizeBytes):Jt.DEFAULT;return new QC(this.synchronizeTabs,r,n.clientId,i,n.asyncQueue,I1(),Mu(),this.R,this.sharedClientState,!!this.forceOwnership)},t.prototype.Bo=function(n){return new _1},t}(F1),ZN=function(e){function t(n,r){var i=this;return(i=e.call(this,n,r,!1)||this).Ko=n,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return V(t,e),t.prototype.initialize=function(n){return T(this,void 0,void 0,function(){var r,i=this;return I(this,function(o){switch(o.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return o.sent(),r=this.Ko.syncEngine,this.sharedClientState instanceof yc?(this.sharedClientState.syncEngine={ui:GN.bind(null,r),ai:XN.bind(null,r),hi:JN.bind(null,r),fn:YN.bind(null,r),ci:HN.bind(null,r)},[4,this.sharedClientState.start()]):[3,3];case 2:o.sent(),o.label=3;case 3:return[4,this.persistence.He(function(s){return T(i,void 0,void 0,function(){return I(this,function(u){switch(u.label){case 0:return[4,QN(this.Ko.syncEngine,s)];case 1:return u.sent(),this.gcScheduler&&(s&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):s||this.gcScheduler.stop()),[2]}})})})];case 4:return o.sent(),[2]}})})},t.prototype.Bo=function(n){var r=I1();if(!yc.yt(r))throw new k(S.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var i=Ad(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey);return new yc(r,n.asyncQueue,i,n.clientId,n.initialUser)},t}($1),zf=function(){function e(){}return e.prototype.initialize=function(t,n){return T(this,void 0,void 0,function(){var r=this;return I(this,function(i){switch(i.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(o){return Im(r.syncEngine,o,1)},this.remoteStore.remoteSyncer.handleCredentialChange=qN.bind(null,this.syncEngine),[4,Vf(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:i.sent(),i.label=2;case 2:return[2]}})})},e.prototype.createEventManager=function(t){return new DN},e.prototype.createDatastore=function(t){var n,r=ml(t.databaseInfo.databaseId),i=(n=t.databaseInfo,new vN(n));return function(o,s,u){return new gN(o,s,u)}(t.credentials,i,r)},e.prototype.createRemoteStore=function(t){var n,r,i,o,s,u=this;return n=this.localStore,r=this.datastore,i=t.asyncQueue,o=function(a){return Im(u.syncEngine,a,0)},s=Sm.yt()?new Sm:new hN,new EN(n,r,i,o,s)},e.prototype.createSyncEngine=function(t,n){return function(r,i,o,s,u,a,l){var c=new LN(r,i,o,s,u,a);return l&&(c.Oo=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)},e.prototype.terminate=function(){return function(t){return T(this,void 0,void 0,function(){var n;return I(this,function(r){switch(r.label){case 0:return n=P(t),b("RemoteStore","RemoteStore shutting down."),n.$r.add(5),[4,oo(n)];case 1:return r.sent(),n.Lr.shutdown(),n.Br.set("Unknown"),[2]}})})}(this.remoteStore)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gl=function(){function e(t){this.observer=t,this.muted=!1}return e.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},e.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},e.prototype.Wo=function(){this.muted=!0},e.prototype.jo=function(t,n){var r=this;this.muted||setTimeout(function(){r.muted||t(n)},0)},e}(),ex=function(){function e(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(t){return T(this,void 0,void 0,function(){var n,r=this;return I(this,function(i){switch(i.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new k(S.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(o,s){return T(this,void 0,void 0,function(){var u,a,l,c,f,h;return I(this,function(p){switch(p.label){case 0:return u=P(o),a=vs(u.R)+"/documents",l={documents:s.map(function(m){return ps(u.R,m)})},[4,u.Oi("BatchGetDocuments",a,l)];case 1:return c=p.sent(),f=new Map,c.forEach(function(m){var g=function(w,v){return"found"in v?function(d,y){j(!!y.found),y.found.name,y.found.updateTime;var E=pn(d,y.found.name),_=tt(y.found.updateTime),x=new Et({mapValue:{fields:y.found.fields}});return Ge.newFoundDocument(E,_,x)}(w,v):"missing"in v?function(d,y){j(!!y.missing),j(!!y.readTime);var E=pn(d,y.missing),_=tt(y.readTime);return Ge.newNoDocument(E,_)}(w,v):M()}(u.R,m);f.set(g.key.toString(),g)}),h=[],[2,(s.forEach(function(m){var g=f.get(m.toString());j(!!g),h.push(g)}),h)]}})})}(this.datastore,t)];case 1:return[2,((n=i.sent()).forEach(function(o){return r.recordVersion(o)}),n)]}})})},e.prototype.set=function(t,n){this.write(n.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},e.prototype.update=function(t,n){try{this.write(n.toMutation(t,this.preconditionForUpdate(t)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(t.toString())},e.prototype.delete=function(t){this.write(new Bs(t,this.precondition(t))),this.writtenDocs.add(t.toString())},e.prototype.commit=function(){return T(this,void 0,void 0,function(){var t,n=this;return I(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(i){t.delete(i.key.toString())}),t.forEach(function(i,o){var s=U.fromPath(o);n.mutations.push(new Id(s,n.precondition(s)))}),[4,function(i,o){return T(this,void 0,void 0,function(){var s,u,a;return I(this,function(l){switch(l.label){case 0:return s=P(i),u=vs(s.R)+"/documents",a={writes:o.map(function(c){return ka(s.R,c)})},[4,s.Ni("Commit",u,a)];case 1:return l.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return r.sent(),this.committed=!0,[2]}})})},e.prototype.recordVersion=function(t){var n;if(t.isFoundDocument())n=t.version;else{if(!t.isNoDocument())throw M();n=W.min()}var r=this.readVersions.get(t.key.toString());if(r){if(!n.isEqual(r))throw new k(S.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),n)},e.prototype.precondition=function(t){var n=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&n?qe.updateTime(n):qe.none()},e.prototype.preconditionForUpdate=function(t){var n=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&n){if(n.isEqual(W.min()))throw new k(S.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return qe.updateTime(n)}return qe.exists(!0)},e.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},e.prototype.ensureCommitNotCalled=function(){},e}(),tx=function(){function e(t,n,r,i){this.asyncQueue=t,this.datastore=n,this.updateFunction=r,this.deferred=i,this.ec=5,this.Zi=new Rd(this.asyncQueue,"transaction_retry")}return e.prototype.run=function(){this.nc()},e.prototype.nc=function(){var t=this;this.Zi.ji(function(){return T(t,void 0,void 0,function(){var n,r,i=this;return I(this,function(o){return n=new ex(this.datastore),(r=this.sc(n))&&r.then(function(s){i.asyncQueue.enqueueAndForget(function(){return n.commit().then(function(){i.deferred.resolve(s)}).catch(function(u){i.ic(u)})})}).catch(function(s){i.ic(s)}),[2]})})})},e.prototype.sc=function(t){try{var n=this.updateFunction(t);return!Wr(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}},e.prototype.ic=function(t){var n=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return n.nc(),Promise.resolve()})):this.deferred.reject(t)},e.prototype.rc=function(t){if(t.name==="FirebaseError"){var n=t.code;return n==="aborted"||n==="failed-precondition"||!Kw(n)}return!1},e}(),nx=function(){function e(t,n,r){var i=this;this.credentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=at.UNAUTHENTICATED,this.clientId=kw.u(),this.credentialListener=function(){},this.receivedInitialUser=new bt,this.credentials.setChangeListener(function(o){b("FirestoreClient","Received user=",o.uid),i.user=o,i.credentialListener(o),i.receivedInitialUser.resolve()})}return e.prototype.getConfiguration=function(){return T(this,void 0,void 0,function(){return I(this,function(t){switch(t.label){case 0:return[4,this.receivedInitialUser.promise];case 1:return[2,(t.sent(),{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100})]}})})},e.prototype.setCredentialChangeListener=function(t){var n=this;this.credentialListener=t,this.receivedInitialUser.promise.then(function(){return n.credentialListener(n.user)})},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new k(S.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var n=new bt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return T(t,void 0,void 0,function(){var r,i;return I(this,function(o){switch(o.label){case 0:return o.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:o.sent(),o.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:o.sent(),o.label=4;case 4:return this.credentials.removeChangeListener(),n.resolve(),[3,6];case 5:return r=o.sent(),i=ao(r,"Failed to shutdown persistence"),n.reject(i),[3,6];case 6:return[2]}})})}),n.promise},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U1(e,t){return T(this,void 0,void 0,function(){var n,r,i=this;return I(this,function(o){switch(o.label){case 0:return e.asyncQueue.verifyOperationInProgress(),b("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=o.sent(),[4,t.initialize(n)];case 2:return o.sent(),r=n.initialUser,e.setCredentialChangeListener(function(s){r.isEqual(s)||(r=s,e.asyncQueue.enqueueRetryable(function(){return T(i,void 0,void 0,function(){return I(this,function(u){switch(u.label){case 0:return[4,g1(t.localStore,s)];case 1:return u.sent(),[2]}})})}))}),t.persistence.setDatabaseDeletedListener(function(){return e.terminate()}),e.offlineComponents=t,[2]}})})}function V1(e,t){return T(this,void 0,void 0,function(){var n,r;return I(this,function(i){switch(i.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,Hd(e)];case 1:return n=i.sent(),b("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return r=i.sent(),[4,t.initialize(n,r)];case 3:return i.sent(),e.setCredentialChangeListener(function(o){return e.asyncQueue.enqueueRetryable(function(){return function(s,u){return T(this,void 0,void 0,function(){var a,l;return I(this,function(c){switch(c.label){case 0:return(a=P(s)).asyncQueue.verifyOperationInProgress(),b("RemoteStore","RemoteStore received new credentials"),l=fr(a),a.$r.add(3),[4,oo(a)];case 1:return c.sent(),l&&a.Br.set("Unknown"),[4,a.remoteSyncer.handleCredentialChange(u)];case 2:return c.sent(),a.$r.delete(3),[4,qs(a)];case 3:return c.sent(),[2]}})})}(t.remoteStore,o)})}),e.onlineComponents=t,[2]}})})}function Hd(e){return T(this,void 0,void 0,function(){return I(this,function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(b("FirestoreClient","Using default OfflineComponentProvider"),[4,U1(e,new F1)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}})})}function wl(e){return T(this,void 0,void 0,function(){return I(this,function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(b("FirestoreClient","Using default OnlineComponentProvider"),[4,V1(e,new zf)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}})})}function km(e){return Hd(e).then(function(t){return t.persistence})}function j1(e){return Hd(e).then(function(t){return t.localStore})}function Cm(e){return wl(e).then(function(t){return t.remoteStore})}function z1(e){return wl(e).then(function(t){return t.syncEngine})}function Qi(e){return T(this,void 0,void 0,function(){var t,n;return I(this,function(r){switch(r.label){case 0:return[4,wl(e)];case 1:return t=r.sent(),[2,((n=t.eventManager).onListen=MN.bind(null,t.syncEngine),n.onUnlisten=FN.bind(null,t.syncEngine),n)]}})})}function Nm(e,t,n){var r=this;n===void 0&&(n={});var i=new bt;return e.asyncQueue.enqueueAndForget(function(){return T(r,void 0,void 0,function(){var o;return I(this,function(s){switch(s.label){case 0:return o=function(u,a,l,c,f){var h=new gl({next:function(m){a.enqueueAndForget(function(){return $d(u,p)});var g=m.docs.has(l);!g&&m.fromCache?f.reject(new k(S.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&m.fromCache&&c&&c.source==="server"?f.reject(new k(S.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(m)},error:function(m){return f.reject(m)}}),p=new Vd($s(l.path),h,{includeMetadataChanges:!0,so:!0});return Fd(u,p)},[4,Qi(e)];case 1:return[2,o.apply(void 0,[s.sent(),e.asyncQueue,t,n,i])]}})})}),i.promise}function xm(e,t,n){var r=this;n===void 0&&(n={});var i=new bt;return e.asyncQueue.enqueueAndForget(function(){return T(r,void 0,void 0,function(){var o;return I(this,function(s){switch(s.label){case 0:return o=function(u,a,l,c,f){var h=new gl({next:function(m){a.enqueueAndForget(function(){return $d(u,p)}),m.fromCache&&c.source==="server"?f.reject(new k(S.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(m)},error:function(m){return f.reject(m)}}),p=new Vd(l,h,{includeMetadataChanges:!0,so:!0});return Fd(u,p)},[4,Qi(e)];case 1:return[2,o.apply(void 0,[s.sent(),e.asyncQueue,t,n,i])]}})})}),i.promise}var rx=function(e,t,n,r,i,o,s){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s},Pa=function(){function e(t,n){this.projectId=t,this.database=n||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return this.database==="(default)"},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),bm=new Map,B1=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},Dm=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(t){this.changeListener=t,t(at.UNAUTHENTICATED)},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),ix=function(){function e(t){this.token=t,this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(this.token)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(t){this.changeListener=t,t(this.token.user)},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),ox=function(){function e(t){var n=this;this.oc=null,this.currentUser=at.UNAUTHENTICATED,this.receivedInitialUser=!1,this.cc=0,this.changeListener=null,this.forceRefresh=!1,this.oc=function(){n.cc++,n.currentUser=n.uc(),n.receivedInitialUser=!0,n.changeListener&&n.changeListener(n.currentUser)},this.cc=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.oc):(this.oc(null),t.get().then(function(r){n.auth=r,n.oc&&n.auth.addAuthTokenListener(n.oc)},function(){}))}return e.prototype.getToken=function(){var t=this,n=this.cc,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(function(i){return t.cc!==n?(b("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):i?(j(typeof i.accessToken=="string"),new B1(i.accessToken,t.currentUser)):null}):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(t){this.changeListener=t,this.receivedInitialUser&&t(this.currentUser)},e.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.oc),this.oc=null,this.changeListener=null},e.prototype.uc=function(){var t=this.auth&&this.auth.getUid();return j(t===null||typeof t=="string"),new at(t)},e}(),sx=function(){function e(t,n,r){this.ac=t,this.hc=n,this.lc=r,this.type="FirstParty",this.user=at.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.hc},n=this.ac.auth.getAuthHeaderValueForFirstParty([]);return n&&(t.Authorization=n),this.lc&&(t["X-Goog-Iam-Authorization-Token"]=this.lc),t},enumerable:!1,configurable:!0}),e}(),ux=function(){function e(t,n,r){this.ac=t,this.hc=n,this.lc=r}return e.prototype.getToken=function(){return Promise.resolve(new sx(this.ac,this.hc,this.lc))},e.prototype.setChangeListener=function(t){t(at.FIRST_PARTY)},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gd(e,t,n){if(!n)throw new k(S.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function Qd(e,t){if(t===void 0)return{merge:!1};if(t.mergeFields!==void 0&&t.merge!==void 0)throw new k(S.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function q1(e,t,n,r){if(t===!0&&r===!0)throw new k(S.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function Am(e){if(!U.isDocumentKey(e))throw new k(S.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function Pm(e){if(U.isDocumentKey(e))throw new k(S.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function El(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";var t=function(n){if(n.constructor){var r=/function\s+([^\s(]+)\s*\(/.exec(n.constructor.toString());if(r&&r.length>1)return r[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return typeof e=="function"?"a function":M()}function Z(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new k(S.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=El(e);throw new k(S.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function Rm(e,t){if(t<=0)throw new k(S.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Om=function(){function e(t){var n;if(t.host===void 0){if(t.ssl!==void 0)throw new k(S.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new k(S.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,q1("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},e}(),ys=function(){function e(t,n){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Om({}),this._settingsFrozen=!1,t instanceof Pa?(this._databaseId=t,this._credentials=new Dm):(this._app=t,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new k(S.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Pa(r.options.projectId)}(t),this._credentials=new ox(n))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this._app)throw new k(S.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_terminated",{get:function(){return this._terminateTask!==void 0},enumerable:!1,configurable:!0}),e.prototype._setSettings=function(t){if(this._settingsFrozen)throw new k(S.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Om(t),t.credentials!==void 0&&(this._credentials=function(n){if(!n)return new Dm;switch(n.type){case"gapi":var r=n.client;return j(!(typeof r!="object"||r===null||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new ux(r,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new k(S.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},e.prototype._getSettings=function(){return this._settings},e.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},e.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},e.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},e.prototype._terminate=function(){return t=this,(n=bm.get(t))&&(b("ComponentProvider","Removing Datastore"),bm.delete(t),n.terminate()),Promise.resolve();var t,n},e}(),ce=function(){function e(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}return Object.defineProperty(e.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Jn(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._key)},e}(),kt=function(){function e(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this._query)},e}(),Jn=function(e){function t(n,r,i){var o=this;return(o=e.call(this,n,r,$s(i))||this)._path=i,o.type="collection",o}return V(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this._path.popLast();return n.isEmpty()?null:new ce(this.firestore,null,new U(n))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(n){return new t(this.firestore,n,this._path)},t}(kt);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K1(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=Ie(e),Gd("collection","path",t),e instanceof ys)return Pm(n=J.fromString.apply(J,ve([t],r))),new Jn(e,null,n);if(!(e instanceof ce||e instanceof Jn))throw new k(S.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Pm(n=J.fromString.apply(J,ve([e.path],r)).child(J.fromString(t))),new Jn(e.firestore,null,n)}function Fu(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=Ie(e),arguments.length===1&&(t=kw.u()),Gd("doc","path",t),e instanceof ys)return Am(n=J.fromString.apply(J,ve([t],r))),new ce(e,null,new U(n));if(!(e instanceof ce||e instanceof Jn))throw new k(S.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Am(n=e._path.child(J.fromString.apply(J,ve([t],r)))),new ce(e.firestore,e instanceof Jn?e.converter:null,new U(n))}function W1(e,t){return e=Ie(e),t=Ie(t),(e instanceof ce||e instanceof Jn)&&(t instanceof ce||t instanceof Jn)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function H1(e,t){return e=Ie(e),t=Ie(t),e instanceof kt&&t instanceof kt&&e.firestore===t.firestore&&Us(e._query,t._query)&&e.converter===t.converter}var ax=function(){function e(){var t=this;this.fc=Promise.resolve(),this.dc=[],this.wc=!1,this._c=[],this.mc=null,this.yc=!1,this.gc=[],this.Zi=new Rd(this,"async_queue_retry"),this.Ec=function(){var r=Mu();r&&b("AsyncQueue","Visibility state changed to "+r.visibilityState),t.Zi.Gi()};var n=Mu();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Ec)}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this.wc},enumerable:!1,configurable:!0}),e.prototype.enqueueAndForget=function(t){this.enqueue(t)},e.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Tc(),this.Ic(t)},e.prototype.enterRestrictedMode=function(){if(!this.wc){this.wc=!0;var t=Mu();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Ec)}},e.prototype.enqueue=function(t){return this.Tc(),this.wc?new Promise(function(n){}):this.Ic(t)},e.prototype.enqueueRetryable=function(t){var n=this;this.enqueueAndForget(function(){return n.dc.push(t),n.Ac()})},e.prototype.Ac=function(){return T(this,void 0,void 0,function(){var t,n=this;return I(this,function(r){switch(r.label){case 0:if(this.dc.length===0)return[3,5];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.dc[0]()];case 2:return r.sent(),this.dc.shift(),this.Zi.reset(),[3,4];case 3:if(!Hr(t=r.sent()))throw t;return b("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.dc.length>0&&this.Zi.ji(function(){return n.Ac()}),r.label=5;case 5:return[2]}})})},e.prototype.Ic=function(t){var n=this,r=this.fc.then(function(){return n.yc=!0,t().catch(function(i){throw n.mc=i,n.yc=!1,Se("INTERNAL UNHANDLED ERROR: ",function(o){var s=o.message||"";return o.stack&&(s=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),s}(i)),i}).then(function(i){return n.yc=!1,i})});return this.fc=r,r},e.prototype.enqueueAfterDelay=function(t,n,r){var i=this;this.Tc(),this.gc.indexOf(t)>-1&&(n=0);var o=xN.createAndSchedule(this,t,n,r,function(s){return i.Rc(s)});return this._c.push(o),o},e.prototype.Tc=function(){this.mc&&M()},e.prototype.verifyOperationInProgress=function(){},e.prototype.bc=function(){return T(this,void 0,void 0,function(){var t;return I(this,function(n){switch(n.label){case 0:return[4,t=this.fc];case 1:n.sent(),n.label=2;case 2:if(t!==this.fc)return[3,0];n.label=3;case 3:return[2]}})})},e.prototype.vc=function(t){for(var n=0,r=this._c;n<r.length;n++)if(r[n].timerId===t)return!0;return!1},e.prototype.Pc=function(t){var n=this;return this.bc().then(function(){n._c.sort(function(s,u){return s.targetTimeMs-u.targetTimeMs});for(var r=0,i=n._c;r<i.length;r++){var o=i[r];if(o.skipDelay(),t!=="all"&&o.timerId===t)break}return n.bc()})},e.prototype.Vc=function(t){this.gc.push(t)},e.prototype.Rc=function(t){var n=this._c.indexOf(t);this._c.splice(n,1)},e}();function Yi(e){return function(t,n){if(typeof t!="object"||t===null)return!1;for(var r=t,i=0,o=["next","error","complete"];i<o.length;i++){var s=o[i];if(s in r&&typeof r[s]=="function")return!0}return!1}(e)}var lx=-1,ke=function(e){function t(n,r){var i=this;return(i=e.call(this,n,r)||this).type="firestore",i._queue=new ax,i._persistenceKey="name"in n?n.name:"[DEFAULT]",i}return V(t,e),t.prototype._terminate=function(){return this._firestoreClient||G1(this),this._firestoreClient.terminate()},t}(ys);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Be(e){return e._firestoreClient||G1(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function G1(e){var t,n=e._freezeSettings(),r=function(i,o,s,u){return new rx(i,o,s,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new nx(e._credentials,e._queue,r)}function Lm(e,t,n){var r=this,i=new bt;return e.asyncQueue.enqueue(function(){return T(r,void 0,void 0,function(){var o;return I(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),[4,U1(e,n)];case 1:return s.sent(),[4,V1(e,t)];case 2:return s.sent(),i.resolve(),[3,4];case 3:if(!function(u){return u.name==="FirebaseError"?u.code===S.FAILED_PRECONDITION||u.code===S.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||u.code===22||u.code===20||u.code===11}(o=s.sent()))throw o;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+o),i.reject(o),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function Mm(e){if(e._initialized||e._terminated)throw new k(S.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rn=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=0;r<t.length;++r)if(t[r].length===0)throw new k(S.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $t(t)}return e.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},e}(),Vr=function(){function e(t){this._byteString=t}return e.fromBase64String=function(t){try{return new e(vt.fromBase64String(t))}catch(n){throw new k(S.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}},e.fromUint8Array=function(t){return new e(vt.fromUint8Array(t))},e.prototype.toBase64=function(){return this._byteString.toBase64()},e.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},e}(),Qr=function(e){this._methodName=e},Sl=function(){function e(t,n){if(!isFinite(t)||t<-90||t>90)throw new k(S.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new k(S.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},e.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},e.prototype._compareTo=function(t){return H(this._lat,t._lat)||H(this._long,t._long)},e}(),cx=/^__.*__$/,fx=function(){function e(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}return e.prototype.toMutation=function(t,n){return this.fieldMask!==null?new cr(t,this.data,this.fieldMask,n,this.fieldTransforms):new zs(t,this.data,n,this.fieldTransforms)},e}(),Q1=function(){function e(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}return e.prototype.toMutation=function(t,n){return new cr(t,this.data,this.fieldMask,n,this.fieldTransforms)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y1(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw M()}}var X1=function(){function e(t,n,r,i,o,s){this.settings=t,this.databaseId=n,this.R=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Sc(),this.fieldTransforms=o||[],this.fieldMask=s||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dc",{get:function(){return this.settings.Dc},enumerable:!1,configurable:!0}),e.prototype.Cc=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},e.prototype.Nc=function(t){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.Cc({path:r,xc:!1});return i.Fc(t),i},e.prototype.kc=function(t){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.Cc({path:r,xc:!1});return i.Sc(),i},e.prototype.Oc=function(t){return this.Cc({path:void 0,xc:!0})},e.prototype.$c=function(t){return Ra(t,this.settings.methodName,this.settings.Mc||!1,this.path,this.settings.Lc)},e.prototype.contains=function(t){return this.fieldMask.find(function(n){return t.isPrefixOf(n)})!==void 0||this.fieldTransforms.find(function(n){return t.isPrefixOf(n.field)})!==void 0},e.prototype.Sc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.Fc(this.path.get(t))},e.prototype.Fc=function(t){if(t.length===0)throw this.$c("Document fields must not be empty");if(Y1(this.Dc)&&cx.test(t))throw this.$c('Document fields cannot begin and end with "__"')},e}(),hx=function(){function e(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.R=r||ml(t)}return e.prototype.Bc=function(t,n,r,i){return i===void 0&&(i=!1),new X1({Dc:t,methodName:n,Lc:r,path:$t.emptyPath(),xc:!1,Mc:i},this.databaseId,this.R,this.ignoreUndefinedProperties)},e}();function Yr(e){var t=e._freezeSettings(),n=ml(e._databaseId);return new hx(e._databaseId,!!t.ignoreUndefinedProperties,n)}function _l(e,t,n,r,i,o){o===void 0&&(o={});var s=e.Bc(o.merge||o.mergeFields?2:0,t,n,i);Zd("Data must be an object, but it was:",s,r);var u,a,l=eE(r,s);if(o.merge)u=new Mi(s.fieldMask),a=s.fieldTransforms;else if(o.mergeFields){for(var c=[],f=0,h=o.mergeFields;f<h.length;f++){var p=Bf(t,h[f],n);if(!s.contains(p))throw new k(S.INVALID_ARGUMENT,"Field '"+p+"' is specified in your field mask but missing from your input data.");nE(c,p)||c.push(p)}u=new Mi(c),a=s.fieldTransforms.filter(function(m){return u.covers(m.field)})}else u=null,a=s.fieldTransforms;return new fx(new Et(l),u,a)}var Yd=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return V(t,e),t.prototype._toFieldTransform=function(n){if(n.Dc!==2)throw n.Dc===1?n.$c(this._methodName+"() can only appear at the top level of your update data"):n.$c(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return n.fieldMask.push(n.path),null},t.prototype.isEqual=function(n){return n instanceof t},t}(Qr);function J1(e,t,n){return new X1({Dc:3,Lc:t.settings.Lc,methodName:e._methodName,xc:n},t.databaseId,t.R,t.ignoreUndefinedProperties)}var dx=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return V(t,e),t.prototype._toFieldTransform=function(n){return new js(n.path,new Vi)},t.prototype.isEqual=function(n){return n instanceof t},t}(Qr),px=function(e){function t(n,r){var i=this;return(i=e.call(this,n)||this).qc=r,i}return V(t,e),t.prototype._toFieldTransform=function(n){var r=J1(this,n,!0),i=this.qc.map(function(s){return Xr(s,r)}),o=new $r(i);return new js(n.path,o)},t.prototype.isEqual=function(n){return this===n},t}(Qr),vx=function(e){function t(n,r){var i=this;return(i=e.call(this,n)||this).qc=r,i}return V(t,e),t.prototype._toFieldTransform=function(n){var r=J1(this,n,!0),i=this.qc.map(function(s){return Xr(s,r)}),o=new Ur(i);return new js(n.path,o)},t.prototype.isEqual=function(n){return this===n},t}(Qr),mx=function(e){function t(n,r){var i=this;return(i=e.call(this,n)||this).Uc=r,i}return V(t,e),t.prototype._toFieldTransform=function(n){var r=new ji(n.R,Uw(n.R,this.Uc));return new js(n.path,r)},t.prototype.isEqual=function(n){return this===n},t}(Qr);function Xd(e,t,n,r){var i=e.Bc(1,t,n);Zd("Data must be an object, but it was:",i,r);var o=[],s=Et.empty();Ms(r,function(a,l){var c=ep(t,a,n);l=Ie(l);var f=i.kc(c);if(l instanceof Yd)o.push(c);else{var h=Xr(l,f);h!=null&&(o.push(c),s.set(c,h))}});var u=new Mi(o);return new Q1(s,u,i.fieldTransforms)}function Jd(e,t,n,r,i,o){var s=e.Bc(1,t,n),u=[Bf(t,r,n)],a=[i];if(o.length%2!=0)throw new k(S.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var l=0;l<o.length;l+=2)u.push(Bf(t,o[l])),a.push(o[l+1]);for(var c=[],f=Et.empty(),h=u.length-1;h>=0;--h)if(!nE(c,u[h])){var p=u[h],m=a[h];m=Ie(m);var g=s.kc(p);if(m instanceof Yd)c.push(p);else{var w=Xr(m,g);w!=null&&(c.push(p),f.set(p,w))}}var v=new Mi(c);return new Q1(f,v,s.fieldTransforms)}function Z1(e,t,n,r){return r===void 0&&(r=!1),Xr(n,e.Bc(r?4:3,t))}function Xr(e,t){if(tE(e=Ie(e)))return Zd("Unsupported field value:",t,e),eE(e,t);if(e instanceof Qr)return function(n,r){if(!Y1(r.Dc))throw r.$c(n._methodName+"() can only be used with update() and set()");if(!r.path)throw r.$c(n._methodName+"() is not currently supported inside arrays");var i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.xc&&t.Dc!==4)throw t.$c("Nested arrays are not supported");return function(n,r){for(var i=[],o=0,s=0,u=n;s<u.length;s++){var a=Xr(u[s],r.Oc(o));a==null&&(a={nullValue:"NULL_VALUE"}),i.push(a),o++}return{arrayValue:{values:i}}}(e,t)}return function(n,r){if((n=Ie(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return Uw(r.R,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){var i=pt.fromDate(n);return{timestampValue:ds(r.R,i)}}if(n instanceof pt)return i=new pt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3)),{timestampValue:ds(r.R,i)};if(n instanceof Sl)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Vr)return{bytesValue:Qw(r.R,n._byteString)};if(n instanceof ce){i=r.databaseId;var o=n.firestore._databaseId;if(!o.isEqual(i))throw r.$c("Document reference is for database "+o.projectId+"/"+o.database+" but should be for database "+i.projectId+"/"+i.database);return{referenceValue:Cd(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.$c("Unsupported field value: "+El(n))}(e,t)}function eE(e,t){var n={};return Nw(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ms(e,function(r,i){var o=Xr(i,t.Nc(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function tE(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof pt||e instanceof Sl||e instanceof Vr||e instanceof ce||e instanceof Qr)}function Zd(e,t,n){if(!tE(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){var r=El(n);throw r==="an object"?t.$c(e+" a custom object"):t.$c(e+" "+r)}}function Bf(e,t,n){if((t=Ie(t))instanceof rn)return t._internalPath;if(typeof t=="string")return ep(e,t);throw Ra("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var yx=new RegExp("[~\\*/\\[\\]]");function ep(e,t,n){if(t.search(yx)>=0)throw Ra("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return new(rn.bind.apply(rn,ve([void 0],t.split("."))))()._internalPath}catch{throw Ra("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function Ra(e,t,n,r,i){var o=r&&!r.isEmpty(),s=i!==void 0,u="Function "+t+"() called with invalid data";n&&(u+=" (via `toFirestore()`)");var a="";return(o||s)&&(a+=" (found",o&&(a+=" in field "+r),s&&(a+=" in document "+i),a+=")"),new k(S.INVALID_ARGUMENT,(u+=". ")+e+a)}function nE(e,t){return e.some(function(n){return n.isEqual(t)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gs=function(){function e(t,n,r,i,o){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new ce(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return this._document!==null},e.prototype.data=function(){if(this._document){if(this._converter){var t=new gx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.toProto())}},e.prototype.get=function(t){if(this._document){var n=this._document.data.field(Oa("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}},e}(),gx=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return V(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(gs);function Oa(e,t){return typeof t=="string"?ep(e,t):t instanceof rn?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ir=function(){function e(t,n){this.hasPendingWrites=t,this.fromCache=n}return e.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},e}(),mn=function(e){function t(n,r,i,o,s,u){var a=this;return(a=e.call(this,n,r,i,o,u)||this)._firestore=n,a._firestoreImpl=n,a.metadata=s,a}return V(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(n){if(n===void 0&&(n={}),this._document){if(this._converter){var r=new Uo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,n)}return this._userDataWriter.convertValue(this._document.data.toProto(),n.serverTimestamps)}},t.prototype.get=function(n,r){if(r===void 0&&(r={}),this._document){var i=this._document.data.field(Oa("DocumentSnapshot.get",n));if(i!==null)return this._userDataWriter.convertValue(i,r.serverTimestamps)}},t}(gs),Uo=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return V(t,e),t.prototype.data=function(n){return n===void 0&&(n={}),e.prototype.data.call(this,n)},t}(mn),Mn=function(){function e(t,n,r,i){this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ir(i.hasPendingWrites,i.fromCache),this.query=r}return Object.defineProperty(e.prototype,"docs",{get:function(){var t=[];return this.forEach(function(n){return t.push(n)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.size===0},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t,n){var r=this;this._snapshot.docs.forEach(function(i){t.call(n,new Uo(r._firestore,r._userDataWriter,i.key,i,new Ir(r._snapshot.mutatedKeys.has(i.key),r._snapshot.fromCache),r.query.converter))})},e.prototype.docChanges=function(t){t===void 0&&(t={});var n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new k(S.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){var o=0;return r._snapshot.docChanges.map(function(u){var a=new Uo(r._firestore,r._userDataWriter,u.doc.key,u.doc,new Ir(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter);return u.doc,{type:"added",doc:a,oldIndex:-1,newIndex:o++}})}var s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(function(u){return i||u.type!==3}).map(function(u){var a=new Uo(r._firestore,r._userDataWriter,u.doc.key,u.doc,new Ir(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter),l=-1,c=-1;return u.type!==0&&(l=s.indexOf(u.doc.key),s=s.delete(u.doc.key)),u.type!==1&&(c=(s=s.add(u.doc)).indexOf(u.doc.key)),{type:wx(u.type),doc:a,oldIndex:l,newIndex:c}})}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges},e}();function wx(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return M()}}function rE(e,t){return e instanceof mn&&t instanceof mn?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(e._document===null?t._document===null:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Mn&&t instanceof Mn&&e._firestore===t._firestore&&H1(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iE(e){if(Ta(e)&&e.explicitOrderBy.length===0)throw new k(S.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Ks=function(){};function Nn(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++){var o=i[r];e=o._apply(e)}return e}var Ex=function(e){function t(n,r,i){var o=this;return(o=e.call(this)||this).Qc=n,o.Kc=r,o.jc=i,o.type="where",o}return V(t,e),t.prototype._apply=function(n){var r=Yr(n.firestore),i=function(o,s,u,a,l,c,f){var h;if(l.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new k(S.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+c+"' queries on FieldPath.documentId().");if(c==="in"||c==="not-in"){jm(f,c);for(var p=[],m=0,g=f;m<g.length;m++){var w=g[m];p.push(Vm(a,o,w))}h={arrayValue:{values:p}}}else h=Vm(a,o,f)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||jm(f,c),h=Z1(u,"where",f,c==="in"||c==="not-in");var v=It.create(l,c,h);return function(d,y){if(y.g()){var E=Sd(d);if(E!==null&&!E.isEqual(y.field))throw new k(S.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+E.toString()+"' and '"+y.field.toString()+"'");var _=Ed(d);_!==null&&sE(d,y.field,_)}var x=function(D,F){for(var te=0,q=D.filters;te<q.length;te++){var st=q[te];if(F.indexOf(st.op)>=0)return st.op}return null}(d,function(D){switch(D){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(y.op));if(x!==null)throw x===y.op?new k(S.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+y.op.toString()+"' filter."):new k(S.INVALID_ARGUMENT,"Invalid query. You cannot use '"+y.op.toString()+"' filters with '"+x.toString()+"' filters.")}(o,v),v}(n._query,0,r,n.firestore._databaseId,this.Qc,this.Kc,this.jc);return new kt(n.firestore,n.converter,function(o,s){var u=o.filters.concat([s]);return new In(o.path,o.collectionGroup,o.explicitOrderBy.slice(),u,o.limit,o.limitType,o.startAt,o.endAt)}(n._query,i))},t}(Ks),Sx=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).Qc=n,i.Wc=r,i.type="orderBy",i}return V(t,e),t.prototype._apply=function(n){var r=function(i,o,s){if(i.startAt!==null)throw new k(S.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new k(S.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var u=new ki(o,s);return function(a,l){if(Ed(a)===null){var c=Sd(a);c!==null&&sE(a,c,l.field)}}(i,u),u}(n._query,this.Qc,this.Wc);return new kt(n.firestore,n.converter,function(i,o){var s=i.explicitOrderBy.concat([o]);return new In(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(n._query,r))},t}(Ks),Fm=function(e){function t(n,r,i){var o=this;return(o=e.call(this)||this).type=n,o.Gc=r,o.zc=i,o}return V(t,e),t.prototype._apply=function(n){return new kt(n.firestore,n.converter,Ow(n._query,this.Gc,this.zc))},t}(Ks),$m=function(e){function t(n,r,i){var o=this;return(o=e.call(this)||this).type=n,o.Hc=r,o.Jc=i,o}return V(t,e),t.prototype._apply=function(n){var r=oE(n,this.type,this.Hc,this.Jc);return new kt(n.firestore,n.converter,function(i,o){return new In(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,o,i.endAt)}(n._query,r))},t}(Ks),Um=function(e){function t(n,r,i){var o=this;return(o=e.call(this)||this).type=n,o.Hc=r,o.Jc=i,o}return V(t,e),t.prototype._apply=function(n){var r=oE(n,this.type,this.Hc,this.Jc);return new kt(n.firestore,n.converter,function(i,o){return new In(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,o)}(n._query,r))},t}(Ks);function oE(e,t,n,r){if(n[0]=Ie(n[0]),n[0]instanceof gs)return function(o,s,u,a,l){if(!a)throw new k(S.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+u+"().");for(var c=[],f=0,h=Ui(o);f<h.length;f++){var p=h[f];if(p.field.isKeyField())c.push(Sa(s,a.key));else{var m=a.data.field(p.field);if(yd(m))throw new k(S.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+p.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(m===null){var g=p.field.canonicalString();throw new k(S.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+g+"' (used as the orderBy) does not exist.")}c.push(m)}}return new hs(c,l)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=Yr(e.firestore);return function(o,s,u,a,l,c){var f=o.explicitOrderBy;if(l.length>f.length)throw new k(S.INVALID_ARGUMENT,"Too many arguments provided to "+a+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var h=[],p=0;p<l.length;p++){var m=l[p];if(f[p].field.isKeyField()){if(typeof m!="string")throw new k(S.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+a+"(), but got a "+typeof m);if(!_d(o)&&m.indexOf("/")!==-1)throw new k(S.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+a+"() must be a plain document ID, but '"+m+"' contains a slash.");var g=o.path.child(J.fromString(m));if(!U.isDocumentKey(g))throw new k(S.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+a+"() must result in a valid document path, but '"+g+"' is not because it contains an odd number of segments.");var w=new U(g);h.push(Sa(s,w))}else{var v=Z1(u,a,m);h.push(v)}}return new hs(h,c)}(e._query,e.firestore._databaseId,i,t,n,r)}function Vm(e,t,n){if(typeof(n=Ie(n))=="string"){if(n==="")throw new k(S.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!_d(t)&&n.indexOf("/")!==-1)throw new k(S.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=t.path.child(J.fromString(n));if(!U.isDocumentKey(r))throw new k(S.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Sa(e,new U(r))}if(n instanceof ce)return Sa(e,n._key);throw new k(S.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+El(n)+".")}function jm(e,t){if(!Array.isArray(e)||e.length===0)throw new k(S.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new k(S.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function sE(e,t,n){if(!n.isEqual(t))throw new k(S.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tp=function(){function e(){}return e.prototype.convertValue=function(t,n){switch(n===void 0&&(n="none"),rr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return we(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Fi(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw M()}},e.prototype.convertObject=function(t,n){var r=this,i={};return Ms(t.fields||{},function(o,s){i[o]=r.convertValue(s,n)}),i},e.prototype.convertGeoPoint=function(t){return new Sl(we(t.latitude),we(t.longitude))},e.prototype.convertArray=function(t,n){var r=this;return(t.values||[]).map(function(i){return r.convertValue(i,n)})},e.prototype.convertServerTimestamp=function(t,n){switch(n){case"previous":var r=bw(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(cs(t));default:return null}},e.prototype.convertTimestamp=function(t){var n=nr(t);return new pt(n.seconds,n.nanos)},e.prototype.convertDocumentKey=function(t,n){var r=J.fromString(t);j(r1(r));var i=new Pa(r.get(1),r.get(3)),o=new U(r.popFirst(5));return i.isEqual(n)||Se("Document "+o+" contains a document reference within a different database ("+i.projectId+"/"+i.database+") which is not supported. It will be treated as a reference in the current database ("+n.projectId+"/"+n.database+") instead."),o},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Il(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var _x=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return V(t,e),t.prototype.convertBytes=function(n){return new Vr(n)},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return new ce(this.firestore,null,r)},t}(tp),Ix=function(){function e(t,n){this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Yr(t)}return e.prototype.set=function(t,n,r){this._verifyNotCommitted();var i=Fn(t,this._firestore),o=Il(i.converter,n,r),s=_l(this._dataReader,"WriteBatch.set",i._key,o,i.converter!==null,r);return this._mutations.push(s.toMutation(i._key,qe.none())),this},e.prototype.update=function(t,n,r){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];this._verifyNotCommitted();var s,u=Fn(t,this._firestore);return s=typeof(n=Ie(n))=="string"||n instanceof rn?Jd(this._dataReader,"WriteBatch.update",u._key,n,r,i):Xd(this._dataReader,"WriteBatch.update",u._key,n),this._mutations.push(s.toMutation(u._key,qe.exists(!0))),this},e.prototype.delete=function(t){this._verifyNotCommitted();var n=Fn(t,this._firestore);return this._mutations=this._mutations.concat(new Bs(n._key,qe.none())),this},e.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},e.prototype._verifyNotCommitted=function(){if(this._committed)throw new k(S.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fn(e,t){if((e=Ie(e)).firestore!==t)throw new k(S.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xr=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return V(t,e),t.prototype.convertBytes=function(n){return new Vr(n)},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return new ce(this.firestore,null,r)},t}(tp);function zm(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];e=Z(e,ce);var o=Z(e.firestore,ke),s=Yr(o);return ws(o,[(typeof(t=Ie(t))=="string"||t instanceof rn?Jd(s,"updateDoc",e._key,t,n,r):Xd(s,"updateDoc",e._key,t)).toMutation(e._key,qe.exists(!0))])}function uE(e){for(var t,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];e=Ie(e);var s={includeMetadataChanges:!1},u=0;typeof i[u]!="object"||Yi(i[u])||(s=i[u],u++);var a,l,c,f={includeMetadataChanges:s.includeMetadataChanges};if(Yi(i[u])){var h=i[u];i[u]=(t=h.next)===null||t===void 0?void 0:t.bind(h),i[u+1]=(n=h.error)===null||n===void 0?void 0:n.bind(h),i[u+2]=(r=h.complete)===null||r===void 0?void 0:r.bind(h)}if(e instanceof ce)l=Z(e.firestore,ke),c=$s(e._key.path),a={next:function(g){i[u]&&i[u](qf(l,e,g))},error:i[u+1],complete:i[u+2]};else{var p=Z(e,kt);l=Z(p.firestore,ke),c=p._query;var m=new xr(l);a={next:function(g){i[u]&&i[u](new Mn(l,m,p,g))},error:i[u+1],complete:i[u+2]},iE(e._query)}return function(g,w,v,d){var y=this,E=new gl(d),_=new Vd(w,E,v);return g.asyncQueue.enqueueAndForget(function(){return T(y,void 0,void 0,function(){var x;return I(this,function(D){switch(D.label){case 0:return x=Fd,[4,Qi(g)];case 1:return[2,x.apply(void 0,[D.sent(),_])]}})})}),function(){E.Wo(),g.asyncQueue.enqueueAndForget(function(){return T(y,void 0,void 0,function(){var x;return I(this,function(D){switch(D.label){case 0:return x=$d,[4,Qi(g)];case 1:return[2,x.apply(void 0,[D.sent(),_])]}})})})}}(Be(l),c,f,a)}function ws(e,t){return function(n,r){var i=this,o=new bt;return n.asyncQueue.enqueueAndForget(function(){return T(i,void 0,void 0,function(){var s;return I(this,function(u){switch(u.label){case 0:return s=$N,[4,z1(n)];case 1:return[2,s.apply(void 0,[u.sent(),r,o])]}})})}),o.promise}(Be(e),t)}function qf(e,t,n){var r=n.docs.get(t._key),i=new xr(e);return new mn(e,i,t._key,r,new Ir(n.hasPendingWrites,n.fromCache),t.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tx=function(e){function t(n,r){var i=this;return(i=e.call(this,n,r)||this)._firestore=n,i}return V(t,e),t.prototype.get=function(n){var r=this,i=Fn(n,this._firestore),o=new xr(this._firestore);return e.prototype.get.call(this,n).then(function(s){return new mn(r._firestore,o,i._key,s._document,new Ir(!1,!1),i.converter)})},t}(function(){function e(t,n){this._firestore=t,this._transaction=n,this._dataReader=Yr(t)}return e.prototype.get=function(t){var n=this,r=Fn(t,this._firestore),i=new _x(this._firestore);return this._transaction.lookup([r._key]).then(function(o){if(!o||o.length!==1)return M();var s=o[0];if(s.isFoundDocument())return new gs(n._firestore,i,s.key,s,r.converter);if(s.isNoDocument())return new gs(n._firestore,i,r._key,null,r.converter);throw M()})},e.prototype.set=function(t,n,r){var i=Fn(t,this._firestore),o=Il(i.converter,n,r),s=_l(this._dataReader,"Transaction.set",i._key,o,i.converter!==null,r);return this._transaction.set(i._key,s),this},e.prototype.update=function(t,n,r){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s,u=Fn(t,this._firestore);return s=typeof(n=Ie(n))=="string"||n instanceof rn?Jd(this._dataReader,"Transaction.update",u._key,n,r,i):Xd(this._dataReader,"Transaction.update",u._key,n),this._transaction.update(u._key,s),this},e.prototype.delete=function(t){var n=Fn(t,this._firestore);return this._transaction.delete(n._key),this},e}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bm(){if(typeof Uint8Array>"u")throw new k(S.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function qm(){if(typeof atob>"u")throw new k(S.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var aE=function(){function e(t){this._delegate=t}return e.fromBase64String=function(t){return qm(),new e(Vr.fromBase64String(t))},e.fromUint8Array=function(t){return Bm(),new e(Vr.fromUint8Array(t))},e.prototype.toBase64=function(){return qm(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return Bm(),this._delegate.toUint8Array()},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(),kx=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(t,n){return function(r,i){Mm(r=Z(r,ke));var o=Be(r),s=r._freezeSettings(),u=new zf;return Lm(o,u,new $1(u,s.cacheSizeBytes,i==null?void 0:i.forceOwnership))}(t._delegate,{forceOwnership:n})},e.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(n){Mm(n=Z(n,ke));var r=Be(n),i=n._freezeSettings(),o=new zf;return Lm(r,o,new ZN(o,i.cacheSizeBytes))}(t._delegate)},e.prototype.clearIndexedDbPersistence=function(t){return function(n){var r=this;if(n._initialized&&!n._terminated)throw new k(S.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var i=new bt;return n._queue.enqueueAndForgetEvenWhileRestricted(function(){return T(r,void 0,void 0,function(){var o;return I(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,function(u){return T(this,void 0,void 0,function(){var a;return I(this,function(l){switch(l.label){case 0:return qi.yt()?(a=u+"main",[4,qi.delete(a)]):[2,Promise.resolve()];case 1:return l.sent(),[2]}})})}(Ad(n._databaseId,n._persistenceKey))];case 1:return s.sent(),i.resolve(),[3,3];case 2:return o=s.sent(),i.reject(o),[3,3];case 3:return[2]}})})}),i.promise}(t._delegate)},e}(),lE=function(){function e(t,n,r){var i=this;this._delegate=n,this.Yc=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof Pa||(this.Xc=t)}return Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this._delegate._getSettings()),t)).merge,this._delegate._setSettings(t)},e.prototype.useEmulator=function(t,n,r){r===void 0&&(r={}),function(i,o,s,u){u===void 0&&(u={});var a=(i=Z(i,ys))._getSettings();if(a.host!=="firestore.googleapis.com"&&a.host!==o&&Df("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},a),{host:o+":"+s,ssl:!1})),u.mockUserToken){var l=GI(u.mockUserToken),c=u.mockUserToken.sub||u.mockUserToken.user_id;if(!c)throw new k(S.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");i._credentials=new ix(new B1(l,new at(c)))}}(this._delegate,t,n,r)},e.prototype.enableNetwork=function(){return function(t){var n=this;return t.asyncQueue.enqueue(function(){return T(n,void 0,void 0,function(){var r,i;return I(this,function(o){switch(o.label){case 0:return[4,km(t)];case 1:return r=o.sent(),[4,Cm(t)];case 2:return i=o.sent(),[2,(r.setNetworkEnabled(!0),function(s){var u=P(s);return u.$r.delete(0),qs(u)}(i))]}})})})}(Be(Z(this._delegate,ke)))},e.prototype.disableNetwork=function(){return function(t){var n=this;return t.asyncQueue.enqueue(function(){return T(n,void 0,void 0,function(){var r,i;return I(this,function(o){switch(o.label){case 0:return[4,km(t)];case 1:return r=o.sent(),[4,Cm(t)];case 2:return i=o.sent(),[2,(r.setNetworkEnabled(!1),function(s){return T(this,void 0,void 0,function(){var u;return I(this,function(a){switch(a.label){case 0:return(u=P(s)).$r.add(0),[4,oo(u)];case 1:return a.sent(),u.Br.set("Offline"),[2]}})})}(i))]}})})})}(Be(Z(this._delegate,ke)))},e.prototype.enablePersistence=function(t){var n=!1,r=!1;return t&&q1("synchronizeTabs",n=!!t.synchronizeTabs,"experimentalForceOwningTab",r=!!t.experimentalForceOwningTab),n?this.Yc.enableMultiTabIndexedDbPersistence(this):this.Yc.enableIndexedDbPersistence(this,r)},e.prototype.clearPersistence=function(){return this.Yc.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.Xc&&(this.Xc._removeServiceInstance("firestore"),this.Xc._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var n=this,r=new bt;return t.asyncQueue.enqueueAndForget(function(){return T(n,void 0,void 0,function(){var i;return I(this,function(o){switch(o.label){case 0:return i=zN,[4,z1(t)];case 1:return[2,i.apply(void 0,[o.sent(),r])]}})})}),r.promise}(Be(Z(this._delegate,ke)))},e.prototype.onSnapshotsInSync=function(t){return function(n,r){return function(i,o){var s=this,u=new gl(o);return i.asyncQueue.enqueueAndForget(function(){return T(s,void 0,void 0,function(){var a;return I(this,function(l){switch(l.label){case 0:return a=function(c,f){P(c).Gr.add(f),f.next()},[4,Qi(i)];case 1:return[2,a.apply(void 0,[l.sent(),u])]}})})}),function(){u.Wo(),i.asyncQueue.enqueueAndForget(function(){return T(s,void 0,void 0,function(){var a;return I(this,function(l){switch(l.label){case 0:return a=function(c,f){P(c).Gr.delete(f)},[4,Qi(i)];case 1:return[2,a.apply(void 0,[l.sent(),u])]}})})})}}(Be(n=Z(n,ke)),Yi(r)?r:{next:r})}(this._delegate,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.Xc)throw new k(S.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Xc},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new La(this,K1(this._delegate,t))}catch(n){throw Xe(n,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new br(this,Fu(this._delegate,t))}catch(n){throw Xe(n,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new Cl(this,function(n,r){if(n=Z(n,ys),Gd("collectionGroup","collection id",r),r.indexOf("/")>=0)throw new k(S.INVALID_ARGUMENT,"Invalid collection ID '"+r+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new kt(n,null,function(i){return new In(J.emptyPath(),i)}(r))}(this._delegate,t))}catch(n){throw Xe(n,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var n=this;return function(r,i){return function(o,s){var u=this,a=new bt;return o.asyncQueue.enqueueAndForget(function(){return T(u,void 0,void 0,function(){var l;return I(this,function(c){switch(c.label){case 0:return[4,function(f){return wl(f).then(function(h){return h.datastore})}(o)];case 1:return l=c.sent(),new tx(o.asyncQueue,l,s,a).run(),[2]}})})}),a.promise}(Be(r),function(o){return i(new Tx(r,o))})}(this._delegate,function(r){return t(new cE(n,r))})},e.prototype.batch=function(){var t=this;return Be(this._delegate),new fE(new Ix(this._delegate,function(n){return ws(t._delegate,n)}))},e.prototype.loadBundle=function(t){throw new k(S.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new k(S.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(),Tl=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return V(t,e),t.prototype.convertBytes=function(n){return new aE(new Vr(n))},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return br.Zc(r,this.firestore,null)},t}(tp);function Cx(e){var t;t=e,Wt.setLogLevel(t)}var cE=function(){function e(t,n){this._firestore=t,this._delegate=n,this._userDataWriter=new Tl(t)}return e.prototype.get=function(t){var n=this,r=Tr(t);return this._delegate.get(r).then(function(i){return new Es(n._firestore,new mn(n._firestore._delegate,n._userDataWriter,i._key,i._document,i.metadata,r.converter))})},e.prototype.set=function(t,n,r){var i=Tr(t);return r?(Qd("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this},e.prototype.update=function(t,n,r){for(var i,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];var u=Tr(t);return arguments.length===2?this._delegate.update(u,n):(i=this._delegate).update.apply(i,ve([u,n,r],o)),this},e.prototype.delete=function(t){var n=Tr(t);return this._delegate.delete(n),this},e}(),fE=function(){function e(t){this._delegate=t}return e.prototype.set=function(t,n,r){var i=Tr(t);return r?(Qd("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this},e.prototype.update=function(t,n,r){for(var i,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];var u=Tr(t);return arguments.length===2?this._delegate.update(u,n):(i=this._delegate).update.apply(i,ve([u,n,r],o)),this},e.prototype.delete=function(t){var n=Tr(t);return this._delegate.delete(n),this},e.prototype.commit=function(){return this._delegate.commit()},e}(),kl=function(){function e(t,n,r){this._firestore=t,this._userDataWriter=n,this._delegate=r}return e.prototype.fromFirestore=function(t,n){var r=new Uo(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Ss(this._firestore,r),n??{})},e.prototype.toFirestore=function(t,n){return n?this._delegate.toFirestore(t,n):this._delegate.toFirestore(t)},e.tu=function(t,n){var r=e.eu,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var o=i.get(n);return o||(o=new e(t,new Tl(t),n),i.set(n,o)),o},e}();kl.eu=new WeakMap;var br=function(){function e(t,n){this.firestore=t,this._delegate=n,this._userDataWriter=new Tl(t)}return e.nu=function(t,n,r){if(t.length%2!=0)throw new k(S.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new ce(n._delegate,r,new U(t)))},e.Zc=function(t,n,r){return new e(n,new ce(n._delegate,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new La(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new La(this.firestore,K1(this._delegate,t))}catch(n){throw Xe(n,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return(t=Ie(t))instanceof ce&&W1(this._delegate,t)},e.prototype.set=function(t,n){n=Qd("DocumentReference.set",n);try{return function(r,i,o){r=Z(r,ce);var s=Z(r.firestore,ke),u=Il(r.converter,i,o);return ws(s,[_l(Yr(s),"setDoc",r._key,u,r.converter!==null,o).toMutation(r._key,qe.none())])}(this._delegate,t,n)}catch(r){throw Xe(r,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,n){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];try{return arguments.length===1?zm(this._delegate,t):zm.apply(void 0,ve([this._delegate,t,n],r))}catch(o){throw Xe(o,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return ws(Z((t=this._delegate).firestore,ke),[new Bs(t._key,qe.none())]);var t},e.prototype.onSnapshot=function(){for(var t=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=hE(n),o=dE(n,function(s){return new Es(t.firestore,new mn(t.firestore._delegate,t._userDataWriter,s._key,s._document,s.metadata,t._delegate.converter))});return uE(this._delegate,i,o)},e.prototype.get=function(t){var n=this;return((t==null?void 0:t.source)==="cache"?function(r){r=Z(r,ce);var i=Z(r.firestore,ke),o=Be(i),s=new xr(i);return function(u,a){var l=this,c=new bt;return u.asyncQueue.enqueueAndForget(function(){return T(l,void 0,void 0,function(){var f;return I(this,function(h){switch(h.label){case 0:return f=function(p,m,g){return T(this,void 0,void 0,function(){var w,v;return I(this,function(d){switch(d.label){case 0:return d.trys.push([0,2,,3]),[4,function(y,E){var _=P(y);return _.persistence.runTransaction("read document","readonly",function(x){return _.Mn.mn(x,E)})}(p,m)];case 1:return(v=d.sent()).isFoundDocument()?g.resolve(v):v.isNoDocument()?g.resolve(null):g.reject(new k(S.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return w=d.sent(),v=ao(w,"Failed to get document '"+m+" from cache"),g.reject(v),[3,3];case 3:return[2]}})})},[4,j1(u)];case 1:return[2,f.apply(void 0,[h.sent(),a,c])]}})})}),c.promise}(o,r._key).then(function(u){return new mn(i,s,r._key,u,new Ir(u!==null&&u.hasLocalMutations,!0),r.converter)})}(this._delegate):(t==null?void 0:t.source)==="server"?function(r){r=Z(r,ce);var i=Z(r.firestore,ke);return Nm(Be(i),r._key,{source:"server"}).then(function(o){return qf(i,r,o)})}(this._delegate):function(r){r=Z(r,ce);var i=Z(r.firestore,ke);return Nm(Be(i),r._key).then(function(o){return qf(i,r,o)})}(this._delegate)).then(function(r){return new Es(n.firestore,new mn(n.firestore._delegate,n._userDataWriter,r._key,r._document,r.metadata,n._delegate.converter))})},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(kl.tu(this.firestore,t)):this._delegate.withConverter(null))},e}();function Xe(e,t,n){return e.message=e.message.replace(t,n),e}function hE(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];if(typeof r=="object"&&!Yi(r))return r}return{}}function dE(e,t){var n,r,i;return{next:function(o){i.next&&i.next(t(o))},error:(n=(i=Yi(e[0])?e[0]:Yi(e[1])?e[1]:typeof e[0]=="function"?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)===null||n===void 0?void 0:n.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}var Es=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"ref",{get:function(){return new br(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this._delegate.data(t)},e.prototype.get=function(t,n){return this._delegate.get(t,n)},e.prototype.isEqual=function(t){return rE(this._delegate,t._delegate)},e}(),Ss=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return V(t,e),t.prototype.data=function(n){return this._delegate.data(n)},t}(Es),Cl=function(){function e(t,n){this.firestore=t,this._delegate=n,this._userDataWriter=new Tl(t)}return e.prototype.where=function(t,n,r){try{return new e(this.firestore,Nn(this._delegate,function(i,o,s){var u=o,a=Oa("where",i);return new Ex(a,u,s)}(t,n,r)))}catch(i){throw Xe(i,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,Nn(this._delegate,function(r,i){i===void 0&&(i="asc");var o=i,s=Oa("orderBy",r);return new Sx(s,o)}(t,n)))}catch(r){throw Xe(r,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,Nn(this._delegate,function(n){return Rm("limit",n),new Fm("limit",n,"F")}(t)))}catch(n){throw Xe(n,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,Nn(this._delegate,function(n){return Rm("limitToLast",n),new Fm("limitToLast",n,"L")}(t)))}catch(n){throw Xe(n,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Nn(this._delegate,(function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new $m("startAt",r,!0)}).apply(void 0,t)))}catch(r){throw Xe(r,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Nn(this._delegate,(function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new $m("startAfter",r,!1)}).apply(void 0,t)))}catch(r){throw Xe(r,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Nn(this._delegate,(function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new Um("endBefore",r,!0)}).apply(void 0,t)))}catch(r){throw Xe(r,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Nn(this._delegate,(function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new Um("endAt",r,!1)}).apply(void 0,t)))}catch(r){throw Xe(r,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return H1(this._delegate,t._delegate)},e.prototype.get=function(t){var n=this;return((t==null?void 0:t.source)==="cache"?function(r){r=Z(r,kt);var i=Z(r.firestore,ke),o=Be(i),s=new xr(i);return function(u,a){var l=this,c=new bt;return u.asyncQueue.enqueueAndForget(function(){return T(l,void 0,void 0,function(){var f;return I(this,function(h){switch(h.label){case 0:return f=function(p,m,g){return T(this,void 0,void 0,function(){var w,v,d,y,E;return I(this,function(_){switch(_.label){case 0:return _.trys.push([0,2,,3]),[4,ba(p,m,!0)];case 1:return E=_.sent(),w=new R1(m,E.Bn),v=w._o(E.documents),d=w.applyChanges(v,!1),g.resolve(d.snapshot),[3,3];case 2:return y=_.sent(),E=ao(y,"Failed to execute query '"+m+" against cache"),g.reject(E),[3,3];case 3:return[2]}})})},[4,j1(u)];case 1:return[2,f.apply(void 0,[h.sent(),a,c])]}})})}),c.promise}(o,r._query).then(function(u){return new Mn(i,s,r,u)})}(this._delegate):(t==null?void 0:t.source)==="server"?function(r){r=Z(r,kt);var i=Z(r.firestore,ke),o=Be(i),s=new xr(i);return xm(o,r._query,{source:"server"}).then(function(u){return new Mn(i,s,r,u)})}(this._delegate):function(r){r=Z(r,kt);var i=Z(r.firestore,ke),o=Be(i),s=new xr(i);return iE(r._query),xm(o,r._query).then(function(u){return new Mn(i,s,r,u)})}(this._delegate)).then(function(r){return new Kf(n.firestore,new Mn(n.firestore._delegate,n._userDataWriter,n._delegate,r._snapshot))})},e.prototype.onSnapshot=function(){for(var t=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=hE(n),o=dE(n,function(s){return new Kf(t.firestore,new Mn(t.firestore._delegate,t._userDataWriter,t._delegate,s._snapshot))});return uE(this._delegate,i,o)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(kl.tu(this.firestore,t)):this._delegate.withConverter(null))},e}(),Nx=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new Ss(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(),Kf=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"query",{get:function(){return new Cl(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(n){return new Ss(t._firestore,n)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var n=this;return this._delegate.docChanges(t).map(function(r){return new Nx(n._firestore,r)})},e.prototype.forEach=function(t,n){var r=this;this._delegate.forEach(function(i){t.call(n,new Ss(r._firestore,i))})},e.prototype.isEqual=function(t){return rE(this._delegate,t._delegate)},e}(),La=function(e){function t(n,r){var i=this;return(i=e.call(this,n,r)||this).firestore=n,i._delegate=r,i}return V(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this._delegate.parent;return n?new br(this.firestore,n):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(n){try{return new br(this.firestore,n===void 0?Fu(this._delegate):Fu(this._delegate,n))}catch(r){throw Xe(r,"doc()","CollectionReference.doc()")}},t.prototype.add=function(n){var r=this;return function(i,o){var s=Z(i.firestore,ke),u=Fu(i),a=Il(i.converter,o);return ws(s,[_l(Yr(i.firestore),"addDoc",u._key,a,i.converter!==null,{}).toMutation(u._key,qe.exists(!1))]).then(function(){return u})}(this._delegate,n).then(function(i){return new br(r.firestore,i)})},t.prototype.isEqual=function(n){return W1(this._delegate,n._delegate)},t.prototype.withConverter=function(n){return new t(this.firestore,n?this._delegate.withConverter(kl.tu(this.firestore,n)):this._delegate.withConverter(null))},t}(Cl);function Tr(e){return Z(e,ce)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xx=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._delegate=new(rn.bind.apply(rn,ve([void 0],t)))}return e.documentId=function(){return new e($t.keyField().canonicalString())},e.prototype.isEqual=function(t){return(t=Ie(t))instanceof rn&&this._delegate._internalPath.isEqual(t._internalPath)},e}(),bx=function(){function e(t){this._delegate=t}return e.serverTimestamp=function(){var t=new dx("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new Yd("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new px("arrayUnion",i)}).apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new vx("arrayRemove",i)}).apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(r){return new mx("increment",r)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e}(),Dx={Firestore:lE,GeoPoint:Sl,Timestamp:pt,Blob:aE,Transaction:cE,WriteBatch:fE,DocumentReference:br,DocumentSnapshot:Es,Query:Cl,QueryDocumentSnapshot:Ss,QuerySnapshot:Kf,CollectionReference:La,FieldPath:xx,FieldValue:bx,setLogLevel:Cx,CACHE_SIZE_UNLIMITED:lx};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ax(e){(function(t,n){t.INTERNAL.registerComponent(new el("firestore",function(r){var i=r.getProvider("app").getImmediate();return n(i,r.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},Dx)))})(e,function(t,n){return new lE(t,new ke(t,n),new kx)}),e.registerVersion("@firebase/firestore","2.3.0")}Ax(xs);const Px={apiKey:"AIzaSyCYjdoCMXkFZEv113TSFIGSDfLkSgmMU40",authDomain:"coolinari-app.firebaseapp.com",projectId:"coolinari-app",storageBucket:"coolinari-app.appspot.com",messagingSenderId:"205377291798",appId:"1:205377291798:web:b7da42d25b155a08a89737"};xs.initializeApp(Px);const pE=xs.firestore();function Rx({receptes:e}){return e.length===0?$.jsx("div",{className:"error",children:"Hi ha hagut un error..."}):$.jsx("div",{className:"recipe-list",children:e.map(t=>$.jsxs("div",{className:"recepta",children:[$.jsx("h1",{children:t.titol}),$.jsx("p",{children:t.temps}),$.jsxs("div",{className:"llista",children:[$.jsx("div",{className:"fila01",children:t.ingredients.map(n=>$.jsx("p",{children:[n]},n))}),$.jsx("div",{className:"fila03",children:t.instruccions.map(n=>$.jsx("p",{children:`. ${[n]}`},n))})]}),$.jsx("div",{className:"separador"})]},t.id))})}const Ox=()=>{const[e,t]=A.useState(null),[n,r]=A.useState(!1),[i,o]=A.useState(!1);return A.useEffect(()=>{r(!0),pE.collection("receptes").get().then(s=>{if(s.empty)o("No recipes to load"),r(!1);else{let u=[];s.docs.forEach(a=>{u.push({...a.data(),id:a.id})}),t(u),r(!1)}}).catch(s=>{o(s.message),r(!1)})},[]),$.jsxs("div",{className:"contingut",children:[i&&$.jsx("p",{className:"error",children:i}),n&&$.jsx("p",{className:"loading",children:"Loading..."}),e&&$.jsx(Rx,{receptes:e})]})},Lx=()=>{const[e,t]=A.useState(""),[n,r]=A.useState(""),[i,o]=A.useState(""),[s,u]=A.useState([]),[a,l]=A.useState(""),[c,f]=A.useState([]),h=A.useRef(null),p=A.useRef(null),m=d0(),g=async d=>{d.preventDefault();const y={titol:e,ingredients:s,instruccions:c,temps:n};try{await pE.collection("receptes").add(y),m("/")}catch(E){console.log(E)}},w=d=>{d.preventDefault();const y=i.trim();y&&!s.includes(y)&&u(E=>[...E,i]),o(""),h.current.focus()},v=d=>{d.preventDefault();const y=a.trim();console.log("step: ",y),y&&!c.includes(y)&&f(E=>[...E,a]),l(""),console.log("pas: ",a),p.current.focus()};return $.jsx("div",{className:"contingut",children:$.jsxs("form",{onSubmit:g,children:[$.jsxs("label",{children:[$.jsx("span",{children:"Títol:"}),$.jsx("input",{type:"text",onChange:d=>t(d.target.value),value:e,required:!0})]}),$.jsx("br",{}),$.jsxs("label",{children:[$.jsx("span",{children:"Ingredients:"}),$.jsxs("div",{className:"ingredients",children:[$.jsx("input",{type:"text",onChange:d=>o(d.target.value),value:i,ref:h}),$.jsx("button",{onClick:w,className:"btn",children:"Afegir"})]})]}),$.jsx("p",{children:s.map(d=>$.jsxs("em",{children:[d,", "]},d))}),$.jsx("br",{}),$.jsxs("label",{children:[$.jsx("span",{children:"Instruccions:"}),$.jsxs("div",{className:"instruccions",children:[$.jsx("input",{type:"text",onChange:d=>l(d.target.value),value:a,ref:p}),$.jsx("button",{onClick:v,className:"btn",children:"Afegir"})]})]}),$.jsx("p",{children:c.map(d=>$.jsxs("em",{children:[d,", "]},d))}),$.jsxs("label",{children:[$.jsx("span",{children:"Temps:"}),$.jsx("input",{type:"number",onChange:d=>r(d.target.value),value:n,required:!0})]}),$.jsx("button",{className:"btn",children:"submit"})]})})},Mx=()=>$.jsx("div",{className:"navega",children:$.jsxs("nav",{className:"navega_ul",children:[$.jsx(gv,{to:"/",className:"marca",children:$.jsx("h1",{children:"coolinari"})}),$.jsx("p",{children:"|"}),$.jsx(gv,{to:"/crea",children:"Crea recepta"})]})});function Fx(){return $.jsx("div",{className:"App",children:$.jsxs(UI,{children:[$.jsx(Mx,{}),$.jsxs(PI,{children:[$.jsx(df,{path:"/",element:$.jsx(Ox,{})}),$.jsx(df,{path:"/crea",element:$.jsx(Lx,{})})]})]})})}gc.createRoot(document.getElementById("root")).render($.jsx(ey.StrictMode,{children:$.jsx(Fx,{})}));
